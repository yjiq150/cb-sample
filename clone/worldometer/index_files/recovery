(function(){
/*
 Copyright (c) 2020, Blockthrough All rights reserved.
   See license text at: https://blockthrough.com/license
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(z){return z.raw=z};$jscomp.createTemplateTagFirstArgWithRaw=function(z,P){z.raw=P;return z};$jscomp.arrayIteratorImpl=function(z){var P=0;return function(){return P<z.length?{done:!1,value:z[P++]}:{done:!0}}};$jscomp.arrayIterator=function(z){return{next:$jscomp.arrayIteratorImpl(z)}};$jscomp.makeIterator=function(z){var P="undefined"!=typeof Symbol&&Symbol.iterator&&z[Symbol.iterator];return P?P.call(z):$jscomp.arrayIterator(z)};
$jscomp.arrayFromIterator=function(z){for(var P,V=[];!(P=z.next()).done;)V.push(P.value);return V};$jscomp.arrayFromIterable=function(z){return z instanceof Array?z:$jscomp.arrayFromIterator($jscomp.makeIterator(z))};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(z,P,V){if(z==Array.prototype||z==Object.prototype)return z;z[P]=V.value;return z};$jscomp.getGlobal=function(z){z=["object"==typeof globalThis&&globalThis,z,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var P=0;P<z.length;++P){var V=z[P];if(V&&V.Math==Math)return V}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(z,P){var V=$jscomp.propertyToPolyfillSymbol[P];if(null==V)return z[P];V=z[V];return void 0!==V?V:z[P]};
$jscomp.polyfill=function(z,P,V,U){P&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(z,P,V,U):$jscomp.polyfillUnisolated(z,P,V,U))};$jscomp.polyfillUnisolated=function(z,P,V,U){V=$jscomp.global;z=z.split(".");for(U=0;U<z.length-1;U++){var da=z[U];if(!(da in V))return;V=V[da]}z=z[z.length-1];U=V[z];P=P(U);P!=U&&null!=P&&$jscomp.defineProperty(V,z,{configurable:!0,writable:!0,value:P})};
$jscomp.polyfillIsolated=function(z,P,V,U){var da=z.split(".");z=1===da.length;U=da[0];U=!z&&U in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var ra=0;ra<da.length-1;ra++){var ca=da[ra];if(!(ca in U))return;U=U[ca]}da=da[da.length-1];V=$jscomp.IS_SYMBOL_NATIVE&&"es6"===V?U[da]:null;P=P(V);null!=P&&(z?$jscomp.defineProperty($jscomp.polyfills,da,{configurable:!0,writable:!0,value:P}):P!==V&&($jscomp.propertyToPolyfillSymbol[da]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(da):$jscomp.POLYFILL_PREFIX+
da,da=$jscomp.propertyToPolyfillSymbol[da],$jscomp.defineProperty(U,da,{configurable:!0,writable:!0,value:P})))};$jscomp.underscoreProtoCanBeSet=function(){var z={a:!0},P={};try{return P.__proto__=z,P.a}catch(V){}return!1};$jscomp.setPrototypeOf=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(z,P){z.__proto__=P;if(z.__proto__!==P)throw new TypeError(z+" is not extensible");return z}:null;$jscomp.generator={};
$jscomp.generator.ensureIteratorResultIsObject_=function(z){if(!(z instanceof Object))throw new TypeError("Iterator result "+z+" is not an object");};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};
$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(z){this.yieldResult=z};
$jscomp.generator.Context.prototype.throw_=function(z){this.abruptCompletion_={exception:z,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype.return=function(z){this.abruptCompletion_={return:z};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(z){this.abruptCompletion_={jumpTo:z};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(z,P){this.nextAddress=P;return{value:z}};
$jscomp.generator.Context.prototype.yieldAll=function(z,P){z=$jscomp.makeIterator(z);var V=z.next();$jscomp.generator.ensureIteratorResultIsObject_(V);if(V.done)this.yieldResult=V.value,this.nextAddress=P;else return this.yieldAllIterator_=z,this.yield(V.value,P)};$jscomp.generator.Context.prototype.jumpTo=function(z){this.nextAddress=z};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};
$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(z,P){this.catchAddress_=z;void 0!=P&&(this.finallyAddress_=P)};$jscomp.generator.Context.prototype.setFinallyBlock=function(z){this.catchAddress_=0;this.finallyAddress_=z||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(z,P){this.nextAddress=z;this.catchAddress_=P||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(z){this.catchAddress_=z||0;z=this.abruptCompletion_.exception;this.abruptCompletion_=null;return z};$jscomp.generator.Context.prototype.enterFinallyBlock=function(z,P,V){V?this.finallyContexts_[V]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=z||0;this.finallyAddress_=P||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(z,P){P=this.finallyContexts_.splice(P||0)[0];if(P=this.abruptCompletion_=this.abruptCompletion_||P){if(P.isException)return this.jumpToErrorHandler_();void 0!=P.jumpTo&&this.finallyAddress_<P.jumpTo?(this.nextAddress=P.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=z};$jscomp.generator.Context.prototype.forIn=function(z){return new $jscomp.generator.Context.PropertyIterator(z)};
$jscomp.generator.Context.PropertyIterator=function(z){this.object_=z;this.properties_=[];for(var P in z)this.properties_.push(P);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var z=this.properties_.pop();if(z in this.object_)return z}return null};$jscomp.generator.Engine_=function(z){this.context_=new $jscomp.generator.Context;this.program_=z};
$jscomp.generator.Engine_.prototype.next_=function(z){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,z,this.context_.next_);this.context_.next_(z);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(z){this.context_.start_();var P=this.context_.yieldAllIterator_;if(P)return this.yieldAllStep_("return"in P?P["return"]:function(V){return{value:V,done:!0}},z,this.context_.return);this.context_.return(z);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(z){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],z,this.context_.next_);this.context_.throw_(z);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(z,P,V){try{var U=z.call(this.context_.yieldAllIterator_,P);$jscomp.generator.ensureIteratorResultIsObject_(U);if(!U.done)return this.context_.stop_(),U;var da=U.value}catch(ra){return this.context_.yieldAllIterator_=null,this.context_.throw_(ra),this.nextStep_()}this.context_.yieldAllIterator_=null;V.call(this.context_,da);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var z=this.program_(this.context_);if(z)return this.context_.stop_(),{value:z.value,done:!1}}catch(P){this.context_.yieldResult=void 0,this.context_.throw_(P)}this.context_.stop_();if(this.context_.abruptCompletion_){z=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(z.isException)throw z.exception;return{value:z.return,done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(z){this.next=function(P){return z.next_(P)};this.throw=function(P){return z.throw_(P)};this.return=function(P){return z.return_(P)};this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(z,P){P=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(P));$jscomp.setPrototypeOf&&z.prototype&&$jscomp.setPrototypeOf(P,z.prototype);return P};
$jscomp.asyncExecutePromiseGenerator=function(z){function P(U){return z.next(U)}function V(U){return z.throw(U)}return new Promise(function(U,da){function ra(ca){ca.done?U(ca.value):Promise.resolve(ca.value).then(P,V).then(ra,da)}ra(z.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(z){return $jscomp.asyncExecutePromiseGenerator(z())};$jscomp.asyncExecutePromiseGeneratorProgram=function(z){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(z)))};
$jscomp.initSymbol=function(){};$jscomp.polyfill("Symbol",function(z){if(z)return z;var P=function(da,ra){this.$jscomp$symbol$id_=da;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:ra})};P.prototype.toString=function(){return this.$jscomp$symbol$id_};var V=0,U=function(da){if(this instanceof U)throw new TypeError("Symbol is not a constructor");return new P("jscomp_symbol_"+(da||"")+"_"+V++,da)};return U},"es6","es3");$jscomp.initSymbolIterator=function(){};
$jscomp.polyfill("Symbol.iterator",function(z){if(z)return z;z=Symbol("Symbol.iterator");for(var P="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),V=0;V<P.length;V++){var U=$jscomp.global[P[V]];"function"===typeof U&&"function"!=typeof U.prototype[z]&&$jscomp.defineProperty(U.prototype,z,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return z},"es6",
"es3");$jscomp.initSymbolAsyncIterator=function(){};$jscomp.iteratorPrototype=function(z){z={next:z};z[Symbol.iterator]=function(){return this};return z};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(z){function P(){this.batch_=null}function V(ca){return ca instanceof da?ca:new da(function(za,T){za(ca)})}if(z&&!$jscomp.FORCE_POLYFILL_PROMISE)return z;P.prototype.asyncExecute=function(ca){if(null==this.batch_){this.batch_=[];var za=this;this.asyncExecuteFunction(function(){za.executeBatch_()})}this.batch_.push(ca)};var U=$jscomp.global.setTimeout;P.prototype.asyncExecuteFunction=function(ca){U(ca,0)};P.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var ca=
this.batch_;this.batch_=[];for(var za=0;za<ca.length;++za){var T=ca[za];ca[za]=null;try{T()}catch(D){this.asyncThrow_(D)}}}this.batch_=null};P.prototype.asyncThrow_=function(ca){this.asyncExecuteFunction(function(){throw ca;})};var da=function(ca){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var za=this.createResolveAndReject_();try{ca(za.resolve,za.reject)}catch(T){za.reject(T)}};da.prototype.createResolveAndReject_=function(){function ca(D){return function(na){T||(T=!0,D.call(za,
na))}}var za=this,T=!1;return{resolve:ca(this.resolveTo_),reject:ca(this.reject_)}};da.prototype.resolveTo_=function(ca){if(ca===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(ca instanceof da)this.settleSameAsPromise_(ca);else{a:switch(typeof ca){case "object":var za=null!=ca;break a;case "function":za=!0;break a;default:za=!1}za?this.resolveToNonPromiseObj_(ca):this.fulfill_(ca)}};da.prototype.resolveToNonPromiseObj_=function(ca){var za=void 0;try{za=ca.then}catch(T){this.reject_(T);
return}"function"==typeof za?this.settleSameAsThenable_(za,ca):this.fulfill_(ca)};da.prototype.reject_=function(ca){this.settle_(2,ca)};da.prototype.fulfill_=function(ca){this.settle_(1,ca)};da.prototype.settle_=function(ca,za){if(0!=this.state_)throw Error("Cannot settle("+ca+", "+za+"): Promise already settled in state"+this.state_);this.state_=ca;this.result_=za;this.executeOnSettledCallbacks_()};da.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var ca=0;ca<
this.onSettledCallbacks_.length;++ca)ra.asyncExecute(this.onSettledCallbacks_[ca]);this.onSettledCallbacks_=null}};var ra=new P;da.prototype.settleSameAsPromise_=function(ca){var za=this.createResolveAndReject_();ca.callWhenSettled_(za.resolve,za.reject)};da.prototype.settleSameAsThenable_=function(ca,za){var T=this.createResolveAndReject_();try{ca.call(za,T.resolve,T.reject)}catch(D){T.reject(D)}};da.prototype.then=function(ca,za){function T(sa,fb){return"function"==typeof sa?function(nb){try{D(sa(nb))}catch(ib){na(ib)}}:
fb}var D,na,Ca=new da(function(sa,fb){D=sa;na=fb});this.callWhenSettled_(T(ca,D),T(za,na));return Ca};da.prototype.catch=function(ca){return this.then(void 0,ca)};da.prototype.callWhenSettled_=function(ca,za){function T(){switch(D.state_){case 1:ca(D.result_);break;case 2:za(D.result_);break;default:throw Error("Unexpected state: "+D.state_);}}var D=this;null==this.onSettledCallbacks_?ra.asyncExecute(T):this.onSettledCallbacks_.push(T)};da.resolve=V;da.reject=function(ca){return new da(function(za,
T){T(ca)})};da.race=function(ca){return new da(function(za,T){for(var D=$jscomp.makeIterator(ca),na=D.next();!na.done;na=D.next())V(na.value).callWhenSettled_(za,T)})};da.all=function(ca){var za=$jscomp.makeIterator(ca),T=za.next();return T.done?V([]):new da(function(D,na){function Ca(nb){return function(ib){sa[nb]=ib;fb--;0==fb&&D(sa)}}var sa=[],fb=0;do sa.push(void 0),fb++,V(T.value).callWhenSettled_(Ca(sa.length-1),na),T=za.next();while(!T.done)})};return da},"es6","es3");
$jscomp.polyfill("Object.setPrototypeOf",function(z){return z||$jscomp.setPrototypeOf},"es6","es5");$jscomp.checkEs6ConformanceViaProxy=function(){try{var z={},P=Object.create(new $jscomp.global.Proxy(z,{get:function(V,U,da){return V==z&&"q"==U&&da==P}}));return!0===P.q}catch(V){return!1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();
$jscomp.owns=function(z,P){return Object.prototype.hasOwnProperty.call(z,P)};
$jscomp.polyfill("WeakMap",function(z){function P(){if(!z||!Object.seal)return!1;try{var D=Object.seal({}),na=Object.seal({}),Ca=new z([[D,2],[na,3]]);if(2!=Ca.get(D)||3!=Ca.get(na))return!1;Ca.delete(D);Ca.set(na,4);return!Ca.has(D)&&4==Ca.get(na)}catch(sa){return!1}}function V(){}function U(D){var na=typeof D;return"object"===na&&null!==D||"function"===na}function da(D){if(!$jscomp.owns(D,ca)){var na=new V;$jscomp.defineProperty(D,ca,{value:na})}}function ra(D){if(!$jscomp.ISOLATE_POLYFILLS){var na=
Object[D];na&&(Object[D]=function(Ca){if(Ca instanceof V)return Ca;Object.isExtensible(Ca)&&da(Ca);return na(Ca)})}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(z&&$jscomp.ES6_CONFORMANCE)return z}else if(P())return z;var ca="$jscomp_hidden_"+Math.random();ra("freeze");ra("preventExtensions");ra("seal");var za=0,T=function(D){this.id_=(za+=Math.random()+1).toString();if(D){D=$jscomp.makeIterator(D);for(var na;!(na=D.next()).done;)na=na.value,this.set(na[0],na[1])}};T.prototype.set=function(D,
na){if(!U(D))throw Error("Invalid WeakMap key");da(D);if(!$jscomp.owns(D,ca))throw Error("WeakMap key fail: "+D);D[ca][this.id_]=na;return this};T.prototype.get=function(D){return U(D)&&$jscomp.owns(D,ca)?D[ca][this.id_]:void 0};T.prototype.has=function(D){return U(D)&&$jscomp.owns(D,ca)&&$jscomp.owns(D[ca],this.id_)};T.prototype.delete=function(D){return U(D)&&$jscomp.owns(D,ca)&&$jscomp.owns(D[ca],this.id_)?delete D[ca][this.id_]:!1};return T},"es6","es3");$jscomp.MapEntry=function(){};
$jscomp.polyfill("Map",function(z){function P(){if($jscomp.ASSUME_NO_NATIVE_MAP||!z||"function"!=typeof z||!z.prototype.entries||"function"!=typeof Object.seal)return!1;try{var T=Object.seal({x:4}),D=new z($jscomp.makeIterator([[T,"s"]]));if("s"!=D.get(T)||1!=D.size||D.get({x:4})||D.set({x:4},"t")!=D||2!=D.size)return!1;var na=D.entries(),Ca=na.next();if(Ca.done||Ca.value[0]!=T||"s"!=Ca.value[1])return!1;Ca=na.next();return Ca.done||4!=Ca.value[0].x||"t"!=Ca.value[1]||!na.next().done?!1:!0}catch(sa){return!1}}
if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(z&&$jscomp.ES6_CONFORMANCE)return z}else if(P())return z;var V=new WeakMap,U=function(T){this.data_={};this.head_=ca();this.size=0;if(T){T=$jscomp.makeIterator(T);for(var D;!(D=T.next()).done;)D=D.value,this.set(D[0],D[1])}};U.prototype.set=function(T,D){T=0===T?0:T;var na=da(this,T);na.list||(na.list=this.data_[na.id]=[]);na.entry?na.entry.value=D:(na.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:T,value:D},na.list.push(na.entry),
this.head_.previous.next=na.entry,this.head_.previous=na.entry,this.size++);return this};U.prototype.delete=function(T){T=da(this,T);return T.entry&&T.list?(T.list.splice(T.index,1),T.list.length||delete this.data_[T.id],T.entry.previous.next=T.entry.next,T.entry.next.previous=T.entry.previous,T.entry.head=null,this.size--,!0):!1};U.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=ca();this.size=0};U.prototype.has=function(T){return!!da(this,T).entry};U.prototype.get=function(T){return(T=
da(this,T).entry)&&T.value};U.prototype.entries=function(){return ra(this,function(T){return[T.key,T.value]})};U.prototype.keys=function(){return ra(this,function(T){return T.key})};U.prototype.values=function(){return ra(this,function(T){return T.value})};U.prototype.forEach=function(T,D){for(var na=this.entries(),Ca;!(Ca=na.next()).done;)Ca=Ca.value,T.call(D,Ca[1],Ca[0],this)};U.prototype[Symbol.iterator]=U.prototype.entries;var da=function(T,D){var na=D&&typeof D;"object"==na||"function"==na?V.has(D)?
na=V.get(D):(na=""+ ++za,V.set(D,na)):na="p_"+D;var Ca=T.data_[na];if(Ca&&$jscomp.owns(T.data_,na))for(T=0;T<Ca.length;T++){var sa=Ca[T];if(D!==D&&sa.key!==sa.key||D===sa.key)return{id:na,list:Ca,index:T,entry:sa}}return{id:na,list:Ca,index:-1,entry:void 0}},ra=function(T,D){var na=T.head_;return $jscomp.iteratorPrototype(function(){if(na){for(;na.head!=T.head_;)na=na.previous;for(;na.next!=na.head;)return na=na.next,{done:!1,value:D(na)};na=null}return{done:!0,value:void 0}})},ca=function(){var T=
{};return T.previous=T.next=T.head=T},za=0;return U},"es6","es3");
$jscomp.polyfill("Set",function(z){function P(){if($jscomp.ASSUME_NO_NATIVE_SET||!z||"function"!=typeof z||!z.prototype.entries||"function"!=typeof Object.seal)return!1;try{var U=Object.seal({x:4}),da=new z($jscomp.makeIterator([U]));if(!da.has(U)||1!=da.size||da.add(U)!=da||1!=da.size||da.add({x:4})!=da||2!=da.size)return!1;var ra=da.entries(),ca=ra.next();if(ca.done||ca.value[0]!=U||ca.value[1]!=U)return!1;ca=ra.next();return ca.done||ca.value[0]==U||4!=ca.value[0].x||ca.value[1]!=ca.value[0]?!1:
ra.next().done}catch(za){return!1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(z&&$jscomp.ES6_CONFORMANCE)return z}else if(P())return z;var V=function(U){this.map_=new Map;if(U){U=$jscomp.makeIterator(U);for(var da;!(da=U.next()).done;)this.add(da.value)}this.size=this.map_.size};V.prototype.add=function(U){U=0===U?0:U;this.map_.set(U,U);this.size=this.map_.size;return this};V.prototype.delete=function(U){U=this.map_.delete(U);this.size=this.map_.size;return U};V.prototype.clear=function(){this.map_.clear();
this.size=0};V.prototype.has=function(U){return this.map_.has(U)};V.prototype.entries=function(){return this.map_.entries()};V.prototype.values=function(){return this.map_.values()};V.prototype.keys=V.prototype.values;V.prototype[Symbol.iterator]=V.prototype.values;V.prototype.forEach=function(U,da){var ra=this;this.map_.forEach(function(ca){return U.call(da,ca,ca,ra)})};return V},"es6","es3");
$jscomp.polyfill("Object.is",function(z){return z?z:function(P,V){return P===V?0!==P||1/P===1/V:P!==P&&V!==V}},"es6","es3");$jscomp.polyfill("Array.prototype.includes",function(z){return z?z:function(P,V){var U=this;U instanceof String&&(U=String(U));var da=U.length;V=V||0;for(0>V&&(V=Math.max(V+da,0));V<da;V++){var ra=U[V];if(ra===P||Object.is(ra,P))return!0}return!1}},"es7","es3");
$jscomp.checkStringArgs=function(z,P,V){if(null==z)throw new TypeError("The 'this' value for String.prototype."+V+" must not be null or undefined");if(P instanceof RegExp)throw new TypeError("First argument to String.prototype."+V+" must not be a regular expression");return z+""};$jscomp.polyfill("String.prototype.includes",function(z){return z?z:function(P,V){return-1!==$jscomp.checkStringArgs(this,P,"includes").indexOf(P,V||0)}},"es6","es3");
$jscomp.polyfill("Object.entries",function(z){return z?z:function(P){var V=[],U;for(U in P)$jscomp.owns(P,U)&&V.push([U,P[U]]);return V}},"es8","es3");$jscomp.polyfill("String.prototype.endsWith",function(z){return z?z:function(P,V){var U=$jscomp.checkStringArgs(this,P,"endsWith");P+="";void 0===V&&(V=U.length);V=Math.max(0,Math.min(V|0,U.length));for(var da=P.length;0<da&&0<V;)if(U[--V]!=P[--da])return!1;return 0>=da}},"es6","es3");
$jscomp.iteratorFromArray=function(z,P){z instanceof String&&(z+="");var V=0,U={next:function(){if(V<z.length){var da=V++;return{value:P(da,z[da]),done:!1}}U.next=function(){return{done:!0,value:void 0}};return U.next()}};U[Symbol.iterator]=function(){return U};return U};$jscomp.polyfill("Array.prototype.keys",function(z){return z?z:function(){return $jscomp.iteratorFromArray(this,function(P){return P})}},"es6","es3");
$jscomp.findInternal=function(z,P,V){z instanceof String&&(z=String(z));for(var U=z.length,da=0;da<U;da++){var ra=z[da];if(P.call(V,ra,da,z))return{i:da,v:ra}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(z){return z?z:function(P,V){return $jscomp.findInternal(this,P,V).v}},"es6","es3");
$jscomp.polyfill("Array.prototype.fill",function(z){return z?z:function(P,V,U){var da=this.length||0;0>V&&(V=Math.max(0,da+V));if(null==U||U>da)U=da;U=Number(U);0>U&&(U=Math.max(0,da+U));for(V=Number(V||0);V<U;V++)this[V]=P;return this}},"es6","es3");$jscomp.typedArrayFill=function(z){return z?z:Array.prototype.fill};$jscomp.polyfill("Int8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint8Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Uint8ClampedArray.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint16Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Int32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Uint32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Float32Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");
$jscomp.polyfill("Float64Array.prototype.fill",$jscomp.typedArrayFill,"es6","es5");$jscomp.polyfill("Array.prototype.flat",function(z){return z?z:function(P){P=void 0===P?1:P;for(var V=[],U=0;U<this.length;U++){var da=this[U];Array.isArray(da)&&0<P?(da=Array.prototype.flat.call(da,P-1),V.push.apply(V,da)):V.push(da)}return V}},"es9","es5");
$jscomp.polyfill("Object.fromEntries",function(z){return z?z:function(P){var V={};if(!(Symbol.iterator in P))throw new TypeError(""+P+" is not iterable");P=P[Symbol.iterator].call(P);for(var U=P.next();!U.done;U=P.next()){U=U.value;if(Object(U)!==U)throw new TypeError("iterable for fromEntries should yield objects");V[U[0]]=U[1]}return V}},"es_2019","es3");window.SVGFEFuncCMYKElement=!0;window===top&&(window.YSVGFEFuncCMYKElement=!0);
(function(z){var P={};(function(I){var E={};(function(G){"object"===typeof I&&"undefined"!==typeof module?module.exports=G():("undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:this).pako=G()})(function(){return function(){function G(x,y,r){function f(e,p){if(!y[e]){if(!x[e]){var d="function"==typeof require&&require;if(!p&&d)return d(e,!0);if(b)return b(e,!0);p=Error("Cannot find module '"+e+"'");throw p.code="MODULE_NOT_FOUND",p;}p=y[e]={exports:{}};
x[e][0].call(p.exports,function(k){return f(x[e][1][k]||k)},p,p.exports,G,x,y,r)}return y[e].exports}for(var b="function"==typeof require&&require,n=0;n<r.length;n++)f(r[n]);return f}return G}()({1:[function(G,x,y){function r(g){if(!(this instanceof r))return new r(g);g=this.options=n.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},g||{});g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&16>g.windowBits&&(g.windowBits+=16);this.err=0;this.msg=
"";this.ended=!1;this.chunks=[];this.strm=new d;this.strm.avail_out=0;var u=b.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(0!==u)throw Error(p[u]);g.header&&b.deflateSetHeader(this.strm,g.header);if(g.dictionary){g="string"===typeof g.dictionary?e.string2buf(g.dictionary):"[object ArrayBuffer]"===k.call(g.dictionary)?new Uint8Array(g.dictionary):g.dictionary;u=b.deflateSetDictionary(this.strm,g);if(0!==u)throw Error(p[u]);this._dict_set=!0}}function f(g,u){u=new r(u);
u.push(g,!0);if(u.err)throw u.msg||p[u.err];return u.result}var b=G("./zlib/deflate"),n=G("./utils/common"),e=G("./utils/strings"),p=G("./zlib/messages"),d=G("./zlib/zstream"),k=Object.prototype.toString;r.prototype.push=function(g,u){var H=this.strm,L=this.options.chunkSize;if(this.ended)return!1;u=u===~~u?u:!0===u?4:0;"string"===typeof g?H.input=e.string2buf(g):"[object ArrayBuffer]"===k.call(g)?H.input=new Uint8Array(g):H.input=g;H.next_in=0;H.avail_in=H.input.length;do{0===H.avail_out&&(H.output=
new n.Buf8(L),H.next_out=0,H.avail_out=L);g=b.deflate(H,u);if(1!==g&&0!==g)return this.onEnd(g),this.ended=!0,!1;if(0===H.avail_out||0===H.avail_in&&(4===u||2===u))if("string"===this.options.to)this.onData(e.buf2binstring(n.shrinkBuf(H.output,H.next_out)));else this.onData(n.shrinkBuf(H.output,H.next_out))}while((0<H.avail_in||0===H.avail_out)&&1!==g);if(4===u)return g=b.deflateEnd(this.strm),this.onEnd(g),this.ended=!0,0===g;2===u&&(this.onEnd(0),H.avail_out=0);return!0};r.prototype.onData=function(g){this.chunks.push(g)};
r.prototype.onEnd=function(g){0===g&&(this.result="string"===this.options.to?this.chunks.join(""):n.flattenChunks(this.chunks));this.chunks=[];this.err=g;this.msg=this.strm.msg};y.Deflate=r;y.deflate=f;y.deflateRaw=function(g,u){u=u||{};u.raw=!0;return f(g,u)};y.gzip=function(g,u){u=u||{};u.gzip=!0;return f(g,u)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(G,x,y){G("./utils/common");G("./utils/strings");G("./zlib/constants");G("./zlib/messages");
G("./zlib/zstream");G("./zlib/gzheader")},{"./utils/common":3,"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(G,x,y){G="undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint16Array&&"undefined"!==typeof Int32Array;y.assign=function(b){for(var n=Array.prototype.slice.call(arguments,1);n.length;){var e=n.shift();if(e){if("object"!==typeof e)throw new TypeError(e+"must be non-object");for(var p in e)Object.prototype.hasOwnProperty.call(e,
p)&&(b[p]=e[p])}}return b};y.shrinkBuf=function(b,n){if(b.length===n)return b;if(b.subarray)return b.subarray(0,n);b.length=n;return b};var r={arraySet:function(b,n,e,p,d){if(n.subarray&&b.subarray)b.set(n.subarray(e,e+p),d);else for(var k=0;k<p;k++)b[d+k]=n[e+k]},flattenChunks:function(b){var n,e;var p=e=0;for(n=b.length;p<n;p++)e+=b[p].length;var d=new Uint8Array(e);p=e=0;for(n=b.length;p<n;p++){var k=b[p];d.set(k,e);e+=k.length}return d}},f={arraySet:function(b,n,e,p,d){for(var k=0;k<p;k++)b[d+
k]=n[e+k]},flattenChunks:function(b){return[].concat.apply([],b)}};y.setTyped=function(b){b?(y.Buf8=Uint8Array,y.Buf16=Uint16Array,y.Buf32=Int32Array,y.assign(y,r)):(y.Buf8=Array,y.Buf16=Array,y.Buf32=Array,y.assign(y,f))};y.setTyped(G)},{}],4:[function(G,x,y){var r=G("./common"),f=!0,b=!0;try{String.fromCharCode.apply(null,[0])}catch(e){f=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){b=!1}var n=new r.Buf8(256);for(G=0;256>G;G++)n[G]=252<=G?6:248<=G?5:240<=G?4:224<=G?3:192<=G?
2:1;n[254]=n[254]=1;y.string2buf=function(e){var p,d,k=e.length,g=0;for(p=0;p<k;p++){var u=e.charCodeAt(p);if(55296===(u&64512)&&p+1<k){var H=e.charCodeAt(p+1);56320===(H&64512)&&(u=65536+(u-55296<<10)+(H-56320),p++)}g+=128>u?1:2048>u?2:65536>u?3:4}var L=new r.Buf8(g);for(p=d=0;d<g;p++)u=e.charCodeAt(p),55296===(u&64512)&&p+1<k&&(H=e.charCodeAt(p+1),56320===(H&64512)&&(u=65536+(u-55296<<10)+(H-56320),p++)),128>u?L[d++]=u:(2048>u?L[d++]=192|u>>>6:(65536>u?L[d++]=224|u>>>12:(L[d++]=240|u>>>18,L[d++]=
128|u>>>12&63),L[d++]=128|u>>>6&63),L[d++]=128|u&63);return L};y.buf2binstring=function(e){var p=e.length;if(65534>p&&(e.subarray&&b||!e.subarray&&f))e=String.fromCharCode.apply(null,r.shrinkBuf(e,p));else{for(var d="",k=0;k<p;k++)d+=String.fromCharCode(e[k]);e=d}return e};y.binstring2buf=function(e){for(var p=new r.Buf8(e.length),d=0,k=p.length;d<k;d++)p[d]=e.charCodeAt(d);return p};y.utf8border=function(e,p){var d;p=p||e.length;p>e.length&&(p=e.length);for(d=p-1;0<=d&&128===(e[d]&192);)d--;return 0>
d||0===d?p:d+n[e[d]]>p?d:p}},{"./common":3}],5:[function(G,x,y){x.exports=function(r,f,b,n){var e=r&65535|0;r=r>>>16&65535|0;for(var p;0!==b;){p=2E3<b?2E3:b;b-=p;do e=e+f[n++]|0,r=r+e|0;while(--p);e%=65521;r%=65521}return e|r<<16|0}},{}],6:[function(G,x,y){x.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,
Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(G,x,y){var r=function(){for(var f,b=[],n=0;256>n;n++){f=n;for(var e=0;8>e;e++)f=f&1?3988292384^f>>>1:f>>>1;b[n]=f}return b}();x.exports=function(f,b,n,e){n=e+n;for(f^=-1;e<n;e++)f=f>>>8^r[(f^b[e])&255];return f^-1}},{}],8:[function(G,x,y){function r(a,B){a.msg=F[B];return B}function f(a){for(var B=a.length;0<=--B;)a[B]=0}function b(a){var B=a.state,
h=B.pending;h>a.avail_out&&(h=a.avail_out);0!==h&&(A.arraySet(a.output,B.pending_buf,B.pending_out,h,a.next_out),a.next_out+=h,B.pending_out+=h,a.total_out+=h,a.avail_out-=h,B.pending-=h,0===B.pending&&(B.pending_out=0))}function n(a,B){M._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,B);a.block_start=a.strstart;b(a.strm)}function e(a,B){a.pending_buf[a.pending++]=B}function p(a,B){a.pending_buf[a.pending++]=B>>>8&255;a.pending_buf[a.pending++]=B&255}function d(a,B){var h=
a.max_chain_length,K=a.strstart,X=a.prev_length,ka=a.nice_match,Aa=a.strstart>a.w_size-262?a.strstart-(a.w_size-262):0,fa=a.window,Ga=a.w_mask,Ma=a.prev,t=a.strstart+258,W=fa[K+X-1],q=fa[K+X];a.prev_length>=a.good_match&&(h>>=2);ka>a.lookahead&&(ka=a.lookahead);do{var w=B;if(fa[w+X]===q&&fa[w+X-1]===W&&fa[w]===fa[K]&&fa[++w]===fa[K+1]){K+=2;for(w++;fa[++K]===fa[++w]&&fa[++K]===fa[++w]&&fa[++K]===fa[++w]&&fa[++K]===fa[++w]&&fa[++K]===fa[++w]&&fa[++K]===fa[++w]&&fa[++K]===fa[++w]&&fa[++K]===fa[++w]&&
K<t;);w=258-(t-K);K=t-258;if(w>X){a.match_start=B;X=w;if(w>=ka)break;W=fa[K+X-1];q=fa[K+X]}}}while((B=Ma[B&Ga])>Aa&&0!==--h);return X<=a.lookahead?X:a.lookahead}function k(a){var B=a.w_size,h;do{var K=a.window_size-a.lookahead-a.strstart;if(a.strstart>=B+(B-262)){A.arraySet(a.window,a.window,B,B,0);a.match_start-=B;a.strstart-=B;a.block_start-=B;var X=h=a.hash_size;do{var ka=a.head[--X];a.head[X]=ka>=B?ka-B:0}while(--h);X=h=B;do ka=a.prev[--X],a.prev[X]=ka>=B?ka-B:0;while(--h);K+=B}if(0===a.strm.avail_in)break;
X=a.strm;h=a.window;ka=a.strstart+a.lookahead;var Aa=X.avail_in;Aa>K&&(Aa=K);0===Aa?h=0:(X.avail_in-=Aa,A.arraySet(h,X.input,X.next_in,Aa,ka),1===X.state.wrap?X.adler=Q(X.adler,h,Aa,ka):2===X.state.wrap&&(X.adler=ja(X.adler,h,Aa,ka)),X.next_in+=Aa,X.total_in+=Aa,h=Aa);a.lookahead+=h;if(3<=a.lookahead+a.insert)for(K=a.strstart-a.insert,a.ins_h=a.window[K],a.ins_h=(a.ins_h<<a.hash_shift^a.window[K+1])&a.hash_mask;a.insert&&!(a.ins_h=(a.ins_h<<a.hash_shift^a.window[K+3-1])&a.hash_mask,a.prev[K&a.w_mask]=
a.head[a.ins_h],a.head[a.ins_h]=K,K++,a.insert--,3>a.lookahead+a.insert););}while(262>a.lookahead&&0!==a.strm.avail_in)}function g(a,B){for(var h;;){if(262>a.lookahead){k(a);if(262>a.lookahead&&0===B)return 1;if(0===a.lookahead)break}h=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,h=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);0!==h&&a.strstart-h<=a.w_size-262&&(a.match_length=d(a,h));if(3<=a.match_length)if(h=M._tr_tally(a,a.strstart-
a.match_start,a.match_length-3),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&3<=a.lookahead){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else h=M._tr_tally(a,0,a.window[a.strstart]),
a.lookahead--,a.strstart++;if(h&&(n(a,!1),0===a.strm.avail_out))return 1}a.insert=2>a.strstart?a.strstart:2;return 4===B?(n(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(n(a,!1),0===a.strm.avail_out)?1:2}function u(a,B){for(var h,K;;){if(262>a.lookahead){k(a);if(262>a.lookahead&&0===B)return 1;if(0===a.lookahead)break}h=0;3<=a.lookahead&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&a.hash_mask,h=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);a.prev_length=a.match_length;
a.prev_match=a.match_start;a.match_length=2;0!==h&&a.prev_length<a.max_lazy_match&&a.strstart-h<=a.w_size-262&&(a.match_length=d(a,h),5>=a.match_length&&(1===a.strategy||3===a.match_length&&4096<a.strstart-a.match_start)&&(a.match_length=2));if(3<=a.prev_length&&a.match_length<=a.prev_length){K=a.strstart+a.lookahead-3;h=M._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-3);a.lookahead-=a.prev_length-1;a.prev_length-=2;do++a.strstart<=K&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+3-1])&
a.hash_mask,a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);a.match_available=0;a.match_length=2;a.strstart++;if(h&&(n(a,!1),0===a.strm.avail_out))return 1}else if(a.match_available){if((h=M._tr_tally(a,0,a.window[a.strstart-1]))&&n(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return 1}else a.match_available=1,a.strstart++,a.lookahead--}a.match_available&&(M._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0);a.insert=2>a.strstart?
a.strstart:2;return 4===B?(n(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(n(a,!1),0===a.strm.avail_out)?1:2}function H(a,B){for(var h,K,X,ka=a.window;;){if(258>=a.lookahead){k(a);if(258>=a.lookahead&&0===B)return 1;if(0===a.lookahead)break}a.match_length=0;if(3<=a.lookahead&&0<a.strstart&&(K=a.strstart-1,h=ka[K],h===ka[++K]&&h===ka[++K]&&h===ka[++K])){for(X=a.strstart+258;h===ka[++K]&&h===ka[++K]&&h===ka[++K]&&h===ka[++K]&&h===ka[++K]&&h===ka[++K]&&h===ka[++K]&&h===ka[++K]&&K<X;);a.match_length=258-
(X-K);a.match_length>a.lookahead&&(a.match_length=a.lookahead)}3<=a.match_length?(h=M._tr_tally(a,1,a.match_length-3),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(h=M._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++);if(h&&(n(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return 4===B?(n(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(n(a,!1),0===a.strm.avail_out)?1:2}function L(a,B){for(var h;;){if(0===a.lookahead&&(k(a),0===a.lookahead)){if(0===B)return 1;
break}a.match_length=0;h=M._tr_tally(a,0,a.window[a.strstart]);a.lookahead--;a.strstart++;if(h&&(n(a,!1),0===a.strm.avail_out))return 1}a.insert=0;return 4===B?(n(a,!0),0===a.strm.avail_out?3:4):a.last_lit&&(n(a,!1),0===a.strm.avail_out)?1:2}function S(a,B,h,K,X){this.good_length=a;this.max_lazy=B;this.nice_length=h;this.max_chain=K;this.func=X}function c(){this.strm=null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=
0;this.method=8;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new A.Buf16(1146);this.dyn_dtree=new A.Buf16(122);
this.bl_tree=new A.Buf16(78);f(this.dyn_ltree);f(this.dyn_dtree);f(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new A.Buf16(16);this.heap=new A.Buf16(573);f(this.heap);this.heap_max=this.heap_len=0;this.depth=new A.Buf16(573);f(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function m(a){if(!a||!a.state)return r(a,-2);a.total_in=a.total_out=0;a.data_type=2;var B=a.state;B.pending=
0;B.pending_out=0;0>B.wrap&&(B.wrap=-B.wrap);B.status=B.wrap?42:113;a.adler=2===B.wrap?0:1;B.last_flush=0;M._tr_init(B);return 0}function l(a){var B=m(a);0===B&&(a=a.state,a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=N[a.level].max_lazy,a.good_match=N[a.level].good_length,a.nice_match=N[a.level].nice_length,a.max_chain_length=N[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=2,a.match_available=0,a.ins_h=0);return B}function v(a,B,h,K,X,
ka){if(!a)return-2;var Aa=1;-1===B&&(B=6);0>K?(Aa=0,K=-K):15<K&&(Aa=2,K-=16);if(1>X||9<X||8!==h||8>K||15<K||0>B||9<B||0>ka||4<ka)return r(a,-2);8===K&&(K=9);var fa=new c;a.state=fa;fa.strm=a;fa.wrap=Aa;fa.gzhead=null;fa.w_bits=K;fa.w_size=1<<fa.w_bits;fa.w_mask=fa.w_size-1;fa.hash_bits=X+7;fa.hash_size=1<<fa.hash_bits;fa.hash_mask=fa.hash_size-1;fa.hash_shift=~~((fa.hash_bits+3-1)/3);fa.window=new A.Buf8(2*fa.w_size);fa.head=new A.Buf16(fa.hash_size);fa.prev=new A.Buf16(fa.w_size);fa.lit_bufsize=
1<<X+6;fa.pending_buf_size=4*fa.lit_bufsize;fa.pending_buf=new A.Buf8(fa.pending_buf_size);fa.d_buf=1*fa.lit_bufsize;fa.l_buf=3*fa.lit_bufsize;fa.level=B;fa.strategy=ka;fa.method=h;return l(a)}var A=G("../utils/common"),M=G("./trees"),Q=G("./adler32"),ja=G("./crc32"),F=G("./messages");var N=[new S(0,0,0,0,function(a,B){var h=65535;for(h>a.pending_buf_size-5&&(h=a.pending_buf_size-5);;){if(1>=a.lookahead){k(a);if(0===a.lookahead&&0===B)return 1;if(0===a.lookahead)break}a.strstart+=a.lookahead;a.lookahead=
0;var K=a.block_start+h;if(0===a.strstart||a.strstart>=K)if(a.lookahead=a.strstart-K,a.strstart=K,n(a,!1),0===a.strm.avail_out)return 1;if(a.strstart-a.block_start>=a.w_size-262&&(n(a,!1),0===a.strm.avail_out))return 1}a.insert=0;if(4===B)return n(a,!0),0===a.strm.avail_out?3:4;a.strstart>a.block_start&&n(a,!1);return 1}),new S(4,4,8,4,g),new S(4,5,16,8,g),new S(4,6,32,32,g),new S(4,4,16,16,u),new S(8,16,32,32,u),new S(8,16,128,128,u),new S(8,32,128,256,u),new S(32,128,258,1024,u),new S(32,258,258,
4096,u)];y.deflateInit=function(a,B){return v(a,B,8,15,8,0)};y.deflateInit2=v;y.deflateReset=l;y.deflateResetKeep=m;y.deflateSetHeader=function(a,B){if(!a||!a.state||2!==a.state.wrap)return-2;a.state.gzhead=B;return 0};y.deflate=function(a,B){if(!a||!a.state||5<B||0>B)return a?r(a,-2):-2;var h=a.state;if(!a.output||!a.input&&0!==a.avail_in||666===h.status&&4!==B)return r(a,0===a.avail_out?-5:-2);h.strm=a;var K=h.last_flush;h.last_flush=B;if(42===h.status)if(2===h.wrap)a.adler=0,e(h,31),e(h,139),e(h,
8),h.gzhead?(e(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),e(h,h.gzhead.time&255),e(h,h.gzhead.time>>8&255),e(h,h.gzhead.time>>16&255),e(h,h.gzhead.time>>24&255),e(h,9===h.level?2:2<=h.strategy||2>h.level?4:0),e(h,h.gzhead.os&255),h.gzhead.extra&&h.gzhead.extra.length&&(e(h,h.gzhead.extra.length&255),e(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=ja(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=69):(e(h,0),e(h,
0),e(h,0),e(h,0),e(h,0),e(h,9===h.level?2:2<=h.strategy||2>h.level?4:0),e(h,3),h.status=113);else{var X=8+(h.w_bits-8<<4)<<8;X|=(2<=h.strategy||2>h.level?0:6>h.level?1:6===h.level?2:3)<<6;0!==h.strstart&&(X|=32);h.status=113;p(h,X+(31-X%31));0!==h.strstart&&(p(h,a.adler>>>16),p(h,a.adler&65535));a.adler=1}if(69===h.status)if(h.gzhead.extra){for(X=h.pending;h.gzindex<(h.gzhead.extra.length&65535)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>X&&(a.adler=ja(a.adler,h.pending_buf,h.pending-
X,X)),b(a),X=h.pending,h.pending!==h.pending_buf_size));)e(h,h.gzhead.extra[h.gzindex]&255),h.gzindex++;h.gzhead.hcrc&&h.pending>X&&(a.adler=ja(a.adler,h.pending_buf,h.pending-X,X));h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=73)}else h.status=73;if(73===h.status)if(h.gzhead.name){X=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>X&&(a.adler=ja(a.adler,h.pending_buf,h.pending-X,X)),b(a),X=h.pending,h.pending===h.pending_buf_size)){var ka=1;break}ka=h.gzindex<
h.gzhead.name.length?h.gzhead.name.charCodeAt(h.gzindex++)&255:0;e(h,ka)}while(0!==ka);h.gzhead.hcrc&&h.pending>X&&(a.adler=ja(a.adler,h.pending_buf,h.pending-X,X));0===ka&&(h.gzindex=0,h.status=91)}else h.status=91;if(91===h.status)if(h.gzhead.comment){X=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>X&&(a.adler=ja(a.adler,h.pending_buf,h.pending-X,X)),b(a),X=h.pending,h.pending===h.pending_buf_size)){ka=1;break}ka=h.gzindex<h.gzhead.comment.length?h.gzhead.comment.charCodeAt(h.gzindex++)&
255:0;e(h,ka)}while(0!==ka);h.gzhead.hcrc&&h.pending>X&&(a.adler=ja(a.adler,h.pending_buf,h.pending-X,X));0===ka&&(h.status=103)}else h.status=103;103===h.status&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&b(a),h.pending+2<=h.pending_buf_size&&(e(h,a.adler&255),e(h,a.adler>>8&255),a.adler=0,h.status=113)):h.status=113);if(0!==h.pending){if(b(a),0===a.avail_out)return h.last_flush=-1,0}else if(0===a.avail_in&&(B<<1)-(4<B?9:0)<=(K<<1)-(4<K?9:0)&&4!==B)return r(a,-5);if(666===h.status&&0!==a.avail_in)return r(a,
-5);if(0!==a.avail_in||0!==h.lookahead||0!==B&&666!==h.status){K=2===h.strategy?L(h,B):3===h.strategy?H(h,B):N[h.level].func(h,B);if(3===K||4===K)h.status=666;if(1===K||3===K)return 0===a.avail_out&&(h.last_flush=-1),0;if(2===K&&(1===B?M._tr_align(h):5!==B&&(M._tr_stored_block(h,0,0,!1),3===B&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),b(a),0===a.avail_out))return h.last_flush=-1,0}if(4!==B)return 0;if(0>=h.wrap)return 1;2===h.wrap?(e(h,a.adler&255),e(h,a.adler>>8&255),
e(h,a.adler>>16&255),e(h,a.adler>>24&255),e(h,a.total_in&255),e(h,a.total_in>>8&255),e(h,a.total_in>>16&255),e(h,a.total_in>>24&255)):(p(h,a.adler>>>16),p(h,a.adler&65535));b(a);0<h.wrap&&(h.wrap=-h.wrap);return 0!==h.pending?0:1};y.deflateEnd=function(a){if(!a||!a.state)return-2;var B=a.state.status;if(42!==B&&69!==B&&73!==B&&91!==B&&103!==B&&113!==B&&666!==B)return r(a,-2);a.state=null;return 113===B?r(a,-3):0};y.deflateSetDictionary=function(a,B){var h=B.length;if(!a||!a.state)return-2;var K=a.state;
var X=K.wrap;if(2===X||1===X&&42!==K.status||K.lookahead)return-2;1===X&&(a.adler=Q(a.adler,B,h,0));K.wrap=0;if(h>=K.w_size){0===X&&(f(K.head),K.strstart=0,K.block_start=0,K.insert=0);var ka=new A.Buf8(K.w_size);A.arraySet(ka,B,h-K.w_size,K.w_size,0);B=ka;h=K.w_size}ka=a.avail_in;var Aa=a.next_in;var fa=a.input;a.avail_in=h;a.next_in=0;a.input=B;for(k(K);3<=K.lookahead;){B=K.strstart;h=K.lookahead-2;do K.ins_h=(K.ins_h<<K.hash_shift^K.window[B+3-1])&K.hash_mask,K.prev[B&K.w_mask]=K.head[K.ins_h],
K.head[K.ins_h]=B,B++;while(--h);K.strstart=B;K.lookahead=2;k(K)}K.strstart+=K.lookahead;K.block_start=K.strstart;K.insert=K.lookahead;K.lookahead=0;K.match_length=K.prev_length=2;K.match_available=0;a.next_in=Aa;a.input=fa;a.avail_in=ka;K.wrap=X;return 0};y.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(G,x,y){x.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;
this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],10:[function(G,x,y){x.exports=function(r,f){var b=r.state;var n=r.next_in;var e=r.input;var p=n+(r.avail_in-5);var d=r.next_out;var k=r.output;f=d-(f-r.avail_out);var g=d+(r.avail_out-257);var u=b.dmax;var H=b.wsize;var L=b.whave;var S=b.wnext;var c=b.window;var m=b.hold;var l=b.bits;var v=b.lencode;var A=b.distcode;var M=(1<<b.lenbits)-1;var Q=(1<<b.distbits)-1;a:do{15>l&&(m+=e[n++]<<l,l+=8,m+=e[n++]<<l,l+=8);var ja=v[m&M];b:for(;;){var F=
ja>>>24;m>>>=F;l-=F;F=ja>>>16&255;if(0===F)k[d++]=ja&65535;else if(F&16){var N=ja&65535;if(F&=15)l<F&&(m+=e[n++]<<l,l+=8),N+=m&(1<<F)-1,m>>>=F,l-=F;15>l&&(m+=e[n++]<<l,l+=8,m+=e[n++]<<l,l+=8);ja=A[m&Q];c:for(;;){F=ja>>>24;m>>>=F;l-=F;F=ja>>>16&255;if(F&16){ja&=65535;F&=15;l<F&&(m+=e[n++]<<l,l+=8,l<F&&(m+=e[n++]<<l,l+=8));ja+=m&(1<<F)-1;if(ja>u){r.msg="invalid distance too far back";b.mode=30;break a}m>>>=F;l-=F;F=d-f;if(ja>F){F=ja-F;if(F>L&&b.sane){r.msg="invalid distance too far back";b.mode=30;
break a}var a=0;var B=c;if(0===S){if(a+=H-F,F<N){N-=F;do k[d++]=c[a++];while(--F);a=d-ja;B=k}}else if(S<F){if(a+=H+S-F,F-=S,F<N){N-=F;do k[d++]=c[a++];while(--F);a=0;if(S<N){F=S;N-=F;do k[d++]=c[a++];while(--F);a=d-ja;B=k}}}else if(a+=S-F,F<N){N-=F;do k[d++]=c[a++];while(--F);a=d-ja;B=k}for(;2<N;)k[d++]=B[a++],k[d++]=B[a++],k[d++]=B[a++],N-=3;N&&(k[d++]=B[a++],1<N&&(k[d++]=B[a++]))}else{a=d-ja;do k[d++]=k[a++],k[d++]=k[a++],k[d++]=k[a++],N-=3;while(2<N);N&&(k[d++]=k[a++],1<N&&(k[d++]=k[a++]))}}else if(0===
(F&64)){ja=A[(ja&65535)+(m&(1<<F)-1)];continue c}else{r.msg="invalid distance code";b.mode=30;break a}break}}else if(0===(F&64)){ja=v[(ja&65535)+(m&(1<<F)-1)];continue b}else{F&32?b.mode=12:(r.msg="invalid literal/length code",b.mode=30);break a}break}}while(n<p&&d<g);N=l>>3;n-=N;l-=N<<3;r.next_in=n;r.next_out=d;r.avail_in=n<p?5+(p-n):5-(n-p);r.avail_out=d<g?257+(g-d):257-(d-g);b.hold=m&(1<<l)-1;b.bits=l}},{}],11:[function(G,x,y){G("../utils/common");G("./adler32");G("./crc32");G("./inffast");G("./inftrees")},
{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(G,x,y){var r=G("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],b=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],e=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,
25,25,26,26,27,27,28,28,29,29,64,64];x.exports=function(p,d,k,g,u,H,L,S){var c=S.bits,m,l,v,A,M,Q,ja=0,F=new r.Buf16(16);var N=new r.Buf16(16);var a,B=0;for(m=0;15>=m;m++)F[m]=0;for(l=0;l<g;l++)F[d[k+l]]++;var h=c;for(v=15;1<=v&&0===F[v];v--);h>v&&(h=v);if(0===v)return u[H++]=20971520,u[H++]=20971520,S.bits=1,0;for(c=1;c<v&&0===F[c];c++);h<c&&(h=c);for(m=A=1;15>=m;m++)if(A<<=1,A-=F[m],0>A)return-1;if(0<A&&(0===p||1!==v))return-1;N[1]=0;for(m=1;15>m;m++)N[m+1]=N[m]+F[m];for(l=0;l<g;l++)0!==d[k+l]&&
(L[N[d[k+l]]++]=l);if(0===p){var K=a=L;var X=19}else 1===p?(K=f,ja-=257,a=b,B-=257,X=256):(K=n,a=e,X=-1);l=M=0;m=c;var ka=H;g=h;N=0;var Aa=-1;var fa=1<<h;var Ga=fa-1;if(1===p&&852<fa||2===p&&592<fa)return 1;for(;;){var Ma=m-N;if(L[l]<X){var t=0;var W=L[l]}else L[l]>X?(t=a[B+L[l]],W=K[ja+L[l]]):(t=96,W=0);A=1<<m-N;c=Q=1<<g;do Q-=A,u[ka+(M>>N)+Q]=Ma<<24|t<<16|W|0;while(0!==Q);for(A=1<<m-1;M&A;)A>>=1;0!==A?(M&=A-1,M+=A):M=0;l++;if(0===--F[m]){if(m===v)break;m=d[k+L[l]]}if(m>h&&(M&Ga)!==Aa){0===N&&(N=
h);ka+=c;g=m-N;for(A=1<<g;g+N<v;){A-=F[g+N];if(0>=A)break;g++;A<<=1}fa+=1<<g;if(1===p&&852<fa||2===p&&592<fa)return 1;Aa=M&Ga;u[Aa]=h<<24|g<<16|ka-H|0}}0!==M&&(u[ka+M]=m-N<<24|4194304);S.bits=h;return 0}},{"../utils/common":3}],13:[function(G,x,y){x.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(G,x,y){function r(t){for(var W=t.length;0<=--W;)t[W]=
0}function f(t,W,q,w,J){this.static_tree=t;this.extra_bits=W;this.extra_base=q;this.elems=w;this.max_length=J;this.has_stree=t&&t.length}function b(t,W){this.dyn_tree=t;this.max_code=0;this.stat_desc=W}function n(t,W){t.pending_buf[t.pending++]=W&255;t.pending_buf[t.pending++]=W>>>8&255}function e(t,W,q){t.bi_valid>16-q?(t.bi_buf|=W<<t.bi_valid&65535,n(t,t.bi_buf),t.bi_buf=W>>16-t.bi_valid,t.bi_valid+=q-16):(t.bi_buf|=W<<t.bi_valid&65535,t.bi_valid+=q)}function p(t,W,q){e(t,q[2*W],q[2*W+1])}function d(t,
W){var q=0;do q|=t&1,t>>>=1,q<<=1;while(0<--W);return q>>>1}function k(t,W,q){var w=Array(16),J=0,R;for(R=1;15>=R;R++)w[R]=J=J+q[R-1]<<1;for(q=0;q<=W;q++)J=t[2*q+1],0!==J&&(t[2*q]=d(w[J]++,J))}function g(t){var W;for(W=0;286>W;W++)t.dyn_ltree[2*W]=0;for(W=0;30>W;W++)t.dyn_dtree[2*W]=0;for(W=0;19>W;W++)t.bl_tree[2*W]=0;t.dyn_ltree[512]=1;t.opt_len=t.static_len=0;t.last_lit=t.matches=0}function u(t){8<t.bi_valid?n(t,t.bi_buf):0<t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf);t.bi_buf=0;t.bi_valid=
0}function H(t,W,q,w){var J=2*W,R=2*q;return t[J]<t[R]||t[J]===t[R]&&w[W]<=w[q]}function L(t,W,q){for(var w=t.heap[q],J=q<<1;J<=t.heap_len;){J<t.heap_len&&H(W,t.heap[J+1],t.heap[J],t.depth)&&J++;if(H(W,w,t.heap[J],t.depth))break;t.heap[q]=t.heap[J];q=J;J<<=1}t.heap[q]=w}function S(t,W,q){var w=0;if(0!==t.last_lit){do{var J=t.pending_buf[t.d_buf+2*w]<<8|t.pending_buf[t.d_buf+2*w+1];var R=t.pending_buf[t.l_buf+w];w++;if(0===J)p(t,R,W);else{var ea=K[R];p(t,ea+256+1,W);var ia=Q[ea];0!==ia&&(R-=X[ea],
e(t,R,ia));J--;ea=256>J?h[J]:h[256+(J>>>7)];p(t,ea,q);ia=ja[ea];0!==ia&&(J-=ka[ea],e(t,J,ia))}}while(w<t.last_lit)}p(t,256,W)}function c(t,W){var q=W.dyn_tree,w=W.stat_desc.static_tree,J=W.stat_desc.has_stree,R=W.stat_desc.elems,ea,ia=-1;t.heap_len=0;t.heap_max=573;for(ea=0;ea<R;ea++)0!==q[2*ea]?(t.heap[++t.heap_len]=ia=ea,t.depth[ea]=0):q[2*ea+1]=0;for(;2>t.heap_len;){var pa=t.heap[++t.heap_len]=2>ia?++ia:0;q[2*pa]=1;t.depth[pa]=0;t.opt_len--;J&&(t.static_len-=w[2*pa+1])}W.max_code=ia;for(ea=t.heap_len>>
1;1<=ea;ea--)L(t,q,ea);pa=R;do ea=t.heap[1],t.heap[1]=t.heap[t.heap_len--],L(t,q,1),w=t.heap[1],t.heap[--t.heap_max]=ea,t.heap[--t.heap_max]=w,q[2*pa]=q[2*ea]+q[2*w],t.depth[pa]=(t.depth[ea]>=t.depth[w]?t.depth[ea]:t.depth[w])+1,q[2*ea+1]=q[2*w+1]=pa,t.heap[1]=pa++,L(t,q,1);while(2<=t.heap_len);t.heap[--t.heap_max]=t.heap[1];ea=W.dyn_tree;pa=W.max_code;w=W.stat_desc.static_tree;J=W.stat_desc.has_stree;R=W.stat_desc.extra_bits;var va=W.stat_desc.extra_base,Oa=W.stat_desc.max_length,ta,ua=0;for(ta=
0;15>=ta;ta++)t.bl_count[ta]=0;ea[2*t.heap[t.heap_max]+1]=0;for(W=t.heap_max+1;573>W;W++){var Na=t.heap[W];ta=ea[2*ea[2*Na+1]+1]+1;ta>Oa&&(ta=Oa,ua++);ea[2*Na+1]=ta;if(!(Na>pa)){t.bl_count[ta]++;var Sa=0;Na>=va&&(Sa=R[Na-va]);var Ta=ea[2*Na];t.opt_len+=Ta*(ta+Sa);J&&(t.static_len+=Ta*(w[2*Na+1]+Sa))}}if(0!==ua){do{for(ta=Oa-1;0===t.bl_count[ta];)ta--;t.bl_count[ta]--;t.bl_count[ta+1]+=2;t.bl_count[Oa]--;ua-=2}while(0<ua);for(ta=Oa;0!==ta;ta--)for(Na=t.bl_count[ta];0!==Na;)w=t.heap[--W],w>pa||(ea[2*
w+1]!==ta&&(t.opt_len+=(ta-ea[2*w+1])*ea[2*w],ea[2*w+1]=ta),Na--)}k(q,ia,t.bl_count)}function m(t,W,q){var w,J=-1,R=W[1],ea=0,ia=7,pa=4;0===R&&(ia=138,pa=3);W[2*(q+1)+1]=65535;for(w=0;w<=q;w++){var va=R;R=W[2*(w+1)+1];++ea<ia&&va===R||(ea<pa?t.bl_tree[2*va]+=ea:0!==va?(va!==J&&t.bl_tree[2*va]++,t.bl_tree[32]++):10>=ea?t.bl_tree[34]++:t.bl_tree[36]++,ea=0,J=va,0===R?(ia=138,pa=3):va===R?(ia=6,pa=3):(ia=7,pa=4))}}function l(t,W,q){var w,J=-1,R=W[1],ea=0,ia=7,pa=4;0===R&&(ia=138,pa=3);for(w=0;w<=q;w++){var va=
R;R=W[2*(w+1)+1];if(!(++ea<ia&&va===R)){if(ea<pa){do p(t,va,t.bl_tree);while(0!==--ea)}else 0!==va?(va!==J&&(p(t,va,t.bl_tree),ea--),p(t,16,t.bl_tree),e(t,ea-3,2)):10>=ea?(p(t,17,t.bl_tree),e(t,ea-3,3)):(p(t,18,t.bl_tree),e(t,ea-11,7));ea=0;J=va;0===R?(ia=138,pa=3):va===R?(ia=6,pa=3):(ia=7,pa=4)}}}function v(t){var W=4093624447,q;for(q=0;31>=q;q++,W>>>=1)if(W&1&&0!==t.dyn_ltree[2*q])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(q=32;256>q;q++)if(0!==t.dyn_ltree[2*
q])return 1;return 0}function A(t,W,q,w){e(t,w?1:0,3);u(t);n(t,q);n(t,~q);M.arraySet(t.pending_buf,t.window,W,q,t.pending);t.pending+=q}var M=G("../utils/common"),Q=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ja=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],F=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],a=Array(576);r(a);var B=Array(60);r(B);var h=Array(512);r(h);var K=Array(256);r(K);var X=Array(29);r(X);var ka=
Array(30);r(ka);var Aa,fa,Ga,Ma=!1;y._tr_init=function(t){if(!Ma){var W,q,w,J=Array(16);for(w=q=0;28>w;w++)for(X[w]=q,W=0;W<1<<Q[w];W++)K[q++]=w;K[q-1]=w;for(w=q=0;16>w;w++)for(ka[w]=q,W=0;W<1<<ja[w];W++)h[q++]=w;for(q>>=7;30>w;w++)for(ka[w]=q<<7,W=0;W<1<<ja[w]-7;W++)h[256+q++]=w;for(W=0;15>=W;W++)J[W]=0;for(W=0;143>=W;)a[2*W+1]=8,W++,J[8]++;for(;255>=W;)a[2*W+1]=9,W++,J[9]++;for(;279>=W;)a[2*W+1]=7,W++,J[7]++;for(;287>=W;)a[2*W+1]=8,W++,J[8]++;k(a,287,J);for(W=0;30>W;W++)B[2*W+1]=5,B[2*W]=d(W,5);
Aa=new f(a,Q,257,286,15);fa=new f(B,ja,0,30,15);Ga=new f([],F,0,19,7);Ma=!0}t.l_desc=new b(t.dyn_ltree,Aa);t.d_desc=new b(t.dyn_dtree,fa);t.bl_desc=new b(t.bl_tree,Ga);t.bi_buf=0;t.bi_valid=0;g(t)};y._tr_stored_block=A;y._tr_flush_block=function(t,W,q,w){var J=0;if(0<t.level){2===t.strm.data_type&&(t.strm.data_type=v(t));c(t,t.l_desc);c(t,t.d_desc);m(t,t.dyn_ltree,t.l_desc.max_code);m(t,t.dyn_dtree,t.d_desc.max_code);c(t,t.bl_desc);for(J=18;3<=J&&0===t.bl_tree[2*N[J]+1];J--);t.opt_len+=3*(J+1)+14;
var R=t.opt_len+3+7>>>3;var ea=t.static_len+3+7>>>3;ea<=R&&(R=ea)}else R=ea=q+5;if(q+4<=R&&-1!==W)A(t,W,q,w);else if(4===t.strategy||ea===R)e(t,2+(w?1:0),3),S(t,a,B);else{e(t,4+(w?1:0),3);W=t.l_desc.max_code+1;q=t.d_desc.max_code+1;J+=1;e(t,W-257,5);e(t,q-1,5);e(t,J-4,4);for(R=0;R<J;R++)e(t,t.bl_tree[2*N[R]+1],3);l(t,t.dyn_ltree,W-1);l(t,t.dyn_dtree,q-1);S(t,t.dyn_ltree,t.dyn_dtree)}g(t);w&&u(t)};y._tr_tally=function(t,W,q){t.pending_buf[t.d_buf+2*t.last_lit]=W>>>8&255;t.pending_buf[t.d_buf+2*t.last_lit+
1]=W&255;t.pending_buf[t.l_buf+t.last_lit]=q&255;t.last_lit++;0===W?t.dyn_ltree[2*q]++:(t.matches++,W--,t.dyn_ltree[2*(K[q]+256+1)]++,t.dyn_dtree[2*(256>W?h[W]:h[256+(W>>>7)])]++);return t.last_lit===t.lit_bufsize-1};y._tr_align=function(t){e(t,2,3);p(t,256,a);16===t.bi_valid?(n(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":3}],15:[function(G,x,y){x.exports=function(){this.input=null;this.total_in=this.avail_in=
this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],"/":[function(G,x,y){x=G("./lib/utils/common").assign;y=G("./lib/deflate");G=G("./lib/zlib/constants");E.pako={};x(E.pako,y,G)},{"./lib/deflate":1,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});I.compress=E.pako.deflate})(P);var V={};(function(I){I.hashString=function(E){for(var G=E.length,x=5381,y=52711;G--;){var r=E.charCodeAt(G);x=33*x^
r;y=33*y^r}return 4096*(x>>>0)+(y>>>0)}})(V);(function(I){I.crypt=function(E,G){var x=new Uint8Array(G),y=new ArrayBuffer(G.byteLength);y=new Uint8Array(y);for(var r=0;r<G.byteLength;r++)y[r]=x[r]^E.charCodeAt(r%E.length);return y.buffer}})({});var U={};(function(I){I.onDomLoaded=function(E){if("complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState)E();else{var G=!1;document.addEventListener("DOMContentLoaded",function(){G||(G=!0,E())},!1);window.addEventListener("load",
function(){G||(G=!0,E())})}};I.onScroll=function(E){window.addEventListener("scroll",function(G){E()})};I.onBlur=function(E){window.addEventListener("blur",function(G){E()})};I.onFocus=function(E){window.addEventListener("focus",function(G){E()})}})(U);(function(I){I.encode=function(E){E=new Uint8Array(E);for(var G="",x=0;x<E.length;x++)G+=String.fromCharCode(E[x]);return btoa(G)};I.decode=function(E){E=atob(E);for(var G=new Uint8Array(E.length),x=0;x<E.length;x++)G[x]=E.charCodeAt(x);return G.buffer}})({});
var da={};(function(I){I.sum32a=function(E){E=new Uint8Array(E);for(var G=2166136261,x=0;x<E.byteLength;++x)G^=E[x],G+=(G<<1)+(G<<4)+(G<<7)+(G<<8)+(G<<24);return G>>>0}})(da);var ra={};(function(I){var E=!1,G=!1,x=!(!window.console||!window.console.info);try{G=0<=window.location.href.indexOf("bt_debug=true")||"true"===window.localStorage.bt_debug}catch(A){G=!1}var y={0:"DFT",1:"DBG",2:"INF",3:"NTC",4:"WRN",5:"ERR",6:"CRT",7:"ALR",8:"EMR"},r={0:"#F5F5F5",1:"#BBDEFB",2:"#B3E5FC",3:"#DCEDC8",4:"#FFE0B2",
5:"#FFCCBC",6:"#E57373",7:"#F06292",8:"#BA68C8"},f="#B71C1C #880E4F #4A148C #311B92 #1A237E #0D47A1 #01579B #006064 #004D40 #1B5E20 #33691E #827717 #F57F17 #FF6F00 #E65100 #BF360C #3E2723 #37474F".split(" "),b=function(A){A=A?A.id||null:null;if(!A)return"#000000";for(var M=2166136261,Q=0;Q<A.length;++Q)M^=A.charCodeAt(Q),M+=(M<<1)+(M<<4)+(M<<7)+(M<<8)+(M<<24);return f[(M>>>0)%f.length]},n=(new Date).getTime(),e=function(){return(new Date).getTime()-n},p=function(){this.tag="Blockthrough";this.prefix=
"";this.level=0;this.filters=[]};p.prototype.setPrefix=function(A){this.prefix=A};p.prototype.setLevel=function(A){this.level="number"!==typeof A||0>A||8<A?0:A};p.prototype.setFilter=function(A){for(var M=[],Q=0;Q<arguments.length;Q++){if(!(arguments[Q]instanceof RegExp))throw new TypeError;M[Q]=arguments[Q]}this.filters=M};p.prototype.log=function(A,M,Q,ja){if(G){if(3>arguments.length)throw new TypeError;if("number"!==typeof A||0>A||8<A)throw new TypeError;if("object"!==typeof M)throw new TypeError;
if("string"!==typeof Q)throw new TypeError;if(!(A<this.level)||E){for(var F=0;F<this.filters.length;F++)if(null!==Q.match(this.filters[F]))return;F=e();var N=M?M.id||null:null;var a="%c["+this.tag+" - "+y[A]+"]%c";a+="%c[%s]%c ";N&&(a+="%c["+N+"]%c ");this.prefix&&(a+=this.prefix);var B=[];B.push(a+Q);B.push("color: #000000; background-color: "+r[A]);B.push("background-color: inherit");B.push("color: #757575;");B.push(1E3>F?Math.round(F).toString()+"ms":(F/1E3).toFixed(2)+"s");B.push("background-color: inherit");
N&&(B.push("color: "+b(M)),B.push("color: inherit"));B=B.concat(Array.prototype.slice.call(arguments,3));x&&console.info.apply(console,B)}}};p.prototype.debugf=function(A,M,Q){this.log.apply(this,[1].concat(Array.prototype.slice.call(arguments)))};p.prototype.infof=function(A,M,Q){this.log.apply(this,[2].concat(Array.prototype.slice.call(arguments)))};p.prototype.noticef=function(A,M,Q){this.log.apply(this,[3].concat(Array.prototype.slice.call(arguments)))};p.prototype.warningf=function(A,M,Q){this.log.apply(this,
[4].concat(Array.prototype.slice.call(arguments)))};p.prototype.errorf=function(A,M,Q){this.log.apply(this,[5].concat(Array.prototype.slice.call(arguments)))};p.prototype.criticalf=function(A,M,Q){this.log.apply(this,[6].concat(Array.prototype.slice.call(arguments)))};p.prototype.alertf=function(A,M,Q){this.log.apply(this,[7].concat(Array.prototype.slice.call(arguments)))};p.prototype.emergencyf=function(A,M,Q){this.log.apply(this,[8].concat(Array.prototype.slice.call(arguments)))};var d=new p,k=
d.setPrefix.bind(d),g=d.setLevel.bind(d),u=d.setFilter.bind(d),H=d.debugf.bind(d),L=d.infof.bind(d),S=d.noticef.bind(d),c=d.warningf.bind(d),m=d.errorf.bind(d),l=d.criticalf.bind(d),v=d.alertf.bind(d);d=d.emergencyf.bind(d);I.DEFAULT=0;I.DEBUG=1;I.INFO=2;I.NOTICE=3;I.WARNING=4;I.ERROR=5;I.CRITICAL=6;I.ALERT=7;I.EMERGENCY=8;I.new=function(){return new p};I.newContext=function(A,M){var Q={},ja;for(ja in A)A.hasOwnProperty(ja)&&(Q[ja]=A[ja]);Q.id=M;return Q};I.timestamp=e;I.debugf=H;I.infof=L;I.noticef=
S;I.warningf=c;I.errorf=m;I.criticalf=l;I.alertf=v;I.emergencyf=d;I.setPrefix=k;I.setLevel=g;I.setFilter=u;I.setVerbose=function(A){E=A};I.setOutputEnabled=function(A){G=A}})(ra);window.__upo_d=window.__upo_d||{};var ca={};(function(I){var E=new function(){this.events={};this.addEventListener=function(x,y){this.events.hasOwnProperty(x)?this.events[x].push(y):this.events[x]=[y]};this.removeEventListener=function(x,y){this.events.hasOwnProperty(x)&&(y=this.events[x].indexOf(y),-1!=y&&this.events[x].splice(y,
1))};this.fireEvent=function(x,y,r,f){if(this.events.hasOwnProperty(x)){y=new G(x,y);x=this.events[x];f=x.length;for(var b=0;b<f;b++){try{var n=x[b].call(r,y)}catch(e){}if(void 0!=n)return n;if(y.shouldStop)break}}}},G=function(x,y){this.name=x;this.data=y;this.shouldStop=!1};I.CustomEvents=E})(ca);(function(I){var E=function(G,x,y,r){x=Error(x,y,r);x.type=G;Object.setPrototypeOf(x,Object.getPrototypeOf(this));Error.captureStackTrace&&Error.captureStackTrace(x,E);return x};E.prototype=Object.create(Error.prototype,
{constructor:{value:Error,enumerable:!1,writable:!0,configurable:!0}});Object.setPrototypeOf?Object.setPrototypeOf(E,Error):E.__proto__=Error;I.CustomError=E})({});var za={};(function(I){function E(b){return b.map(function(n){if("fluid"===n)return"fluid";var e=$jscomp.makeIterator(n.split("x").map(function(p){return parseInt(p,10)}));n=e.next().value;e=e.next().value;return isNaN(n)||isNaN(e)?null:{width:n,height:e}}).filter(function(n){return null!==n})}function G(b,n,e,p){switch(b){case "equals":return p===
n;case "startsWith":case "endsWith":case "includes":return p[b](n);case "equalsOneOf":return e.includes(p);case "startsWithOneOf":case "endsWithOneOf":case "includesOneOf":var d=b.split("OneOf")[0];return e.some(function(k){return p[d](k)})}}function x(b){b=void 0===b?{}:b;var n=void 0===b.forAllAdUnits?[]:b.forAllAdUnits,e=void 0===b.forAdUnits?[]:b.forAdUnits;if(0<n.length||0<e.length)return function(p){var d=[];n.forEach(function(k){var g=void 0===k.bidders?[]:k.bidders;f(k.whenDevice)&&d.push.apply(d,
g)});e.forEach(function(k){var g=k.code,u=k.codeList,H=k.whenCode,L=void 0===k.bidders?[]:k.bidders;f(k.whenDevice)&&r(H,g,u,p.code)&&d.push.apply(d,L)});p.bids=p.bids.filter(function(k){return!d.includes(k.bidder)});return p}}function y(b){return function(n){return b.some(function(e){var p=e.code,d=e.codeList,k=e.whenCode;if(f(e.whenDevice))return r(k,p,d,n.code)})}}function r(b,n,e,p){switch(b){case "equals":return p===n;case "startsWith":case "endsWith":case "includes":return p[b](n);case "equalsOneOf":return e.includes(p);
case "startsWithOneOf":case "endsWithOneOf":case "includesOneOf":var d=b.split("OneOf")[0];return e.some(function(k){return p[d](k)})}}function f(b){var n=$a.isMobile();switch(b){case "mobile":return n;case "desktop":return!n;default:return!0}}I.hideDOMElementsViaCSS={parseSettingValue:function(b){var n=void 0===b.org?[]:b.org,e=void 0===b.website?[]:b.website;return b.websiteOverridesOrg?e:[].concat($jscomp.arrayFromIterable(n),$jscomp.arrayFromIterable(e))},handler:function(b){var n=[];b.forEach(function(e){var p=
e.selectors;f(e.whenDevice)&&n.push.apply(n,$jscomp.arrayFromIterable(p))});0<n.length&&(b=document.createElement("style"),b.textContent=n.join(", ")+" { display: none !important; }",(document.head||document.body||document.documentElement).appendChild(b))}};I.insertCustomCSS={parseSettingValue:function(b){var n=void 0===b.org?[]:b.org,e=void 0===b.website?[]:b.website;return b.websiteOverridesOrg?e:[].concat($jscomp.arrayFromIterable(n),$jscomp.arrayFromIterable(e))},handler:function(b){var n="";
b.forEach(function(e){var p=void 0===e.customCSS?"":e.customCSS;f(e.whenDevice)&&(n=n+"\n"+p)});""!==n&&(b=document.createElement("style"),b.textContent=n,(document.head||document.body||document.documentElement).appendChild(b))}};I.prebidConfig={hookName:"prebidDoneInit",parseSettingValue:function(b){var n=void 0===b.org?{}:b.org,e=void 0===b.website?{}:b.website;return b.websiteOverridesOrg?e:Object.assign({},n,e)},handler:function(b,n){var e=n.data.cpbjs;e.que.push(function(){e.setConfig(b)})}};
I.removeSizes={hookName:"sizesToRemoveBySpace",parseSettingValue:function(b){var n=b.websiteOverridesOrg,e=void 0===b.org?{}:b.org,p=void 0===e.forAllSpaces?[]:e.forAllSpaces;e=void 0===e.forSpaces?[]:e.forSpaces;var d=void 0===b.website?{}:b.website;b=void 0===d.forAllSpaces?[]:d.forAllSpaces;d=void 0===d.forSpaces?[]:d.forSpaces;p=n?b:[].concat($jscomp.arrayFromIterable(p),$jscomp.arrayFromIterable(b));n=n?d:[].concat($jscomp.arrayFromIterable(e),$jscomp.arrayFromIterable(d));return{forAllSpaces:p,
forSpaces:n}},handler:function(b,n){var e=b.forAllSpaces;b=b.forSpaces;var p=n.data.spaceName,d=new Set;e.forEach(function(k){var g=void 0===k.sizes?[]:k.sizes;f(k.whenDevice)&&g.forEach(function(u){d.add(u)})});b.forEach(function(k){var g=k.name,u=k.nameList,H=k.whenName,L=void 0===k.sizes?[]:k.sizes;f(k.whenDevice)&&G(H,g,u,p)&&L.forEach(function(S){d.add(S)})});return E([].concat($jscomp.arrayFromIterable(d)))}};I.rewriteGAMSlots={hookName:"rewriteGAMSlots",handler:function(b,n){n=b.rewritePathData;
var e;switch(b.rewritePathMethod){case "insertBTAdUnit":b=n||{};var p=b.btUnitName,d=b.insertionDepth,k=b.maxDepth;d&&(e=function(g){var u=g.getAdUnitPath();"/"!==u[0]&&(u="/"+u);g=p||"Blockthrough";u=u.split("/");u.splice(d,0,g);k&&0<k&&(u=u.slice(0,k+1));return u.join("/")})}if(e)return{parseSlotAdUnitPath:e,shouldCopyTargeting:!0}}};I.scrapeGAMSlots={hookName:"scrapeGoogletagSlots",handler:function(b){return b}};I.scrapePrebid={hookName:"scrapePrebidAdUnits",parseSettingValue:function(b){var n=
void 0===b.org?{}:b.org,e=void 0===b.website?{}:b.website;if(b.websiteOverridesOrg)return e;b={};b.adUnitsVar=n.adUnitsVar||e.adUnitsVar;var p=(n.parse||{}).removeBidders,d=(e.parse||{}).removeBidders;if(p||d)b.parse={},b.parse.removeBidders=p&&d?{forAllAdUnits:[].concat($jscomp.arrayFromIterable(p.forAllAdUnits||[]),$jscomp.arrayFromIterable(d.forAllAdUnits||[])),forAdUnits:[].concat($jscomp.arrayFromIterable(p.forAdUnits||[]),$jscomp.arrayFromIterable(d.forAdUnits||[]))}:p||d;n=(n.filterOut||{}).adUnits;
e=(e.filterOut||{}).adUnits;if(n||e)b.filterOut={},b.filterOut.adUnits=n&&e?[].concat($jscomp.arrayFromIterable(n),$jscomp.arrayFromIterable(e)):n||e;return b},handler:function(b,n){var e=b.adUnitsVar,p=b.parse,d=b.filterOut;if(b.dontScrape)b=!1;else{b=n.hookFileData||{};e&&(b.getAdUnits=function(){return wa.extractVariableFromString(window,e)});if(p){var k=p.removeBidders?x(p.removeBidders):null,g=b.parseAdUnit;k&&(b.parseAdUnit=g?function(L){return k(g(L))}:k)}if(d){var u=d.adUnits?y(d.adUnits):
null,H=b.filterOutAdUnit;u&&(b.filterOutAdUnit=H?function(L){return H(L)||u(L)}:u)}}return b}}})(za);var T={};(function(I){I.consts={selectorPosition:{APPEND_CHILD:0,INSERT_BEFORE:1},complianceStatus:{UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4},acceptableStandardScreenSize:{width:1366,height:768},headerBiddingType:{prebid:1},refreshType:{UNKNOWN:0,ALL:1,VISIBLE:2,HIDDEN:3}};I.cpbjs=void 0;I.upoSettings={acceptableURLParam:"upapi=true",timeout:3E3,refreshTimeout:3E3,staticDomain:"static.btloader.com",
whitelistedFrameSettings:{url:"//static.btloader.com/safeFrame.html?upapi=true",laterSrcModification:void 0,isOurOriginSafeFrame:!0},minTimeBetweenRefreshes:3E4};var E=new function(){this.data={};this.setItem=function(G,x){this.data[G]=x};this.getItem=function(G){return this.data[G]};this.removeItem=function(G){delete this.data[G]};this.clearSharedObject=function(){this.data={}}};I.SharedObject=E;I.uGoogletag=void 0;I.whitelistedFrame=void 0})(T);var D={};(function(I){var E=function(x,y,r){for(var f=
[],b=0;b<x.length;b++)y.call(r,x[b],b,x)&&f.push(x[b]);return f},G=function(x){return"[object Array]"===Object.prototype.toString.call(x)};I.map=function(x,y){for(var r=[],f=0;f<x.length;f++)r.push(y(x[f],f,x));return r};I.filter=E;I.reject=function(x,y,r){for(var f=[],b=0;b<x.length;b++)y.call(r,x[b],b,x)||f.push(x[b]);return f};I.forEach=function(x,y){if(x)for(var r=0;r<x.length;r++)y(x[r],r,x)};I.find=function(x,y){for(var r=0;r<x.length;r++){var f=x[r];if(y(f,r,x))return f}};I.flat=function(x){for(var y=
[],r=0;r<x.length;r++){var f=x[r];if(G(f))for(var b=0;b<f.length;b++)y.push(f[b]);else y.push(f)}return y};I.isArray=G;I.distinct=function(x){return E(x,function(y,r,f){return f.indexOf(y)===r})};I.reduce=function(x,y){if(null===x)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof y)throw new TypeError(y+" is not a function");var r=Object(x),f=r.length>>>0,b=0;if(3<=arguments.length)var n=arguments[2];else{for(;b<f&&!(b in r);)b++;if(b>=f)throw new TypeError("Reduce of empty array with no initial value");
n=r[b++]}for(;b<f;)b in r&&(n=y(n,r[b],b,r)),b++;return n};I.CDefer=function(){this.fate="unresolved";this.state="pending";var x,y;this.promise=new Promise(function(r,f){x=r;y=f});this.promise.then(function(r){this.state="fulfilled";return r},function(r){this.state="rejected";return r});this.resolve=function(r){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate="resolved";x(r)};this.reject=function(r){if("resolved"===this.fate)throw"Deferred cannot be resolved twice";this.fate=
"resolved";y(r)};this.isResolved=function(){return"resolved"===this.fate};this.isPending=function(){return"pending"===this.state};this.isFulfilled=function(){return"fulfilled"===this.state};this.isRejected=function(){return"rejected"===this.state}};I.addClass=function(x,y){if(y&&x){var r=y.className;-1==r.indexOf(x)&&(""!=r&&(x=" "+x),y.className=r+x)}};I.removeClass=function(x,y){if(y&&x){var r=y.className;r=r.replace(new RegExp("\\b"+x+"\\b","g"),"");y.className=r}};I.hasClass=function(x,y){if(x&&
y)return-1<(" "+x.className+" ").indexOf(" "+y+" ")};I.objectAssign=function(x,y){if(null===x||void 0===x)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(x),f=1;f<arguments.length;f++){var b=arguments[f];if(null!==b&&void 0!==b)for(var n in b)Object.prototype.hasOwnProperty.call(b,n)&&(r[n]=b[n])}return r}})(D);var na={};(function(I){var E=function(r,f,b){if(!r||"number"!==typeof f||"number"!==typeof b||0>=f||0>=b||f>b)throw new TypeError;f=Math.floor(Math.random()*
(b+1-f))+f;b="";for(var n=0;n<f;n++)b+=r.charAt(Math.floor(Math.random()*r.length));return b},G=function(r,f){return E("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r,f)},x=function(r,f){return E("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",r,f)},y=function(r,f){return E("0123456789",r,f)};I.stringRange=G;I.string=function(r){return G(r,r)};I.lettersRange=x;I.letters=function(r){return x(r,r)};I.digitsRange=y;I.digits=function(r){return y(r,r)}})(na);var Ca={};(function(I){var E=
ra.new();E.setPrefix("utf8: ");I.encode=function(G){try{if(window.TextEncoder)return(new window.TextEncoder("utf-8")).encode(G).buffer}catch(r){E.debugf(null,"TextEncoder %o",r)}G=unescape(encodeURIComponent(G));for(var x=new Uint8Array(G.length),y=0;y<G.length;y++)x[y]=G.charCodeAt(y);return x.buffer};I.decode=function(G){try{if(window.TextDecoder)return(new window.TextDecoder("utf-8")).decode(new Uint8Array(G))}catch(f){E.debugf(null,"TextDecoder %o",f)}var x="";G=new Uint8Array(G);for(var y=G.byteLength,
r=0;r<y;r++)x+=String.fromCharCode(G[r]);return decodeURIComponent(escape(x))}})(Ca);var sa={};(function(I){var E=ca.CustomEvents,G=new function(){this.Types={XHR_OPEN_PRE:"xhropenpre",FETCH_PRE:"fetchpre",REMOVE_CHILD_PRE:"removechildpre",INSERT_BEFORE_PRE:"insertbeforepre",APPEND_CHILD_PRE:"appendchildpre",APPEND_CHILD_POST:"appendchildpost",IMG_SET_ATTRIBUTE_PRE:"imgsetattributepre",SET_ATTRIBUTE_PRE:"setattributepre",WIN_OPEN_PRE:"winopenpre",HTML_SRC_PROP_PRE:"htmlsrcproppre",HTML_ELEMENT_INNERHTML_PRE:"htmlelementinnerhtmlpre",
HTML_ELEMENT_INNERHTML_POST:"htmlelementinnerhtmlpost",HTML_ELEMENT_HAS_CHILD_NODES_PRE:"htmlelementhaschildnodespre",HTML_ELEMENT_TEXTCONTENT_PRE:"htmlelementtextcontentpre"};var x=["xhrThwartOpen","fetchThwartOpen"];this.hookFunction=function(y,r,f,b,n){var e=y[r];e&&(y[r]=function(){var p=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return e.apply(this,p);if(f)try{var d=E.fireEvent(f,p,this);if(void 0!=d)return d}catch(k){if(!n)throw k;if(0<=x.indexOf(k.type))throw k;}d=
e.apply(this,p);if(b)try{E.fireEvent(b,d,this)}catch(k){if(!n)throw k;if(0<=x.indexOf(k.type))throw k;}return d})};this.hookPropertySetter=function(y,r,f,b,n){var e=y.__lookupGetter__(r),p=y.__lookupSetter__(r);e&&(y.__defineSetter__(r,function(){var d=Array.prototype.slice.call(arguments);if(window.__bt_intrnl.stopFlag)return p.apply(this,d);if(f)try{var k=E.fireEvent(f,d,this);if(void 0!=k)return k}catch(g){if(!n)throw g;if(0<=x.indexOf(g.type))throw g;}k=p.apply(this,d);if(b)try{E.fireEvent(b,
k,this)}catch(g){if(!n)throw g;if(0<=x.indexOf(g.type))throw g;}return k}),y.__defineGetter__(r,function(){try{return e.apply(this)}catch(d){}}))};this.addEventListener=function(y,r){E.addEventListener(y,r)}};I.Hooks=G})(sa);var fb={};(function(I){var E=ca.CustomEvents,G={},x=Object.entries(G).reduce(function(y,r){r=$jscomp.makeIterator(r);var f=r.next().value;r=r.next().value;r._enabled&&(f.endsWith("__org")?(f=f.split("__org")[0],y[f]=y[f]||{},y[f].org=r.value):f.endsWith("__website")?
(f=f.split("__website")[0],y[f]=y[f]||{},y[f].websiteOverridesOrg=!!r._overrides_org,y[f].website=r.value):y[f]=r.value);return y},{});I.settings={rawSettings:G,parsed:x};I.loadSettings=function(){Object.entries(x).forEach(function(y){var r=$jscomp.makeIterator(y);y=r.next().value;r=r.next().value;if(za[y]){var f=za[y],b=f.hookName,n=f.parseSettingValue,e=f.handler,p=n?n(r):r;b?E.addEventListener(b,function(d){return e(p,d)}):(e(p),ra.infof(null,"scriptsettings: loadSettings: "+y+" (no associated hook): Setting applied."))}else ra.errorf(null,
"scriptsettings: loadSettings: No setting handler found for %o (setting will not be applied).",y)})}})(fb);var nb={};(function(I){var E=ca.CustomEvents,G=function(){var x="push";window.googletag.cmd.unshift&&(x="unshift");window.googletag.cmd[x](function(){window.__cmp&&window.__cmp("getVendorConsents",null,function(y){!y||!y.gdprApplies||y.purposeConsents&&y.purposeConsents[1]&&y.purposeConsents[2]&&y.purposeConsents[3]&&y.purposeConsents[4]&&y.purposeConsents[5]||window.googletag.pubads().setRequestNonPersonalizedAds(1)});
E.fireEvent("skipDisableInitialLoad")||window.googletag.pubads().disableInitialLoad();E.fireEvent("disableSingleRequest")||window.googletag.pubads().enableSingleRequest();E.fireEvent("collapseEmptyDivs")&&window.googletag.pubads().collapseEmptyDivs(!0);window.googletag.pubads().enableAsyncRendering();window.googletag.enableServices()})};I.presetProvider=function(x){switch(x){case "dfp":return G}}})(nb);var ib={};(function(I){var E=ra.new();E.setPrefix("visibiliy: ");var G=[],x=function(f){f=f.getBoundingClientRect();
return document.hasFocus()&&0<=f.top&&0<=f.left&&f.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&f.right<=(window.innerWidth||document.documentElement.clientWidth)},y=function(){for(var f=[],b=0;b<G.length;b++){var n=G[b][0];if(n&&n.parentElement){var e=G[b][1];x(n)?e():f.push([n,e])}}G=f};U.onFocus(function(){y()});U.onScroll(function(){y()});var r=function(f){if(f){var b=f.getBoundingClientRect();return b.width||b.height?(f=document.documentElement,{top:b.top+window.pageYOffset-
f.clientTop,left:b.left+window.pageXOffset-f.clientLeft}):b}};I.onVisible=function(f,b){f&&f.parentElement&&(x(f)?b():G.push([f,b]))};I.calculateElementOffset=r;I.isElementVisible=function(f){var b=!1;try{var n=document.querySelector(f)}catch(S){E.errorf(null,"document.querySelector:%o - error:%o",f,S)}if(!n)return!1;if("none"===window.getComputedStyle(n).display){var e=n.style.getPropertyValue("display");var p=n.style.getPropertyPriority("display");n.style.setProperty("display","block","important");
b=!0}f=r(n);var d=document.documentElement.scrollLeft||window.scrollX,k=document.documentElement.scrollTop||window.scrollY,g=window.innerHeight,u=window.innerWidth,H=n.offsetHeight,L=n.offsetWidth;f=f.left>=d&&f.top>=k&&L+f.left<=d+u&&H+f.top<=k+g?!0:(f.left<=d&&f.left+L>d||f.left>=d&&f.left<=d+u)&&(f.top<=k&&f.top+H>k||f.top>=k&&f.top<=k+g)?!0:!1;"hidden"===document.visibilityState&&(f=!1);b&&n.style.setProperty("display",e,p);return f}})(ib);var $a={};(function(I){I.PlatformUnknown="unknown";I.PlatformAndroid=
"android";I.PlatformIOS="ios";I.PlatformWindows="windows";I.PlatformLinux="linux";I.PlatformOSX="osx";I.BrowserUnknown="unknown";I.BrowserChrome="chrome";I.BrowserFirefox="firefox";I.BrowserIE="ie";I.BrowserEdge="edge";I.BrowserOpera="opera";I.BrowserSafari="safari";I.BrowserUCBrowser="uc";I.DeviceUnknown="unknown";I.DeviceHighEndPhone="highendphone";I.DeviceTablet="tablet";I.DevicePersonalComputer="pc";I.DeviceConnectedTV="tv";I.DeviceGameConsole="console";I.browser=function(){var E=navigator.userAgent;
return/edge/i.test(E)?"edge":/opera/i.test(E)||/opr|opios/i.test(E)?"opera":/chrome|chromium/i.test(E)?"chrome":/firefox|iceweasel|fxios/i.test(E)?"firefox":/msie|trident/i.test(E)?"ie":/^((?!chrome|android).)*safari/i.test(E)?"safari":/ucbrowser/i.test(E)?"uc":window.chrome?"chrome":"undefined"!==typeof InstallTrigger?"firefox":eval("/*@cc_on!@*/false")||document.documentMode?"ie":window.StyleMedia?"edge":"unknown"};I.platform=function(){var E=navigator.userAgent;return/windows|win32/i.test(E)?"windows":
/ipod|iphone|ipad/i.test(E)?"ios":/android/i.test(E)?"android":/macintosh|mac os x/i.test(E)?"osx":/linux/i.test(E)?"linux":/windows phone/i.test(E)?"windowsphone":"unknown"};I.device=function(){var E=navigator.userAgent;return/tablet|ipad/i.test(E)?"tablet":/mobile/i.test(E)||/android|webos|iphone|ipod|blackberry|iemobile|windows phone|opera mini/i.test(E)||/ucbrowser/i.test(E)&&window.ucweb?"highendphone":"pc"};I.isMobile=function(){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||
navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||
navigator.vendor||window.opera).substr(0,4))}})($a);var rb={};(function(I){I.set=function(E,G){if(!window.localStorage&&!window.sessionStorage)return ra.errorf(null,"no Storage implementations"),!1;var x=!1;if(window.localStorage)try{window.localStorage.setItem(E,G),x=!0}catch(y){ra.errorf(null,"webstore: set: localStorage(%s): %o",E,y)}if(window.sessionStorage)try{window.sessionStorage.setItem(E,G),x=!0}catch(y){ra.errorf(null,"webstore: set: sessionStorage(%s): %o",E,y)}return x};I.get=function(E){return window.localStorage?
window.localStorage.getItem(E):window.sessionStorage?window.sessionStorage.getItem(E):null};I.remove=function(E){var G=null;if(window.localStorage)try{window.localStorage.removeItem(E)}catch(x){ra.errorf(null,"webstore: remove: localStorage(%s): %o",E,x),G=x}if(window.sessionStorage)try{window.sessionStorage.removeItem(E)}catch(x){ra.errorf(null,"webstore: remove: sessionStorage(%s): %o",E,x),G=x}return null!=G?!1:!0}})(rb);var wa={};(function(I){function E(c,m){return m?"\x00"===c?"\ufffd":c.slice(0,
-1)+"\\"+c.charCodeAt(c.length-1).toString(16)+" ":"\\"+c}function G(c){var m=c.charAt(0);return"#"===m||"."===m?m+c.substring(1).replace(r,E):c}function x(c){return Math.floor(Math.random()*Math.floor(c))}I.addAcceptableParam=function(c){if(-1<c.indexOf(T.upoSettings.acceptableURLParam))return c;c=-1<c.indexOf("?")?c+"&"+T.upoSettings.acceptableURLParam:c+"?"+T.upoSettings.acceptableURLParam;return c=c.replace("&&upapi=true","&upapi=true")};var y=function(c){if(!c)return c;var m=[Number,String,Boolean];
try{if(D.forEach(m,function(A){c instanceof A&&(l=A(c))}),"undefined"==typeof l)if("[object Array]"===Object.prototype.toString.call(c)){var l=[];D.forEach(c,function(A,M,Q){l[M]=y(A)})}else if("object"==typeof c)if(c.nodeType&&"function"==typeof c.cloneNode)l=c.cloneNode(!0);else if(c.prototype)l=c;else if(c instanceof Date)l=new Date(c);else{l={};for(var v in c)l[v]=y(c[v])}else l=c}catch(A){l=c}return l},r=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,f=function(c){try{if(c){try{var m=document.querySelector(G(c))}catch(M){}if(m){c=
!1;if("none"===window.getComputedStyle(m).display){var l=m.style.getPropertyValue("display");var v=m.style.getPropertyPriority("display");m.style.setProperty("display","block","important");c=!0}var A=m.getBoundingClientRect().top+window.scrollY;c&&m.style.setProperty("display",l,v);return A<=T.consts.acceptableStandardScreenSize.height}}}catch(M){}};I.deepClone=y;I.isNil=function(c){return null==c};I.escapeSelector=G;I.isFirstViewPortElement=f;I.extractQueryParamFromUrl=function(c,m){c=c.replace(/[\[\]]/g,
"\\$&");return(c=(new RegExp("[?&]"+c+"(=([^&#]*)|&|#|$)")).exec(m))?c[2]?decodeURIComponent(c[2].replace(/\+/g," ")):"":null};I.doesBrowserSupportDocOpen=function(){var c=$a.browser();return!("edge"===c||"ie"===c)};I.getTopmostAccessibleWindow=function(){var c=window;try{for(;c!==c.parent;)c.parent.document,c=c.parent}catch(m){}return c};I.extractVariableFromString=function(c,m){if(c){m=m.split(".");for(var l=0;l<m.length;l++){var v=m[l];if(!c[v])return;c=c[v]}return c}};I.getRandomInt=x;I.getTrueByProbability=
function(c){return x(100)<c};I.truncateString=function(c,m){return c.length>m?c.substring(0,m):c};var b=new function(){this.insertElement=function(c,m,l){switch(l){case "appendChild":m.appendChild(c);break;case "insertBefore":m.parentElement.insertBefore(c,m);break;case "insertAfter":m.nextElementSibling?this.insertElement(c,m.nextElementSibling,"insertBefore"):this.insertElement(c,m.parentElement,"appendChild")}}};I.ElementInsertion=b;var n=function(c){var m=c.width,l=16<=m*c.height/(T.consts.acceptableStandardScreenSize.width*
T.consts.acceptableStandardScreenSize.height)*100;return 2==(350<c.width?1:2)?l||350<m:l||200<c.height},e=function(c,m){var l=c&&document.querySelector(G(c)),v=350<m.width?1:2,A=!1,M=!1,Q=m.height,ja=m.width;if(l){if("none"===window.getComputedStyle(l).display){var F=l.style.getPropertyValue("display");var N=l.style.getPropertyPriority("display");l.style.setProperty("display","block","important");A=!0}Q=l.getBoundingClientRect().top;Q=(M=Q+m.height>T.consts.acceptableStandardScreenSize.height)?T.consts.acceptableStandardScreenSize.height-
Q:m.height}c=2==v&&M?e(c,{width:ja,height:Q})&&p(m):n(m);A&&l.style.setProperty("display",F,N);return c},p=function(c){var m=350<c.width?1:2;return 26<=c.width*c.height/(T.consts.acceptableStandardScreenSize.width*T.consts.acceptableStandardScreenSize.height)*100||1==m&&400<c.height},d=function(c,m){return c&&document.querySelector(G(c))&&!f(c)?p(m):e(c,m)};I.isUnacceptable=d;var k=[{width:300,height:250},{width:336,height:280},{width:300,height:600},{width:160,height:600},{width:120,height:600},
{width:120,height:240},{width:250,height:250},{width:200,height:200},{width:180,height:150},{width:125,height:125},{width:728,height:90},{width:970,height:90},{width:970,height:250},{width:468,height:60},{width:234,height:60}],g=function(c,m){return D.filter(c,function(l){return(350<l.width?1:2)==m})},u=function(c,m){c=g(k,c);return c=D.filter(c,function(l){return n(l)?!m:!0})},H=function(c,m,l){for(var v,A,M=A=v=0;M<c.length;M++){var Q=c[M];Q&&Q.width&&Q.height&&(Q.width>v&&(v=Q.width),Q.height>
A&&(A=Q.height))}m=u(350<m.width?1:2,l);for(l=0;l<m.length;l++)if(M=m[l],M.width<=v&&M.height<=A){Q=!0;for(var ja=0;ja<c.length;ja++){var F=c[ja];if(F&&F.width==M.width&&F.height==M.height){Q=!1;break}}if(Q)return M}};I.sizesReplacer=function(c,m){var l=[];D.forEach(m,function(M){l.push({width:M.width,height:M.height})});for(m=0;m<l.length;m++){var v=l[m],A=f(c);v&&v.width&&v.height&&d(c,v)&&(l[m]=H(l,v,A))}return l};I.SubscriptionLayer=function(){var c={};this.subscribeForEvent=function(m,l){c[m]=
c[m]||[];0>c[m].indexOf(l)&&c[m].push(l)};this.invokeEventCallbacks=function(m,l){D.forEach(c[m]||[],function(v){v.call(void 0,l)})}};var L=function(c){var m=document.createElement("a");m.setAttribute("href",c);return m},S=function(c,m){if(c&&0<c.length)for(var l=0;l<c.length;l++){for(var v=c[l],A=!0,M=0;M<v.length;M++){var Q=v[M];if(0>m[Q.type].indexOf(Q.string)){A=!1;break}}if(A)return!0}};I.isSyncUrl=function(c,m){if("IMG"!==m)return!1;c=L(c);m=[[{string:"/sync",type:"pathname"}],[{string:"/cookiesync",
type:"pathname"}],[{string:"/rset",type:"pathname"}],[{string:"/getuid",type:"pathname"}],[{string:"/track",type:"pathname"}],[{string:"/pixel",type:"pathname"}],[{string:"/Pixel",type:"pathname"}],[{string:".pixel",type:"pathname"}],[{string:"pixel.",type:"pathname"}],[{string:"/match",type:"pathname"}],[{string:"/partner",type:"pathname"}],[{string:"/visitormatch",type:"pathname"}],[{string:"/ping_match",type:"pathname"}],[{string:"/ImgSync",type:"pathname"}],[{string:"/identify",type:"pathname"}],
[{string:"/usync/",type:"pathname"}],[{string:"/usersync",type:"pathname"}],[{string:"/user-sync",type:"pathname"}],[{string:"/ddm/trackimp",type:"pathname"}],[{string:"/user_sync.php",type:"pathname"}],[{string:"/bh/rtset",type:"pathname"}],[{string:"%2Fsync",type:"pathname"}],[{string:"cksync.php",type:"pathname"}],[{string:".sync",type:"hostname"}],[{string:"sync-",type:"hostname"}],[{string:"storygize.net",type:"hostname"},{string:"/ccm",type:"href"}],[{string:"geo-um.btrll.com",type:"hostname"}],
[{string:"nexac.com",type:"hostname"},{string:"/e/sr",type:"href"}],[{string:"api.bttrack.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"sitescout.com",type:"hostname"}],[{string:"criteo.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"},{string:"/sync",type:"href"}]];for(var l=0;l<m.length;l++){for(var v=m[l],A=!0,M=0;M<v.length;M++){var Q=v[M];if(0>c[Q.type].indexOf(Q.string)){A=!1;break}}if(A)return!0}return!1};I.isWhitelistURL=function(c,m){c=L(c);return S({SCRIPT:[[{string:"3lift.com",
type:"hostname"},{string:"/header",type:"href"}]]}[m],c)?!1:S({IMG:[[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleclick.net",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"postrelease.com",type:"hostname"}],[{string:"mynativeplatform.com",type:"hostname"}],[{string:"360yield.com",type:"hostname"}],[{string:"sharethrough.com",type:"hostname"}],[{string:"doubleverify.com",type:"hostname"}],[{string:"zemanta.com",type:"hostname"}],[{string:"adnxs.com",type:"hostname"}],
[{string:"sonobi.com",type:"hostname"}],[{string:"insight.adsrvr.org",type:"hostname"}],[{string:"serving-sys.com",type:"hostname"}],[{string:"advertising.com",type:"hostname"}],[{string:"openx.net",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"flashtalking.com",type:"hostname"},{string:"/imp",type:"href"}],[{string:"adroll.com",type:"hostname"}],[{string:"33across.com",type:"hostname"},{string:"/ps",type:"href"}],[{string:"adsrvr.org/bid",type:"href"}],[{string:"imrworldwide.com",
type:"hostname"}],[{string:"criteo.com",type:"hostname"},{string:"/delivery",type:"href"}],[{string:"ad_overlays",type:"pathname"}]],IFRAME:[[{string:"googlesyndication.com/safeframe",type:"href"}],[{string:"ad.doubleclick.net/ddm",type:"hostname"}],[{string:"rubiconproject.com",type:"hostname"},{string:"multi-sync.html",type:"href"}],[{string:"3lift.com",type:"hostname"},{string:"sync?",type:"href"}],[{string:"ca-pub-15988",type:"href"}],[{string:"ff.doubleclick.net",type:"hostname"}]],SCRIPT:[[{string:"adnxs.com",
type:"hostname"},{string:"trk.js",type:"href"}],[{string:"/sync",type:"pathname"}],[{string:"pagead2.googlesyndication.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}],[{string:"doubleclick.net/gpt/pubads_impl_",type:"href"}],[{string:"native.sharethrough.com/assets/sfp.js",type:"href"}],[{string:"sharethrough.com/api",type:"href"}],[{string:"moatads.com",type:"hostname"}],[{string:"3lift.com",type:"hostname"}],[{string:"adsafeprotected.com",type:"hostname"}],[{string:"doubleverify.com",
type:"hostname"}],[{string:"match.adsrvr.org",type:"hostname"}],[{string:".adnxs.com/getuidp",type:"href"}],[{string:"pubads_impl_rendering_",type:"href"}],[{string:"cdn.ampproject.org",type:"href"}]],LINK:[[{string:"//tpc.googlesyndication.com/safeframe",type:"href"}],[{string:"ntv.io",type:"hostname"}],[{string:"moatads.com",type:"hostname"}],[{string:"adservice.google.",type:"hostname"}]]}[m],c)?!0:!1}})(wa);(function(I){var E="0",G=function(){var d=e(E);return d?(d=JSON.parse(d),"object"!=typeof d?
{}:d):{}},x=function(d){return(d=JSON.stringify(d))?n(E,d):!1},y=function(d){return null==d?!1:0>d-(new Date).getTime()},r=function(d){var k=G();delete k[d];return x(k)};I.setFlag=function(d,k,g){var u=G();u[d]={v:k,e:g};return x(u)};I.getFlag=function(d){var k=G();return void 0==k[d]?null:y(k[d].e)?(r(d),null):k[d].v};I.removeFlag=r;I.clearFlags=function(d){return p(E)};I.expireFlags=function(){var d=G(),k=[],g;for(g in d)y(d[g].e)&&k.push(g);if(0!=k.length){for(g in k)delete d[g];x(d)}};var f=0,
b=function(d){return da.sum32a(Ca.encode(f.toString()+"___"+d)).toString()},n=function(d,k){d=b(d);return rb.set(d,btoa(k))},e=function(d){d=b(d);return(d=rb.get(d))?atob(d):null},p=function(d){d=b(d);return rb.remove(d)};I.setSeed=function(d){f=d;E=b("opt_"+d.toString())};I.set=n;I.get=e;I.remove=p})({});var ub={};(function(I){function E(b){try{return document.querySelector(b)}catch(n){G.errorf(null,"document.querySelector:%o - error:%o",b,n)}}var G=ra.new();G.setPrefix("utils: ");I.refreshTypeDecoder=
function(b){switch(b){case "ALL":return T.consts.refreshType.ALL;case "VISIBLE":return T.consts.refreshType.VISIBLE;case "HIDDEN":return T.consts.refreshType.HIDDEN;default:return T.consts.refreshType.UNKNOWN}};I.getElementWithSelector=E;I.getSpaceElement=function(b){return b&&b.selector?E(b.selector.value):null};var x=new function(){var b=[],n=[];this.setMovePositionRules=function(p){b=p||[]};this.dispatch=function(p){try{if(!(!b||0>=b.length||!(p=D.filter(p,function(k){return 0>n.indexOf(k)}))||
0>=p.length)){var d=function(k,g){if(!(k>g)){for(var u=0;u<p.length;u++){for(var H=p[u],L=[],S=0;S<b.length;S++){var c=b[S];e(c,{space:H})&&(n.push(H),c.stayLive||L.push(c))}b=0<L.length?D.filter(b,function(m){return 0>L.indexOf(m)}):b}0<b.length&&setTimeout(function(){d(k+1,g)},100)}};d(0,20)}}catch(k){}};var e=function(p,d){var k=p.elementToMove(d);d=p.relativeElement(d);return k&&d&&!k.__upo_moved?(wa.ElementInsertion.insertElement(k,d,p.htmlElementInsertionType),k.__upo_moved=!0):!1}};I.movePositionService=
x;var y={},r=function(b,n){try{b.addEventListenerOrginal=b.addEventListener,b.addEventListener=function(){var e=Array.prototype.slice.call(arguments);if("load"==e[0])y[n]=y[n]||[],y[n].push(e[1]);else return b.addEventListenerOrginal.apply(this,e)},b.removeEventListenerOrginal=b.removeEventListener,b.removeEventListener=function(){var e=Array.prototype.slice.call(arguments);if("load"==e[0])y[n]&&(y[n]=D.filter(y[n],function(p){return p!=e[1]}));else return b.removeEventListenerOrginal.apply(this,
e)}}catch(e){}},f=function(b){b=b.contentWindow;var n=function(c){0==c.indexOf("//")&&(c=wa.getTopmostAccessibleWindow().location.protocol+c);return c},e=function(c,m){if(c&&""==c.src&&c.outerHTML){var l=(new RegExp(m+'="([^"]+)"',"g")).exec(c.outerHTML);l&&l[1]&&(c[m]=n(l[1]))}},p=b.XMLHttpRequest.prototype.open;b.XMLHttpRequest.prototype.open=function(){try{var c=Array.prototype.slice.call(arguments);c[1]=n(c[1])}catch(m){}return p.apply(this,c)};var d=b.open;b.open=function(){try{var c=Array.prototype.slice.call(arguments);
c[0]=n(c[0])}catch(m){}return d.apply(this,c)};var k=b.HTMLElement.prototype.insertBefore;b.HTMLElement.prototype.insertBefore=function(){try{var c=Array.prototype.slice.call(arguments),m=k.apply(this,c);-1<["SCRIPT","IFRAME"].indexOf(c[0].tagName)&&e(c[0],"src");"LINK"===c[0].tagName&&e(c[0],"href")}catch(l){}return m};var g=b.HTMLElement.prototype.appendChild;b.HTMLElement.prototype.appendChild=function(){try{var c=Array.prototype.slice.call(arguments),m=g.apply(this,c);-1<["SCRIPT","IFRAME"].indexOf(c[0].tagName)&&
e(c[0],"src");"LINK"===c[0].tagName&&e(c[0],"href")}catch(l){}return m};var u=b.HTMLElement.prototype.__lookupGetter__("innerHTML"),H=b.HTMLElement.prototype.__lookupSetter__("innerHTML");b.HTMLElement.prototype.__defineSetter__("innerHTML",function(){try{var c=Array.prototype.slice.call(arguments),m=H.apply(this,c);e(this.firstChild,"src")}catch(l){}return m});b.HTMLElement.prototype.__defineGetter__("innerHTML",function(){try{return u.apply(this)}catch(c){}});for(var L="HTMLScriptElement HTMLElement HTMLVideoElement HTMLAudioElement HTMLHtmlElement HTMLHeadElement HTMLLinkElement HTMLStyleElement HTMLBodyElement HTMLFormElement HTMLSelectElement HTMLOptionElement HTMLInputElement HTMLTextAreaElement HTMLButtonElement HTMLLabelElement HTMLFieldSetElement HTMLLegendElement HTMLUListElement HTMLOListElement HTMLDListElement HTMLDirectoryElement HTMLMenuElement HTMLLIElement HTMLDivElement HTMLParagraphElement HTMLHeadingElement HTMLQuoteElement HTMLPreElement HTMLBRElement HTMLFontElement HTMLHRElement HTMLAnchorElement HTMLImageElement HTMLObjectElement HTMLParamElement HTMLMapElement HTMLModElement HTMLAreaElement HTMLTableElement HTMLTableCaptionElement HTMLTableColElement HTMLTableSectionElement HTMLTableRowElement HTMLTableCellElement HTMLFrameSetElement HTMLFrameElement HTMLIFrameElement".split(" "),
S=0;S<L.length;S++)b[L[S]]&&function(c){c=c.prototype;var m=c.__lookupGetter__("src"),l=c.__lookupSetter__("src");m&&(c.__defineSetter__("src",function(){try{var v=Array.prototype.slice.call(arguments);v[0]=n(v[0])}catch(A){}return l.apply(this,v)}),c.__defineGetter__("src",function(){try{return m.apply(this)}catch(v){}}))}(b[L[S]])};I.createSafeFrame=function(){var b=document.createElement("iframe"),n=na.stringRange(16,24),e=function(){this.removeEventListener("load",e);try{if(-1<this.src.indexOf("about:blank")&&
f(this),"firefox"===$a.browser())if(T.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame){var d="var script = document.createElement('script'); script.textContent=atob('"+btoa('document.write(\'<html> <head> <script> var evalCode = function (code) { try { window.eval(code) } catch (error) { } }; window.addEventListener("message", function (event) { var data; if (typeof(event) === "object" && event.data.type) { data = event.data; } else { try { data = JSON.parse(event.data); } catch (err) { } }; if (!data) { return; } switch (data.type) { case "eval": evalCode(data.code); break; default: break; } }); \x3c/script> </head> <body> </body> </html>\');try{document.__defineGetter__("readyState",function(){return "complete"});window.setTimeout(function(){document.close();},300);}catch(e){};')+
"'); document.documentElement.appendChild(script);";this.contentWindow.postMessage({type:"eval",code:d},"*")}else{var k=this.contentWindow.document,g=k.createElement("script");g.textContent='document.write(\'<html><head></head><body><div></div></body></html>\');try{document.__defineGetter__("readyState",function(){return "complete"});window.setTimeout(function(){document.close();},300);}catch(e){};';k.documentElement.appendChild(g)}}catch(u){}},p=function(){try{this.addEventListener=this.addEventListenerOrginal,
delete this.addEventListenerOrginal,this.removeEventListener=this.removeEventListenerOrginal,delete this.removeEventListenerOrginal}catch(d){}this.removeEventListener("load",p);this.addEventListener("load",e);y[n]&&D.forEach(y[n],function(d){this.addEventListener("load",d)}.bind(this));this.src=T.upoSettings.whitelistedFrameSettings.laterSrcModification};T.upoSettings.whitelistedFrameSettings.laterSrcModification?(b.addEventListener("load",p),r(b,n)):b.addEventListener("load",e);b.src=T.upoSettings.whitelistedFrameSettings.url;
return b}})(ub);var ob={};(function(I){var E=new function(){var f=new wa.SubscriptionLayer;this.subscribeForEvent=function(p,d){f.subscribeForEvent(p,d)};var b=function(){return new Promise(function(p,d){var k=!1;try{if(window.googletag&&window.googletag.getVersion){k=!0;var g=document.createElement("script");g.async="true";g.type="text/javascript";g.addEventListener("load",function(){p()});g.addEventListener("error",function(A){d(A)});g.src="https://securepubads.g.doubleclick.net/gpt/pubads_impl_"+
window.googletag.getVersion()+".js?upapi=true";(document.head||document.body||document.documentElement).appendChild(g)}}catch(A){d("error in getting pubads_impl -> "+A)}if(window.googletag._vars_){var u=window.googletag._vars_,H=[21063911,21063048,21063670,21063817,21063671],L=[],S;for(S in u){var c=u[S];if("string"===typeof c&&-1<c.indexOf("pubads_impl_")&&!k)try{k=!0,g=document.createElement("script"),g.async="true",g.type="text/javascript",g.addEventListener("load",function(){p()}),g.addEventListener("error",
function(A){d(A)}),-1<c.indexOf("?")?g.src=c+"&upapi=true":g.src=c+"?upapi=true",(document.head||document.body||document.documentElement).appendChild(g)}catch(A){d("error in getting pubads_impl -> "+A)}else if(Array.isArray(c))try{var m=c.length;if(H)for(;m--;){var l=c[m];-1<H.indexOf(l)&&c.splice(m,1)}if(L)for(var v=0;v<L.length;v++)l=L[v],-1===c.indexOf(l)&&c.push(l)}catch(A){}}}k||d()})},n=function(){return new Promise(function(p,d){var k=document.createElement("script");k.async="true";k.type=
"text/javascript";k.addEventListener("load",function(){p()});k.addEventListener("error",function(g){d(g)});k.src="https://adservice.google.com/adsid/integrator.js?domain="+window.location.hostname+"&upapi=true";(document.head||document.body||document.documentElement).appendChild(k)})},e=function(){return new Promise(function(p,d){var k=document.createElement("script");k.async="true";k.type="text/javascript";k.addEventListener("load",function(){Promise.all([n(),b()]).then(function(){p()},function(g){d(g)})});
k.addEventListener("error",function(){d()});k.src="//www.googletagservices.com/tag/js/gpt.js?upapi=true";(document.head||document.body||document.documentElement).appendChild(k)})};this.load=function(){window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[];f.invokeEventCallbacks("preset");e()}},G=new wa.SubscriptionLayer,x=!1,y=function(){x||(x=!0,E.subscribeForEvent("preset",function(){G.invokeEventCallbacks("dfp")}),E.subscribeForEvent("postset",function(){G.invokeEventCallbacks("dfp")}),
r.subscribeForEvent("preset",function(){G.invokeEventCallbacks("prebid")}),r.subscribeForEvent("postset",function(){G.invokeEventCallbacks("prebid")}))};I.init=y;I.loadThirdParty=function(f){x||y();switch(f){case "dfp":E.load();break;case "prebid":r.load()}};I.addPresetCallback=function(f,b){G.subscribeForEvent(f,b)};I.addPostsetCallback=function(f,b){G.subscribeForEvent(f,b)};var r=new function(){var f=new wa.SubscriptionLayer;this.subscribeForEvent=function(n,e){f.subscribeForEvent(n,e)};var b=
function(){try{var n=atob("LyogcHJlYmlkLmpzIHY0LjE3LjAKVXBkYXRlZCA6IDIwMjEtMDYtMDEgKi8KIWZ1bmN0aW9uKHUpe3ZhciBzPXdpbmRvdy51cGJqc0NodW5rO3dpbmRvdy51cGJqc0NodW5rPWZ1bmN0aW9uKGUsdCxuKXtmb3IodmFyIHIsaSxvLGE9MCxjPVtdO2E8ZS5sZW5ndGg7YSsrKWk9ZVthXSxkW2ldJiZjLnB1c2goZFtpXVswXSksZFtpXT0wO2ZvcihyIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikmJih1W3JdPXRbcl0pO2ZvcihzJiZzKGUsdCxuKTtjLmxlbmd0aDspYy5zaGlmdCgpKCk7aWYobilmb3IoYT0wO2E8bi5sZW5ndGg7YSsrKW89ZihmLnM9blthXSk7cmV0dXJuIG99O3ZhciBuPXt9LGQ9ezM2NjowfTtmdW5jdGlvbiBmKGUpe2lmKG5bZV0pcmV0dXJuIG5bZV0uZXhwb3J0czt2YXIgdD1uW2VdPXtpOmUsbDohMSxleHBvcnRzOnt9fTtyZXR1cm4gdVtlXS5jYWxsKHQuZXhwb3J0cyx0LHQuZXhwb3J0cyxmKSx0Lmw9ITAsdC5leHBvcnRzfWYubT11LGYuYz1uLGYuZD1mdW5jdGlvbihlLHQsbil7Zi5vKGUsdCl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpufSl9LGYubj1mdW5jdGlvbihlKXt2YXIgdD1lJiZlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gZi5kKHQsImEiLHQpLHR9LGYubz1mdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KX0sZi5wPSIiLGYub2U9ZnVuY3Rpb24oZSl7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfSxmKGYucz05MTYpfSh7MDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiaW50ZXJuYWwiLGZ1bmN0aW9uKCl7cmV0dXJuIER9KSxuLmQodCwiYmluZCIsZnVuY3Rpb24oKXtyZXR1cm4gTX0pLHQuZ2V0VW5pcXVlSWRlbnRpZmllclN0cj1HLHQuZ2VuZXJhdGVVVUlEPWZ1bmN0aW9uIGUodCl7cmV0dXJuIHQ/KHReVygpPj50LzQpLnRvU3RyaW5nKDE2KTooWzFlN10rLTFlMystNGUzKy04ZTMrLTFlMTEpLnJlcGxhY2UoL1swMThdL2csZSl9LHQuZ2V0QmlkSWRQYXJhbWV0ZXI9ZnVuY3Rpb24oZSx0KXtpZih0JiZ0W2VdKXJldHVybiB0W2VdO3JldHVybiIifSx0LnRyeUFwcGVuZFF1ZXJ5U3RyaW5nPWZ1bmN0aW9uKGUsdCxuKXtpZihuKXJldHVybiBlK3QrIj0iK2VuY29kZVVSSUNvbXBvbmVudChuKSsiJiI7cmV0dXJuIGV9LHQucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7dmFyIHQ9IiI7Zm9yKHZhciBuIGluIGUpZS5oYXNPd25Qcm9wZXJ0eShuKSYmKHQrPW4rIj0iK2VuY29kZVVSSUNvbXBvbmVudChlW25dKSsiJiIpO3JldHVybiB0PXQucmVwbGFjZSgvJiQvLCIiKX0sdC50cmFuc2Zvcm1BZFNlcnZlclRhcmdldGluZ09iaj1mdW5jdGlvbih0KXtyZXR1cm4gdCYmMDxPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0KS5sZW5ndGg/YmUodCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiIiLmNvbmNhdChlLCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudCh0W2VdKSl9KS5qb2luKCImIik6IiJ9LHQuZ2V0QWRVbml0U2l6ZXM9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO3ZhciB0PVtdO3t2YXIgbjtlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJkFycmF5LmlzQXJyYXkoZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk/KG49ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyxBcnJheS5pc0FycmF5KG5bMF0pP3Q9bjp0LnB1c2gobikpOkFycmF5LmlzQXJyYXkoZS5zaXplcykmJihBcnJheS5pc0FycmF5KGUuc2l6ZXNbMF0pP3Q9ZS5zaXplczp0LnB1c2goZS5zaXplcykpfXJldHVybiB0fSx0LnBhcnNlU2l6ZXNJbnB1dD1mdW5jdGlvbihlKXt2YXIgdD1bXTtpZigic3RyaW5nIj09dHlwZW9mIGUpe3ZhciBuPWUuc3BsaXQoIiwiKSxyPS9eKFxkKSt4KFxkKSskL2k7aWYobilmb3IodmFyIGkgaW4gbiljZShuLGkpJiZuW2ldLm1hdGNoKHIpJiZ0LnB1c2gobltpXSl9ZWxzZSBpZigib2JqZWN0Ij09PW0oZSkpe3ZhciBvPWUubGVuZ3RoO2lmKDA8bylpZigyPT09byYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV0pdC5wdXNoKEwoZSkpO2Vsc2UgZm9yKHZhciBhPTA7YTxvO2ErKyl0LnB1c2goTChlW2FdKSl9cmV0dXJuIHR9LHQucGFyc2VHUFRTaW5nbGVTaXplQXJyYXk9TCx0LnBhcnNlR1BUU2luZ2xlU2l6ZUFycmF5VG9SdGJTaXplPWZ1bmN0aW9uKGUpe2lmKEYoZSkpcmV0dXJue3c6ZVswXSxoOmVbMV19fSx0LmdldFdpbmRvd1RvcD16LHQuZ2V0V2luZG93U2VsZj1WLHQuZ2V0V2luZG93TG9jYXRpb249SCx0LmxvZ01lc3NhZ2U9Syx0LmxvZ0luZm89Six0LmxvZ1dhcm49WSx0LmxvZ0Vycm9yPVEsdC5oYXNDb25zb2xlTG9nZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIFV9LHQuZGVidWdUdXJuZWRPbj1YLHQuY3JlYXRlSW52aXNpYmxlSWZyYW1lPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7cmV0dXJuIGUuaWQ9RygpLGUuaGVpZ2h0PTAsZS53aWR0aD0wLGUuYm9yZGVyPSIwcHgiLGUuaHNwYWNlPSIwIixlLnZzcGFjZT0iMCIsZS5tYXJnaW5XaWR0aD0iMCIsZS5tYXJnaW5IZWlnaHQ9IjAiLGUuc3R5bGUuYm9yZGVyPSIwIixlLnNjcm9sbGluZz0ibm8iLGUuZnJhbWVCb3JkZXI9IjAiLGUuc3JjPSJhYm91dDpibGFuayIsZS5zdHlsZS5kaXNwbGF5PSJub25lIixlfSx0LmdldFBhcmFtZXRlckJ5TmFtZT1mdW5jdGlvbihlKXtyZXR1cm4gd2UoSCgpLnNlYXJjaClbZV18fCIifSx0LmlzQT1aLHQuaXNGbj1lZSx0LmlzU3RyPXRlLHQuaXNBcnJheT1uZSx0LmlzTnVtYmVyPXJlLHQuaXNQbGFpbk9iamVjdD1pZSx0LmlzQm9vbGVhbj1mdW5jdGlvbihlKXtyZXR1cm4gWihlLHcpfSx0LmlzRW1wdHk9b2UsdC5pc0VtcHR5U3RyPWZ1bmN0aW9uKGUpe3JldHVybiB0ZShlKSYmKCFlfHwwPT09ZS5sZW5ndGgpfSx0Ll9lYWNoPWFlLHQuY29udGFpbnM9ZnVuY3Rpb24oZSx0KXtpZihvZShlKSlyZXR1cm4hMTtpZihlZShlLmluZGV4T2YpKXJldHVybi0xIT09ZS5pbmRleE9mKHQpO3ZhciBuPWUubGVuZ3RoO2Zvcig7bi0tOylpZihlW25dPT09dClyZXR1cm4hMDtyZXR1cm4hMX0sdC5fbWFwPWZ1bmN0aW9uKG4scil7aWYob2UobikpcmV0dXJuW107aWYoZWUobi5tYXApKXJldHVybiBuLm1hcChyKTt2YXIgaT1bXTtyZXR1cm4gYWUobixmdW5jdGlvbihlLHQpe2kucHVzaChyKGUsdCxuKSl9KSxpfSx0Lmhhc093bj1jZSx0Lmluc2VydEVsZW1lbnQ9dWUsdC50cmlnZ2VyUGl4ZWw9c2UsdC5jYWxsQnVybD1mdW5jdGlvbihlKXt2YXIgdD1lLnNvdXJjZSxuPWUuYnVybDt0PT09QS5TMlMuU1JDJiZuJiZELnRyaWdnZXJQaXhlbChuKX0sdC5pbnNlcnRIdG1sSW50b0lmcmFtZT1mdW5jdGlvbihlKXtpZighZSlyZXR1cm47dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7dC5pZD1HKCksdC53aWR0aD0wLHQuaGVpZ2h0PTAsdC5oc3BhY2U9IjAiLHQudnNwYWNlPSIwIix0Lm1hcmdpbldpZHRoPSIwIix0Lm1hcmdpbkhlaWdodD0iMCIsdC5zdHlsZS5kaXNwbGF5PSJub25lIix0LnN0eWxlLmhlaWdodD0iMHB4Iix0LnN0eWxlLndpZHRoPSIwcHgiLHQuc2Nyb2xsaW5nPSJubyIsdC5mcmFtZUJvcmRlcj0iMCIsdC5hbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSIsRC5pbnNlcnRFbGVtZW50KHQsZG9jdW1lbnQsImJvZHkiKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpLHQuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShlKSx0LmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuY2xvc2UoKX0sdC5pbnNlcnRVc2VyU3luY0lmcmFtZT1kZSx0LmNyZWF0ZVRyYWNrUGl4ZWxIdG1sPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiIiO2U9ZC5kKGUpO3ZhciB0PWVuY29kZVVSSShlKSxuPSc8ZGl2IHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjBweDt0b3A6MHB4O3Zpc2liaWxpdHk6aGlkZGVuOyI+JztyZXR1cm4gbis9JzxpbWcgc3JjPSInK3QrJyI+PC9kaXY+J30sdC5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbD1mZSx0LmdldFZhbHVlU3RyaW5nPWxlLHQudW5pcXVlcz1wZSx0LmZsYXR0ZW49Z2UsdC5nZXRCaWRSZXF1ZXN0PWZ1bmN0aW9uKG4sZSl7cmV0dXJuIG4/KGUuc29tZShmdW5jdGlvbihlKXt2YXIgdD1jKCkoZS5iaWRzLGZ1bmN0aW9uKHQpe3JldHVyblsiYmlkSWQiLCJhZElkIiwiYmlkX2lkIl0uc29tZShmdW5jdGlvbihlKXtyZXR1cm4gdFtlXT09PW59KX0pO3JldHVybiB0JiYocj10KSx0fSkscik6dm9pZCAwO3ZhciByfSx0LmdldEtleXM9YmUsdC5nZXRWYWx1ZT12ZSx0LmdldEtleUJ5VmFsdWU9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG4gaW4gZSlpZihlLmhhc093blByb3BlcnR5KG4pJiZlW25dPT09dClyZXR1cm4gbn0sdC5nZXRCaWRkZXJDb2Rlcz1mdW5jdGlvbigpe3JldHVybigwPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06dXBianMuYWRVbml0cykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pLnJlZHVjZShnZSxbXSl9KS5yZWR1Y2UoZ2UpLmZpbHRlcihwZSl9LHQuaXNHcHRQdWJhZHNEZWZpbmVkPXllLG4uZCh0LCJnZXRIaWdoZXN0Q3BtIixmdW5jdGlvbigpe3JldHVybiBoZX0pLG4uZCh0LCJnZXRPbGRlc3RIaWdoZXN0Q3BtQmlkIixmdW5jdGlvbigpe3JldHVybiBtZX0pLG4uZCh0LCJnZXRMYXRlc3RIaWdoZXN0Q3BtQmlkIixmdW5jdGlvbigpe3JldHVybiBTZX0pLHQuc2h1ZmZsZT1mdW5jdGlvbihlKXt2YXIgdD1lLmxlbmd0aDtmb3IoOzA8dDspe3ZhciBuPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0KSxyPWVbLS10XTtlW3RdPWVbbl0sZVtuXT1yfXJldHVybiBlfSx0LmFkVW5pdHNGaWx0ZXI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcygpKGUsdCYmdC5hZFVuaXRDb2RlKX0sdC5kZWVwQ2xvbmU9RWUsdC5pbklmcmFtZT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gRC5nZXRXaW5kb3dTZWxmKCkhPT1ELmdldFdpbmRvd1RvcCgpfWNhdGNoKGUpe3JldHVybiEwfX0sdC5pc1NhZmFyaUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4vXigoPyFjaHJvbWV8YW5kcm9pZHxjcmlvc3xmeGlvcykuKSpzYWZhcmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSx0LnJlcGxhY2VBdWN0aW9uUHJpY2U9ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47cmV0dXJuIGUucmVwbGFjZSgvXCRce0FVQ1RJT05fUFJJQ0VcfS9nLHQpfSx0LnJlcGxhY2VDbGlja1Rocm91Z2g9ZnVuY3Rpb24oZSx0KXtpZighZXx8IXR8fCJzdHJpbmciIT10eXBlb2YgdClyZXR1cm47cmV0dXJuIGUucmVwbGFjZSgvXCR7Q0xJQ0tUSFJPVUdIfS9nLHQpfSx0LnRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZSgpfSx0LmdldFBlcmZvcm1hbmNlTm93PWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZSYmd2luZG93LnBlcmZvcm1hbmNlLm5vdyYmd2luZG93LnBlcmZvcm1hbmNlLm5vdygpfHwwfSx0Lmhhc0RldmljZUFjY2Vzcz1mdW5jdGlvbigpe3JldHVybiExIT09ci5iLmdldENvbmZpZygiZGV2aWNlQWNjZXNzIil9LHQuY2hlY2tDb29raWVTdXBwb3J0PU9lLHQuZGVsYXlFeGVjdXRpb249ZnVuY3Rpb24oZSx0KXtpZih0PDEpdGhyb3cgbmV3IEVycm9yKCJudW1SZXF1aXJlZENhbGxzIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIuIEdvdCAiLmNvbmNhdCh0KSk7dmFyIG49MDtyZXR1cm4gZnVuY3Rpb24oKXsrK249PT10JiZlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LHQuZ3JvdXBCeT1mdW5jdGlvbihlLG4pe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybihlW3Rbbl1dPWVbdFtuXV18fFtdKS5wdXNoKHQpLGV9LHt9KX0sdC5nZXREZWZpbmVkUGFyYW1zPWZ1bmN0aW9uKG4sZSl7cmV0dXJuIGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBuW2VdfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGgoZSx5KHt9LHQsblt0XSkpfSx7fSl9LHQuaXNWYWxpZE1lZGlhVHlwZXM9ZnVuY3Rpb24oZSl7dmFyIHQ9WyJiYW5uZXIiLCJuYXRpdmUiLCJ2aWRlbyJdO2lmKCFPYmplY3Qua2V5cyhlKS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gcygpKHQsZSl9KSlyZXR1cm4hMTtpZihlLnZpZGVvJiZlLnZpZGVvLmNvbnRleHQpcmV0dXJuIHMoKShbImluc3RyZWFtIiwib3V0c3RyZWFtIiwiYWRwb2QiXSxlLnZpZGVvLmNvbnRleHQpO3JldHVybiEwfSx0LmdldEJpZGRlclJlcXVlc3Q9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBjKCkoZSxmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmJpZHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PXQmJmUuYWRVbml0Q29kZT09PW59KS5sZW5ndGh9KXx8e3N0YXJ0Om51bGwsYXVjdGlvbklkOm51bGx9fSx0LmdldFVzZXJDb25maWd1cmVkUGFyYW1zPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuY29kZT09PXR9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkc30pLnJlZHVjZShnZSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcj09PW59KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zfHx7fX0pfSx0LmdldE9yaWdpbj1mdW5jdGlvbigpe3JldHVybiB3aW5kb3cubG9jYXRpb24ub3JpZ2luP3dpbmRvdy5sb2NhdGlvbi5vcmlnaW46d2luZG93LmxvY2F0aW9uLnByb3RvY29sKyIvLyIrd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lKyh3aW5kb3cubG9jYXRpb24ucG9ydD8iOiIrd2luZG93LmxvY2F0aW9uLnBvcnQ6IiIpfSx0LmdldEROVD1mdW5jdGlvbigpe3JldHVybiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFja3x8InllcyI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja30sdC5pc0FkVW5pdENvZGVNYXRjaGluZ1Nsb3Q9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBUZSh0LGUpfX0sdC5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGU9SWUsdC5nZXRHcHRTbG90SW5mb0ZvckFkVW5pdENvZGU9ZnVuY3Rpb24oZSl7dmFyIHQ7eWUoKSYmKHQ9YygpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxJZShlKSkpO2lmKHQpcmV0dXJue2dwdFNsb3Q6dC5nZXRBZFVuaXRQYXRoKCksZGl2SWQ6dC5nZXRTbG90RWxlbWVudElkKCl9O3JldHVybnt9fSx0LnVuc3VwcG9ydGVkQmlkZGVyTWVzc2FnZT1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdC5rZXlzKGUubWVkaWFUeXBlc3x8e2Jhbm5lcjoiYmFubmVyIn0pLmpvaW4oIiwgIik7cmV0dXJuIlxuICAgICIuY29uY2F0KGUuY29kZSwiIGlzIGEgIikuY29uY2F0KG4sIiBhZCB1bml0XG4gICAgY29udGFpbmluZyBiaWRkZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCAiKS5jb25jYXQobiwiOiAiKS5jb25jYXQodCwiLlxuICAgIFRoaXMgYmlkZGVyIHdvbid0IGZldGNoIGRlbWFuZC5cbiAgIil9LHQuaXNJbnRlZ2VyPUNlLHQuY29udmVydENhbWVsVG9VbmRlcnNjb3JlPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoLyg/Ol58XC4/KShbQS1aXSkvZyxmdW5jdGlvbihlLHQpe3JldHVybiJfIit0LnRvTG93ZXJDYXNlKCl9KS5yZXBsYWNlKC9eXy8sIiIpfSx0LmNsZWFuT2JqPWZ1bmN0aW9uKG4pe3JldHVybiBPYmplY3Qua2V5cyhuKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09blt0XSYmKGVbdF09blt0XSksZX0se30pfSx0LnBpY2s9ZnVuY3Rpb24oYSxjKXtyZXR1cm4ib2JqZWN0Ij09PW0oYSk/Yy5yZWR1Y2UoZnVuY3Rpb24oZSx0LG4pe2lmKCJmdW5jdGlvbiI9PXR5cGVvZiB0KXJldHVybiBlO3ZhciByPXQsaT10Lm1hdGNoKC9eKC4rPylcc2FzXHMoLis/KSQvaSk7aSYmKHQ9aVsxXSxyPWlbMl0pO3ZhciBvPWFbdF07cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGNbbisxXSYmKG89Y1tuKzFdKG8sZSkpLHZvaWQgMCE9PW8mJihlW3JdPW8pLGV9LHt9KTp7fX0sdC50cmFuc2Zvcm1CaWRkZXJQYXJhbUtleXdvcmRzPWZ1bmN0aW9uKGUpe3ZhciByPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToia2V5d29yZHMiLGk9W107cmV0dXJuIGFlKGUsZnVuY3Rpb24oZSx0KXtpZihuZShlKSl7dmFyIG49W107YWUoZSxmdW5jdGlvbihlKXshKGU9bGUocisiLiIrdCxlKSkmJiIiIT09ZXx8bi5wdXNoKGUpfSksZT1ufWVsc2V7aWYoIXRlKGU9bGUocisiLiIrdCxlKSkpcmV0dXJuO2U9W2VdfWkucHVzaCh7a2V5OnQsdmFsdWU6ZX0pfSksaX0sdC5jb252ZXJ0VHlwZXM9ZnVuY3Rpb24ocixpKXtyZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuO2lbZV0mJihlZShyW2VdKT9pW2VdPXJbZV0oaVtlXSk6aVtlXT0odD1yW2VdLG49aVtlXSwic3RyaW5nIj09PXQ/biYmbi50b1N0cmluZygpOiJudW1iZXIiPT09dD9OdW1iZXIobik6biksaXNOYU4oaVtlXSkmJmRlbGV0ZSBpLmtleSl9KSxpfSx0LmlzQXJyYXlPZk51bXM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmUoZSkmJighdHx8ZS5sZW5ndGg9PT10KSYmZS5ldmVyeShDZSl9LHQuZmlsbD1mdW5jdGlvbihlLHQpe2Zvcih2YXIgbj1bXSxyPTA7cjx0O3IrKyl7dmFyIGk9aWUoZSk/RWUoZSk6ZTtuLnB1c2goaSl9cmV0dXJuIG59LHQuY2h1bms9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIG49W10scj0wO3I8TWF0aC5jZWlsKGUubGVuZ3RoL3QpO3IrKyl7dmFyIGk9cip0LG89aSt0O24ucHVzaChlLnNsaWNlKGksbykpfXJldHVybiBufSx0LmdldE1pblZhbHVlRnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLGcoZSkpfSx0LmdldE1heFZhbHVlRnJvbUFycmF5PWZ1bmN0aW9uKGUpe3JldHVybiBNYXRoLm1heC5hcHBseShNYXRoLGcoZSkpfSx0LmNvbXBhcmVPbj1mdW5jdGlvbihuKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gZVtuXTx0W25dPzE6ZVtuXT50W25dPy0xOjB9fSx0LnBhcnNlUVM9d2UsdC5mb3JtYXRRUz1qZSx0LnBhcnNlVXJsPWZ1bmN0aW9uKGUsdCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpO3QmJiJub0RlY29kZVdob2xlVVJMImluIHQmJnQubm9EZWNvZGVXaG9sZVVSTD9uLmhyZWY9ZTpuLmhyZWY9ZGVjb2RlVVJJQ29tcG9uZW50KGUpO3ZhciByPXQmJiJkZWNvZGVTZWFyY2hBc1N0cmluZyJpbiB0JiZ0LmRlY29kZVNlYXJjaEFzU3RyaW5nO3JldHVybntocmVmOm4uaHJlZixwcm90b2NvbDoobi5wcm90b2NvbHx8IiIpLnJlcGxhY2UoLzokLywiIiksaG9zdG5hbWU6bi5ob3N0bmFtZSxwb3J0OituLnBvcnQscGF0aG5hbWU6bi5wYXRobmFtZS5yZXBsYWNlKC9eKD8hXC8pLywiLyIpLHNlYXJjaDpyP24uc2VhcmNoOkQucGFyc2VRUyhuLnNlYXJjaHx8IiIpLGhhc2g6KG4uaGFzaHx8IiIpLnJlcGxhY2UoL14jLywiIiksaG9zdDpuLmhvc3R8fHdpbmRvdy5sb2NhdGlvbi5ob3N0fX0sdC5idWlsZFVybD1mdW5jdGlvbihlKXtyZXR1cm4oZS5wcm90b2NvbHx8Imh0dHAiKSsiOi8vIisoZS5ob3N0fHxlLmhvc3RuYW1lKyhlLnBvcnQ/IjoiLmNvbmNhdChlLnBvcnQpOiIiKSkrKGUucGF0aG5hbWV8fCIiKSsoZS5zZWFyY2g/Ij8iLmNvbmNhdChELmZvcm1hdFFTKGUuc2VhcmNofHwiIikpOiIiKSsoZS5oYXNoPyIjIi5jb25jYXQoZS5oYXNoKToiIil9LHQuZGVlcEVxdWFsPV9lLHQubWVyZ2VEZWVwPUJlLHQuY3lyYjUzSGFzaD1mdW5jdGlvbihlKXtmb3IodmFyIHQsbj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MCxyPWZ1bmN0aW9uKGUsdCl7aWYoZWUoTWF0aC5pbXVsKSlyZXR1cm4gTWF0aC5pbXVsKGUsdCk7dmFyIG49KDQxOTQzMDMmZSkqKHR8PTApO3JldHVybiA0MjkwNzcyOTkyJmUmJihuKz0oNDI5MDc3Mjk5MiZlKSp0fDApLDB8bn0saT0zNzM1OTI4NTU5Xm4sbz0xMTAzNTQ3OTkxXm4sYT0wO2E8ZS5sZW5ndGg7YSsrKXQ9ZS5jaGFyQ29kZUF0KGEpLGk9cihpXnQsMjY1NDQzNTc2MSksbz1yKG9edCwxNTk3MzM0Njc3KTtyZXR1cm4gaT1yKGleaT4+PjE2LDIyNDY4MjI1MDcpXnIob15vPj4+MTMsMzI2NjQ4OTkwOSksKDQyOTQ5NjcyOTYqKDIwOTcxNTEmKG89cihvXm8+Pj4xNiwyMjQ2ODIyNTA3KV5yKGleaT4+PjEzLDMyNjY0ODk5MDkpKSkrKGk+Pj4wKSkudG9TdHJpbmcoKX07dmFyIHI9bigzKSxpPW4oMTYwKSxvPW4ubihpKSxhPW4oMTApLGM9bi5uKGEpLHU9bigxMikscz1uLm4odSksZD1uKDQzKSxmPW4oMTYxKTtuLmQodCwiZGVlcEFjY2VzcyIsZnVuY3Rpb24oKXtyZXR1cm4gZi5hfSk7dmFyIGw9bigxNjIpO2Z1bmN0aW9uIHAoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBTeW1ib2x8fCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSkpcmV0dXJuO3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLGM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPWMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChhLnZhbHVlKSwhdHx8bi5sZW5ndGghPT10KTtyPSEwKTt9Y2F0Y2goZSl7aT0hMCxvPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBufShlLHQpfHxiKGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBnKGUpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiB2KGUpfShlKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpcmV0dXJuIEFycmF5LmZyb20oZSl9KGUpfHxiKGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGIoZSx0KXtpZihlKXtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIHYoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7cmV0dXJuIk9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpLCJNYXAiPT09bnx8IlNldCI9PT1uP0FycmF5LmZyb20oZSk6IkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKT92KGUsdCk6dm9pZCAwfX1mdW5jdGlvbiB2KGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24geShlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gaCgpe3JldHVybihoPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gbShlKXtyZXR1cm4obT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfW4uZCh0LCJkZWVwU2V0VmFsdWUiLGZ1bmN0aW9uKCl7cmV0dXJuIGwuYX0pO3ZhciBTLEE9big1KSxFPSJBcnJheSIsTz0iU3RyaW5nIixUPSJGdW5jdGlvbiIsST0iTnVtYmVyIixDPSJPYmplY3QiLHc9IkJvb2xlYW4iLGo9W10sXz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLEI9Qm9vbGVhbih3aW5kb3cuY29uc29sZSksVT1Cb29sZWFuKEImJndpbmRvdy5jb25zb2xlLmxvZykseD1Cb29sZWFuKEImJndpbmRvdy5jb25zb2xlLmluZm8pLFI9Qm9vbGVhbihCJiZ3aW5kb3cuY29uc29sZS53YXJuKSxrPUJvb2xlYW4oQiYmd2luZG93LmNvbnNvbGUuZXJyb3IpLE49big4KSxEPXtjaGVja0Nvb2tpZVN1cHBvcnQ6T2UsY3JlYXRlVHJhY2tQaXhlbElmcmFtZUh0bWw6ZmUsZ2V0V2luZG93U2VsZjpWLGdldFdpbmRvd1RvcDp6LGdldFdpbmRvd0xvY2F0aW9uOkgsaW5zZXJ0VXNlclN5bmNJZnJhbWU6ZGUsaW5zZXJ0RWxlbWVudDp1ZSxpc0ZuOmVlLHRyaWdnZXJQaXhlbDpzZSxsb2dFcnJvcjpRLGxvZ1dhcm46WSxsb2dNZXNzYWdlOkssbG9nSW5mbzpKLHBhcnNlUVM6d2UsZm9ybWF0UVM6amUsZGVlcEVxdWFsOl9lfSxQPXt9LE09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdH0uYmluZChudWxsLDEsUCkoKT09PVA/RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxuPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseShlLG4uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKX19LHE9KFM9MCxmdW5jdGlvbigpe3JldHVybisrU30pO2Z1bmN0aW9uIEcoKXtyZXR1cm4gcSgpK01hdGgucmFuZG9tKCkudG9TdHJpbmcoMTYpLnN1YnN0cigyKX1mdW5jdGlvbiBXKCl7cmV0dXJuIHdpbmRvdyYmd2luZG93LmNyeXB0byYmd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXM/Y3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheSgxKSlbMF0lMTY6MTYqTWF0aC5yYW5kb20oKX1mdW5jdGlvbiBMKGUpe2lmKEYoZSkpcmV0dXJuIGVbMF0rIngiK2VbMV19ZnVuY3Rpb24gRihlKXtyZXR1cm4gbmUoZSkmJjI9PT1lLmxlbmd0aCYmIWlzTmFOKGVbMF0pJiYhaXNOYU4oZVsxXSl9ZnVuY3Rpb24geigpe3JldHVybiB3aW5kb3cudG9wfWZ1bmN0aW9uIFYoKXtyZXR1cm4gd2luZG93LnNlbGZ9ZnVuY3Rpb24gSCgpe3JldHVybiB3aW5kb3cubG9jYXRpb259ZnVuY3Rpb24gSygpe1goKSYmVSYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwkKGFyZ3VtZW50cywiTUVTU0FHRToiKSl9ZnVuY3Rpb24gSigpe1goKSYmeCYmY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsJChhcmd1bWVudHMsIklORk86IikpfWZ1bmN0aW9uIFkoKXtYKCkmJlImJmNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCQoYXJndW1lbnRzLCJXQVJOSU5HOiIpKX1mdW5jdGlvbiBRKCl7WCgpJiZrJiZjb25zb2xlLmVycm9yLmFwcGx5KGNvbnNvbGUsJChhcmd1bWVudHMsIkVSUk9SOiIpKSxOLmVtaXQoQS5FVkVOVFMuQVVDVElPTl9ERUJVRyx7dHlwZToiRVJST1IiLGFyZ3VtZW50czphcmd1bWVudHN9KX1mdW5jdGlvbiAkKGUsdCl7cmV0dXJuIGU9W10uc2xpY2UuY2FsbChlKSx0JiZlLnVuc2hpZnQodCksZS51bnNoaWZ0KCJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IGNvbG9yOiAjZmZmOyBiYWNrZ3JvdW5kOiAjM2I4OGMzOyBwYWRkaW5nOiAxcHggNHB4OyBib3JkZXItcmFkaXVzOiAzcHg7IiksZS51bnNoaWZ0KCIlY1ByZWJpZCIpLGV9ZnVuY3Rpb24gWCgpe3JldHVybiEhci5iLmdldENvbmZpZygiZGVidWciKX1mdW5jdGlvbiBaKGUsdCl7cmV0dXJuIF8uY2FsbChlKT09PSJbb2JqZWN0ICIrdCsiXSJ9ZnVuY3Rpb24gZWUoZSl7cmV0dXJuIFooZSxUKX1mdW5jdGlvbiB0ZShlKXtyZXR1cm4gWihlLE8pfWZ1bmN0aW9uIG5lKGUpe3JldHVybiBaKGUsRSl9ZnVuY3Rpb24gcmUoZSl7cmV0dXJuIFooZSxJKX1mdW5jdGlvbiBpZShlKXtyZXR1cm4gWihlLEMpfWZ1bmN0aW9uIG9lKGUpe2lmKCFlKXJldHVybiEwO2lmKG5lKGUpfHx0ZShlKSlyZXR1cm4hKDA8ZS5sZW5ndGgpO2Zvcih2YXIgdCBpbiBlKWlmKGhhc093blByb3BlcnR5LmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBhZShlLHQpe2lmKCFvZShlKSl7aWYoZWUoZS5mb3JFYWNoKSlyZXR1cm4gZS5mb3JFYWNoKHQsdGhpcyk7dmFyIG49MCxyPWUubGVuZ3RoO2lmKDA8cilmb3IoO248cjtuKyspdChlW25dLG4sZSk7ZWxzZSBmb3IobiBpbiBlKWhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdC5jYWxsKHRoaXMsZVtuXSxuKX19ZnVuY3Rpb24gY2UoZSx0KXtyZXR1cm4gZS5oYXNPd25Qcm9wZXJ0eT9lLmhhc093blByb3BlcnR5KHQpOnZvaWQgMCE9PWVbdF0mJmUuY29uc3RydWN0b3IucHJvdG90eXBlW3RdIT09ZVt0XX1mdW5jdGlvbiB1ZShlLHQsbixyKXt2YXIgaTt0PXR8fGRvY3VtZW50LGk9bj90LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pOnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKTt0cnl7aWYoKGk9aS5sZW5ndGg/aTp0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IikpLmxlbmd0aCl7ZS5zcmM9ZC5kKGUuc3JjKSxpPWlbMF07dmFyIG89cj9udWxsOmkuZmlyc3RDaGlsZDtyZXR1cm4gaS5pbnNlcnRCZWZvcmUoZSxvKX19Y2F0Y2goZSl7fX1mdW5jdGlvbiBzZSh0LHIpe3ZhciBlLG49ZC5hKCk7dD1kLmQodCk7dHJ5e24/bi5jb250ZW50V2luZG93LmRvY3VtZW50JiYoZT1uZXcgbi5jb250ZW50V2luZG93LkltYWdlKTplPW5ldyBJbWFnZSxlJiYociYmRC5pc0ZuKHIpJiYoZS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixyKSxlLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIixyKSksZS5zcmM9dCl9Y2F0Y2goZSl7dmFyIGksbyxhPWQuYigpO2EmJm4uc3JjLmluY2x1ZGVzKGEpJiYoaT1mdW5jdGlvbiBlKHQpe3ZhciBuO3RyeXtuPUpTT04ucGFyc2UodC5kYXRhKX1jYXRjaChlKXt9biYmImRvbmVUcmlnZ2VyaW5nUGl4ZWwiPT1uLnR5cGUmJih3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsZSksciYmRC5pc0ZuKHIpJiZyKCkpfSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsaSksbz0ibGV0IGltZyA9IG5ldyBJbWFnZSgpOyBmdW5jdGlvbiBkb25lKCkgeyB0b3AucG9zdE1lc3NhZ2UoeyB0eXBlOiBcImRvbmVUcmlnZ2VyaW5nUGl4ZWxcIiB9LCBcIipcIikgfTsgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBkb25lKTsgaW1nLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZG9uZSk7IGltZy5zcmMgPSAnIit0KyInOyIsbi5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHt0eXBlOiJldmFsIixjb2RlOm99LCIqIikpfX1mdW5jdGlvbiBkZShlLHQpe3RyeXtpZigtMTxqLmluZGV4T2YoZSkpcmV0dXJufWNhdGNoKGUpe31qLnB1c2goZSk7dmFyIG49RC5jcmVhdGVUcmFja1BpeGVsSWZyYW1lSHRtbChlLCExLCJhbGxvdy1zY3JpcHRzIGFsbG93LXNhbWUtb3JpZ2luIikscj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpPWQuYSgpO3IuaW5uZXJIVE1MPW47dmFyIG8sYT1yLmZpcnN0Q2hpbGQ7dCYmRC5pc0ZuKHQpJiYoYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIix0KSxhLmFkZEV2ZW50TGlzdGVuZXIoImVycm9yIix0KSksaSYmaS5jb250ZW50V2luZG93LmRvY3VtZW50PyhvPWkuY29udGVudFdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxpLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQuYm9keT8oaS5jb250ZW50V2luZG93LmRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobyksby5hcHBlbmRDaGlsZChhKSk6aS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbigpe2kuY29udGVudFdpbmRvdy5kb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG8pLG8uYXBwZW5kQ2hpbGQoYSl9KSk6KGEuc3JjPWQuZChhLnNyYyksRC5pbnNlcnRFbGVtZW50KGEsZG9jdW1lbnQsImh0bWwiLCEwKSl9ZnVuY3Rpb24gZmUoZSl7dmFyIHQ9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOiIiO3JldHVybiBlPygoISgxPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSkmJihlPWVuY29kZVVSSShlKSksdD10JiYnc2FuZGJveD0iJy5jb25jYXQodCwnIicpLCI8aWZyYW1lICIuY29uY2F0KHQsJyBpZD0iJykuY29uY2F0KEcoKSwnIlxuICAgICAgZnJhbWVib3JkZXI9IjAiXG4gICAgICBhbGxvd3RyYW5zcGFyZW5jeT0idHJ1ZSJcbiAgICAgIG1hcmdpbmhlaWdodD0iMCIgbWFyZ2lud2lkdGg9IjAiXG4gICAgICB3aWR0aD0iMCIgaHNwYWNlPSIwIiB2c3BhY2U9IjAiIGhlaWdodD0iMCJcbiAgICAgIHN0eWxlPSJoZWlnaHQ6MHB4O3dpZHRoOjBweDtkaXNwbGF5Om5vbmU7IlxuICAgICAgc2Nyb2xsaW5nPSJubyJcbiAgICAgIHNyYz0iJykuY29uY2F0KGUsJyI+XG4gICAgPC9pZnJhbWU+JykpOiIifWZ1bmN0aW9uIGxlKGUsdCxuKXtyZXR1cm4gbnVsbD09dD9uOnRlKHQpP3Q6cmUodCk/dC50b1N0cmluZygpOnZvaWQgRC5sb2dXYXJuKCJVbnN1cG9ydGVkIHR5cGUgZm9yIHBhcmFtOiAiK2UrIiByZXF1aXJlZCB0eXBlOiBTdHJpbmciKX1mdW5jdGlvbiBwZShlLHQsbil7cmV0dXJuIG4uaW5kZXhPZihlKT09PXR9ZnVuY3Rpb24gZ2UoZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9ZnVuY3Rpb24gYmUoZSl7cmV0dXJuIE9iamVjdC5rZXlzKGUpfWZ1bmN0aW9uIHZlKGUsdCl7cmV0dXJuIGVbdF19ZnVuY3Rpb24geWUoKXtpZih3aW5kb3cuZ29vZ2xldGFnJiZlZSh3aW5kb3cuZ29vZ2xldGFnLnB1YmFkcykmJmVlKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMpKXJldHVybiEwfXZhciBoZT1BZSgidGltZVRvUmVzcG9uZCIsZnVuY3Rpb24oZSx0KXtyZXR1cm4gdDxlfSksbWU9QWUoInJlc3BvbnNlVGltZXN0YW1wIixmdW5jdGlvbihlLHQpe3JldHVybiB0PGV9KSxTZT1BZSgicmVzcG9uc2VUaW1lc3RhbXAiLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU8dH0pO2Z1bmN0aW9uIEFlKG4scil7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY3BtPT09dC5jcG0/cihlW25dLHRbbl0pP3Q6ZTplLmNwbTx0LmNwbT90OmV9fWZ1bmN0aW9uIEVlKGUpe3JldHVybiBvKCkoZSl9ZnVuY3Rpb24gT2UoKXtpZih3aW5kb3cubmF2aWdhdG9yLmNvb2tpZUVuYWJsZWR8fGRvY3VtZW50LmNvb2tpZS5sZW5ndGgpcmV0dXJuITB9dmFyIFRlPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0QWRVbml0UGF0aCgpPT09dHx8ZS5nZXRTbG90RWxlbWVudElkKCk9PT10fTtmdW5jdGlvbiBJZSh0KXtyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIFRlKGUsdCl9fWZ1bmN0aW9uIENlKGUpe3JldHVybiBOdW1iZXIuaXNJbnRlZ2VyP051bWJlci5pc0ludGVnZXIoZSk6Im51bWJlciI9PXR5cGVvZiBlJiZpc0Zpbml0ZShlKSYmTWF0aC5mbG9vcihlKT09PWV9ZnVuY3Rpb24gd2UoZSl7cmV0dXJuIGU/ZS5yZXBsYWNlKC9eXD8vLCIiKS5zcGxpdCgiJiIpLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuPXAodC5zcGxpdCgiPSIpLDIpLHI9blswXSxpPW5bMV07cmV0dXJuL1xbXF0kLy50ZXN0KHIpPyhlW3I9ci5yZXBsYWNlKCJbXSIsIiIpXT1lW3JdfHxbXSxlW3JdLnB1c2goaSkpOmVbcl09aXx8IiIsZX0se30pOnt9fWZ1bmN0aW9uIGplKGUpe3JldHVybiBPYmplY3Qua2V5cyhlKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZVt0XSk/ZVt0XS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KHQsIltdPSIpLmNvbmNhdChlKX0pLmpvaW4oIiYiKToiIi5jb25jYXQodCwiPSIpLmNvbmNhdChlW3RdKX0pLmpvaW4oIiYiKX1mdW5jdGlvbiBfZShlLHQpe2lmKGU9PT10KXJldHVybiEwO2lmKCJvYmplY3QiIT09bShlKXx8bnVsbD09PWV8fCJvYmplY3QiIT09bSh0KXx8bnVsbD09PXQpcmV0dXJuITE7aWYoT2JqZWN0LmtleXMoZSkubGVuZ3RoIT09T2JqZWN0LmtleXModCkubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgbiBpbiBlKXtpZighdC5oYXNPd25Qcm9wZXJ0eShuKSlyZXR1cm4hMTtpZighX2UoZVtuXSx0W25dKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBCZShlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSgxPHQ/dC0xOjApLHI9MTtyPHQ7cisrKW5bci0xXT1hcmd1bWVudHNbcl07aWYoIW4ubGVuZ3RoKXJldHVybiBlO3ZhciBpPW4uc2hpZnQoKTtpZihpZShlKSYmaWUoaSkpZm9yKHZhciBvIGluIGkpaWUoaVtvXSk/KGVbb118fGgoZSx5KHt9LG8se30pKSxCZShlW29dLGlbb10pKTpuZShpW29dKSYmZVtvXT9uZShlW29dKSYmKGVbb109ZVtvXS5jb25jYXQoaVtvXSkpOmgoZSx5KHt9LG8saVtvXSkpO3JldHVybiBCZS5hcHBseSh2b2lkIDAsW2VdLmNvbmNhdChuKSl9fSwxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzdG9yYWdlIixmdW5jdGlvbigpe3JldHVybiBJfSksdC5yZWdpc3RlckJpZGRlcj1mdW5jdGlvbihyKXt2YXIgbj1BcnJheS5pc0FycmF5KHIuc3VwcG9ydGVkTWVkaWFUeXBlcyk/e3N1cHBvcnRlZE1lZGlhVHlwZXM6ci5zdXBwb3J0ZWRNZWRpYVR5cGVzfTp2b2lkIDA7ZnVuY3Rpb24gaShlKXt2YXIgdD1qKGUpO2MuZGVmYXVsdC5yZWdpc3RlckJpZEFkYXB0ZXIodCxlLmNvZGUsbil9aShyKSxBcnJheS5pc0FycmF5KHIuYWxpYXNlcykmJnIuYWxpYXNlcy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG49ZTtPYmplY3QobS5pc1BsYWluT2JqZWN0KShlKSYmKG49ZS5jb2RlLHQ9ZS5ndmxpZCksYy5kZWZhdWx0LmFsaWFzUmVnaXN0cnlbbl09ci5jb2RlLGkoVCh7fSxyLHtjb2RlOm4sZ3ZsaWQ6dH0pKX0pfSx0Lm5ld0JpZGRlcj1qLG4uZCh0LCJyZWdpc3RlclN5bmNJbm5lciIsZnVuY3Rpb24oKXtyZXR1cm4gX30pLHQucHJlbG9hZEJpZGRlck1hcHBpbmdGaWxlPUIsdC5nZXRJYWJTdWJDYXRlZ29yeT1mdW5jdGlvbih0LGUpe3ZhciBuPWMuZGVmYXVsdC5nZXRCaWRBZGFwdGVyKHQpO2lmKG4uZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbyl7dmFyIHI9bi5nZXRTcGVjKCkuZ2V0TWFwcGluZ0ZpbGVJbmZvKCksaT1yLmxvY2FsU3RvcmFnZUtleT9yLmxvY2FsU3RvcmFnZUtleTpuLmdldEJpZGRlckNvZGUoKSxvPUkuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoaSk7aWYobyl7dHJ5e289SlNPTi5wYXJzZShvKX1jYXRjaChlKXtPYmplY3QobS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdCh0LCIgbWFwcGluZyBkYXRhIHN0b3JlZCBpbiBsb2NhbCBzdG9yYWdlIikpfXJldHVybiBvLm1hcHBpbmdbZV0/by5tYXBwaW5nW2VdOm51bGx9fX0sdC5pc1ZhbGlkPVU7dmFyIHI9big5MiksYz1uKDkpLHU9bigzKSx2PW4oMzQpLHM9big0NCksbz1uKDM3KSxhPW4oMjkpLGk9big1KSx5PW4ubihpKSxkPW4oOCksaD1uLm4oZCksZj1uKDEyKSxsPW4ubihmKSxwPW4oNCksbT1uKDApLGc9bigyKSxiPW4oMTMpLFM9big3KTtmdW5jdGlvbiBBKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgU3ltYm9sfHwhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpKXJldHVybjt2YXIgbj1bXSxyPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSxjPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1jLm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7cj0hMCk7fWNhdGNoKGUpe2k9ITAsbz1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn0oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBFKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBFKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBFKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gTyhlKXtyZXR1cm4oTz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIFQoKXtyZXR1cm4oVD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBJPU9iamVjdChTLmEpKCJiaWRkZXJGYWN0b3J5IiksQz1bInJlcXVlc3RJZCIsImNwbSIsInR0bCIsImNyZWF0aXZlSWQiLCJuZXRSZXZlbnVlIiwiY3VycmVuY3kiXSx3PTE7ZnVuY3Rpb24gaihwKXtyZXR1cm4gVChuZXcgci5hKHAuY29kZSkse2dldFNwZWM6ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0LmZyZWV6ZShwKX0scmVnaXN0ZXJTeW5jczpnLGNhbGxCaWRzOmZ1bmN0aW9uKG8sYSxlLG4sYyxyKXt2YXIgdSxzLHQsZCxpLGY7ZnVuY3Rpb24gbCgpe2UoKSxoLmEuZW1pdCh5LmEuRVZFTlRTLkJJRERFUl9ET05FLG8pLGcocyxvLmdkcHJDb25zZW50LG8udXNwQ29uc2VudCl9QXJyYXkuaXNBcnJheShvLmJpZHMpJiYodT17fSxzPVtdLDAhPT0odD1vLmJpZHMuZmlsdGVyKGIpKS5sZW5ndGg/KGQ9e30sdC5mb3JFYWNoKGZ1bmN0aW9uKGUpeyhkW2UuYmlkSWRdPWUpLmFkVW5pdENvZGV8fChlLmFkVW5pdENvZGU9ZS5wbGFjZW1lbnRDb2RlKX0pLChpPXAuYnVpbGRSZXF1ZXN0cyh0LG8pKSYmMCE9PWkubGVuZ3RoPyhBcnJheS5pc0FycmF5KGkpfHwoaT1baV0pLGY9T2JqZWN0KG0uZGVsYXlFeGVjdXRpb24pKHIobCksaS5sZW5ndGgpLGkuZm9yRWFjaChmdW5jdGlvbihpKXtzd2l0Y2goaS5tZXRob2Qpe2Nhc2UiR0VUIjpuKCIiLmNvbmNhdChpLnVybCkuY29uY2F0KGZ1bmN0aW9uKGUpe2lmKGUpcmV0dXJuIj8iLmNvbmNhdCgib2JqZWN0Ij09PU8oZSk/T2JqZWN0KG0ucGFyc2VRdWVyeVN0cmluZ1BhcmFtZXRlcnMpKGUpOmUpO3JldHVybiIifShpLmRhdGEpKSx7c3VjY2VzczpyKGUpLGVycm9yOnR9LHZvaWQgMCxUKHttZXRob2Q6IkdFVCIsd2l0aENyZWRlbnRpYWxzOiEwfSxpLm9wdGlvbnMpKTticmVhaztjYXNlIlBPU1QiOm4oaS51cmwse3N1Y2Nlc3M6cihlKSxlcnJvcjp0fSwic3RyaW5nIj09dHlwZW9mIGkuZGF0YT9pLmRhdGE6SlNPTi5zdHJpbmdpZnkoaS5kYXRhKSxUKHttZXRob2Q6IlBPU1QiLGNvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9LGkub3B0aW9ucykpO2JyZWFrO2RlZmF1bHQ6T2JqZWN0KG0ubG9nV2FybikoIlNraXBwaW5nIGludmFsaWQgcmVxdWVzdCBmcm9tICIuY29uY2F0KHAuY29kZSwiLiBSZXF1ZXN0IHR5cGUgIikuY29uY2F0KGkudHlwZSwiIG11c3QgYmUgR0VUIG9yIFBPU1QiKSksZigpfWZ1bmN0aW9uIGUoZSx0KXtjKHAuY29kZSk7dHJ5e2U9SlNPTi5wYXJzZShlKX1jYXRjaChlKXt9dmFyIG47ZT17Ym9keTplLGhlYWRlcnM6e2dldDp0LmdldFJlc3BvbnNlSGVhZGVyLmJpbmQodCl9fSxzLnB1c2goZSk7dHJ5e249cC5pbnRlcnByZXRSZXNwb25zZShlLGkpfWNhdGNoKGUpe3JldHVybiBPYmplY3QobS5sb2dFcnJvcikoIkJpZGRlciAiLmNvbmNhdChwLmNvZGUsIiBmYWlsZWQgdG8gaW50ZXJwcmV0IHRoZSBzZXJ2ZXIncyByZXNwb25zZS4gQ29udGludWluZyB3aXRob3V0IGJpZHMiKSxudWxsLGUpLHZvaWQgZigpfWZ1bmN0aW9uIHIoZSl7dmFyIHQsbixyLGk9ZFtlLnJlcXVlc3RJZF07aT8oZS5vcmlnaW5hbENwbT1lLmNwbSxlLm9yaWdpbmFsQ3VycmVuY3k9ZS5jdXJyZW5jeSxlLm1ldGE9ZS5tZXRhfHxUKHt9LGVbaS5iaWRkZXJdKSx0PVQoT2JqZWN0KHYuYSkoeS5hLlNUQVRVUy5HT09ELGkpLGUpLG49aS5hZFVuaXRDb2RlLHI9dCx1W25dPSEwLFUobixyLFtvXSkmJmEobixyKSk6T2JqZWN0KG0ubG9nV2FybikoIkJpZGRlciAiLmNvbmNhdChwLmNvZGUsIiBtYWRlIGJpZCBmb3IgdW5rbm93biByZXF1ZXN0IElEOiAiKS5jb25jYXQoZS5yZXF1ZXN0SWQsIi4gSWdub3JpbmcuIikpfW4mJihPYmplY3QobS5pc0FycmF5KShuKT9uLmZvckVhY2gocik6cihuKSksZihuKX1mdW5jdGlvbiB0KGUpe2MocC5jb2RlKSxPYmplY3QobS5sb2dFcnJvcikoIlNlcnZlciBjYWxsIGZvciAiLmNvbmNhdChwLmNvZGUsIiBmYWlsZWQ6ICIpLmNvbmNhdChlLCIuIENvbnRpbnVpbmcgd2l0aG91dCBiaWRzLiIpKSxmKCl9fSkpOmwoKSk6bCgpKX19KTtmdW5jdGlvbiBnKGUsdCxuKXtfKHAsZSx0LG4pfWZ1bmN0aW9uIGIoZSl7cmV0dXJuISFwLmlzQmlkUmVxdWVzdFZhbGlkKGUpfHwoT2JqZWN0KG0ubG9nV2FybikoIkludmFsaWQgYmlkIHNlbnQgdG8gYmlkZGVyICIuY29uY2F0KHAuY29kZSwiOiAiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKSwhMSl9fXZhciBfPU9iamVjdChiLmIpKCJhc3luYyIsZnVuY3Rpb24odCxlLG4scil7dmFyIGksbyxhPXUuYi5nZXRDb25maWcoInVzZXJTeW5jLmFsaWFzU3luY0VuYWJsZWQiKTshdC5nZXRVc2VyU3luY3N8fCFhJiZjLmRlZmF1bHQuYWxpYXNSZWdpc3RyeVt0LmNvZGVdfHwoaT11LmIuZ2V0Q29uZmlnKCJ1c2VyU3luYy5maWx0ZXJTZXR0aW5ncyIpLChvPXQuZ2V0VXNlclN5bmNzKHtpZnJhbWVFbmFibGVkOiEoIWl8fCFpLmlmcmFtZSYmIWkuYWxsKSxwaXhlbEVuYWJsZWQ6ISghaXx8IWkuaW1hZ2UmJiFpLmFsbCl9LGUsbixyKSkmJihBcnJheS5pc0FycmF5KG8pfHwobz1bb10pLG8uZm9yRWFjaChmdW5jdGlvbihlKXtzLmEucmVnaXN0ZXJTeW5jKGUudHlwZSx0LmNvZGUsZS51cmwpfSkpKX0sInJlZ2lzdGVyU3luY3MiKTtmdW5jdGlvbiBCKGUsdCl7aWYoIXUuYi5nZXRDb25maWcoImFkcG9kLmJyYW5kQ2F0ZWdvcnlFeGNsdXNpb24iKSlyZXR1cm4gZS5jYWxsKHRoaXMsdCk7dC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChtLmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpPT09Zy5hfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pfSkucmVkdWNlKG0uZmxhdHRlbixbXSkuZmlsdGVyKG0udW5pcXVlcykuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgZT1jLmRlZmF1bHQuZ2V0QmlkQWRhcHRlcihuKTtpZihlLmdldFNwZWMoKS5nZXRNYXBwaW5nRmlsZUluZm8pe3ZhciB0PWUuZ2V0U3BlYygpLmdldE1hcHBpbmdGaWxlSW5mbygpLHI9dC5yZWZyZXNoSW5EYXlzP3QucmVmcmVzaEluRGF5czp3LGk9dC5sb2NhbFN0b3JhZ2VLZXk/dC5sb2NhbFN0b3JhZ2VLZXk6ZS5nZXRTcGVjKCkuY29kZSxvPUkuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoaSk7dHJ5eyghKG89bz9KU09OLnBhcnNlKG8pOnZvaWQgMCl8fE9iamVjdChtLnRpbWVzdGFtcCkoKT5vLmxhc3RVcGRhdGVkKzI0KnIqNjAqNjAqMWUzKSYmT2JqZWN0KHAuYSkodC51cmwse3N1Y2Nlc3M6ZnVuY3Rpb24oZSl7dHJ5e2U9SlNPTi5wYXJzZShlKTt2YXIgdD17bGFzdFVwZGF0ZWQ6T2JqZWN0KG0udGltZXN0YW1wKSgpLG1hcHBpbmc6ZS5tYXBwaW5nfTtJLnNldERhdGFJbkxvY2FsU3RvcmFnZShpLEpTT04uc3RyaW5naWZ5KHQpKX1jYXRjaChlKXtPYmplY3QobS5sb2dFcnJvcikoIkZhaWxlZCB0byBwYXJzZSAiLmNvbmNhdChuLCIgYmlkZGVyIHRyYW5zbGF0aW9uIG1hcHBpbmcgZmlsZSIpKX19LGVycm9yOmZ1bmN0aW9uKCl7T2JqZWN0KG0ubG9nRXJyb3IpKCJGYWlsZWQgdG8gbG9hZCAiLmNvbmNhdChuLCIgYmlkZGVyIHRyYW5zbGF0aW9uIGZpbGUiKSl9fSl9Y2F0Y2goZSl7T2JqZWN0KG0ubG9nRXJyb3IpKCJGYWlsZWQgdG8gcGFyc2UgIi5jb25jYXQobiwiIGJpZGRlciB0cmFuc2xhdGlvbiBtYXBwaW5nIGZpbGUiKSl9fX0pLGUuY2FsbCh0aGlzLHQpfWZ1bmN0aW9uIFUoZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuIkludmFsaWQgYmlkIGZyb20gIi5jb25jYXQodC5iaWRkZXJDb2RlLCIuIElnbm9yaW5nIGJpZDogIikuY29uY2F0KGUpfXJldHVybiBlP3Q/KGk9T2JqZWN0LmtleXModCksQy5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gbCgpKGksZSkmJiFsKCkoW3ZvaWQgMCxudWxsXSx0W2VdKX0pPyJuYXRpdmUiIT09dC5tZWRpYVR5cGV8fE9iamVjdChvLmYpKHQsbik/InZpZGVvIiE9PXQubWVkaWFUeXBlfHxPYmplY3QoYS5kKSh0LG4pPyEoImJhbm5lciI9PT10Lm1lZGlhVHlwZSYmIWZ1bmN0aW9uKGUsdCxuKXtpZigodC53aWR0aHx8MD09PXBhcnNlSW50KHQud2lkdGgsMTApKSYmKHQuaGVpZ2h0fHwwPT09cGFyc2VJbnQodC5oZWlnaHQsMTApKSlyZXR1cm4gdC53aWR0aD1wYXJzZUludCh0LndpZHRoLDEwKSx0LmhlaWdodD1wYXJzZUludCh0LmhlaWdodCwxMCksMTt2YXIgcj1PYmplY3QobS5nZXRCaWRkZXJSZXF1ZXN0KShuLHQuYmlkZGVyQ29kZSxlKSxpPXImJnIuYmlkcyYmci5iaWRzWzBdJiZyLmJpZHNbMF0uc2l6ZXMsbz1PYmplY3QobS5wYXJzZVNpemVzSW5wdXQpKGkpO2lmKDE9PT1vLmxlbmd0aCl7dmFyIGE9QShvWzBdLnNwbGl0KCJ4IiksMiksYz1hWzBdLHU9YVsxXTtyZXR1cm4gdC53aWR0aD1wYXJzZUludChjLDEwKSx0LmhlaWdodD1wYXJzZUludCh1LDEwKSwxfX0oZSx0LG4pKXx8KE9iamVjdChtLmxvZ0Vycm9yKShyKCJCYW5uZXIgYmlkcyByZXF1aXJlIGEgd2lkdGggYW5kIGhlaWdodCIpKSwhMSk6KE9iamVjdChtLmxvZ0Vycm9yKShyKCJWaWRlbyBiaWQgZG9lcyBub3QgaGF2ZSByZXF1aXJlZCB2YXN0VXJsIG9yIHJlbmRlcmVyIHByb3BlcnR5IikpLCExKTooT2JqZWN0KG0ubG9nRXJyb3IpKHIoIk5hdGl2ZSBiaWQgbWlzc2luZyBzb21lIHJlcXVpcmVkIHByb3BlcnRpZXMuIikpLCExKTooT2JqZWN0KG0ubG9nRXJyb3IpKHIoIkJpZGRlciAiLmNvbmNhdCh0LmJpZGRlckNvZGUsIiBpcyBtaXNzaW5nIHJlcXVpcmVkIHBhcmFtcy4gQ2hlY2sgaHR0cDovL3ByZWJpZC5vcmcvZGV2LWRvY3MvYmlkZGVyLWFkYXB0ZXItMS5odG1sIGZvciBsaXN0IG9mIHBhcmFtcy4iKSkpLCExKSk6KE9iamVjdChtLmxvZ1dhcm4pKCJTb21lIGFkYXB0ZXIgdHJpZWQgdG8gYWRkIGFuIHVuZGVmaW5lZCBiaWQgZm9yICIuY29uY2F0KGUsIi4iKSksITEpOihPYmplY3QobS5sb2dXYXJuKSgiTm8gYWRVbml0Q29kZSB3YXMgc3VwcGxpZWQgdG8gYWRkQmlkUmVzcG9uc2UuIiksITEpO3ZhciBpfU9iamVjdChiLmEpKCJjaGVja0FkVW5pdFNldHVwIikuYmVmb3JlKEIpfSwxMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big5OCk7ZS5leHBvcnRzPXJ9LDEwMDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCksaT1uKDEwMSksbz1uKDQ3KSxhPW4oNDgpLGM9big1NiksdT1uKDI3KSxzPW4oNzMpLGQ9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjt0LmY9cj9kOmZ1bmN0aW9uKGUsdCl7aWYoZT1hKGUpLHQ9Yyh0LCEwKSxzKXRyeXtyZXR1cm4gZChlLHQpfWNhdGNoKGUpe31pZih1KGUsdCkpcmV0dXJuIG8oIWkuZi5jYWxsKGUsdCksZVt0XSl9fSwxMDE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj17fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Isbz1pJiYhci5jYWxsKHsxOjJ9LDEpO3QuZj1vP2Z1bmN0aW9uKGUpe3ZhciB0PWkodGhpcyxlKTtyZXR1cm4hIXQmJnQuZW51bWVyYWJsZX06cn0sMTAyOmZ1bmN0aW9uKGUsdCxuKXtmdW5jdGlvbiByKGUsdCl7dmFyIG49Y1thKGUpXTtyZXR1cm4gbj09c3x8biE9dSYmKCJmdW5jdGlvbiI9PXR5cGVvZiB0P2kodCk6ISF0KX12YXIgaT1uKDMxKSxvPS8jfFwucHJvdG90eXBlXC4vLGE9ci5ub3JtYWxpemU9ZnVuY3Rpb24oZSl7cmV0dXJuIFN0cmluZyhlKS5yZXBsYWNlKG8sIi4iKS50b0xvd2VyQ2FzZSgpfSxjPXIuZGF0YT17fSx1PXIuTkFUSVZFPSJOIixzPXIuUE9MWUZJTEw9IlAiO2UuZXhwb3J0cz1yfSwxMDM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpLGk9bigxMDQpLG89bigyMCkoInNwZWNpZXMiKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbjtyZXR1cm4gaShlKSYmKCJmdW5jdGlvbiI9PXR5cGVvZihuPWUuY29uc3RydWN0b3IpJiYobj09PUFycmF5fHxpKG4ucHJvdG90eXBlKSl8fHIobikmJm51bGw9PT0obj1uW29dKSkmJihuPXZvaWQgMCksbmV3KHZvaWQgMD09PW4/QXJyYXk6bikoMD09PXQ/MDp0KX19LDEwNDpmdW5jdGlvbihlLHQsbil7dmFyIHI9big0OSk7ZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGUpe3JldHVybiJBcnJheSI9PXIoZSl9fSwxMDU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjUpLGk9bigzMik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQsbil7dHJ5e2kocix0LG4pfWNhdGNoKGUpe3JbdF09bn1yZXR1cm4gbn19LDEwNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big3Nyk7ZS5leHBvcnRzPXImJiFTeW1ib2wuc2hhbSYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3J9LDEwNzpmdW5jdGlvbihlLHQsbil7bigxMDgpO3ZhciByPW4oNTMpO2UuZXhwb3J0cz1yKCJBcnJheSIsImluY2x1ZGVzIil9LDEwODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTQpLGk9big3OCkuaW5jbHVkZXMsbz1uKDUyKTtyKHt0YXJnZXQ6IkFycmF5Iixwcm90bzohMCxmb3JjZWQ6IW4oNjEpKCJpbmRleE9mIix7QUNDRVNTT1JTOiEwLDE6MH0pfSx7aW5jbHVkZXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaSh0aGlzLGUsMTxhcmd1bWVudHMubGVuZ3RoP3Q6dm9pZCAwKX19KSxvKCJpbmNsdWRlcyIpfSwxMDk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNTkpLGk9TWF0aC5tYXgsbz1NYXRoLm1pbjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbj1yKGUpO3JldHVybiBuPDA/aShuK3QsMCk6byhuLHQpfX0sMTE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9aSx0LmM9ZnVuY3Rpb24oZSl7cmV0dXJuISghZXx8IWUudXJsKX0sdC5iPWZ1bmN0aW9uKGUsdCl7ZS5yZW5kZXIodCl9O3ZhciB1PW4oMzgpLHM9bigwKSxyPW4oMTApLGQ9bi5uKHIpLGY9Im91dHN0cmVhbSI7ZnVuY3Rpb24gaShlKXt2YXIgdD10aGlzLHI9ZS51cmwsbj1lLmNvbmZpZyxpPWUuaWQsbz1lLmNhbGxiYWNrLGE9ZS5sb2FkZWQsYz1lLmFkVW5pdENvZGU7dGhpcy51cmw9cix0aGlzLmNvbmZpZz1uLHRoaXMuaGFuZGxlcnM9e30sdGhpcy5pZD1pLHRoaXMubG9hZGVkPWEsdGhpcy5jbWQ9W10sdGhpcy5wdXNoPWZ1bmN0aW9uKGUpeyJmdW5jdGlvbiI9PXR5cGVvZiBlP3QubG9hZGVkP2UuY2FsbCgpOnQuY21kLnB1c2goZSk6cy5sb2dFcnJvcigiQ29tbWFuZHMgZ2l2ZW4gdG8gUmVuZGVyZXIucHVzaCBtdXN0IGJlIHdyYXBwZWQgaW4gYSBmdW5jdGlvbiIpfSx0aGlzLmNhbGxiYWNrPW98fGZ1bmN0aW9uKCl7dC5sb2FkZWQ9ITAsdC5wcm9jZXNzKCl9LHRoaXMucmVuZGVyPWZ1bmN0aW9uKCl7dmFyIHQsZSxuO3Q9YyxlPXVwYmpzLmFkVW5pdHMsISgobj1kKCkoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5jb2RlPT09dH0pKSYmbi5yZW5kZXJlciYmbi5yZW5kZXJlci51cmwmJm4ucmVuZGVyZXIucmVuZGVyKXx8cy5pc0Jvb2xlYW4obi5yZW5kZXJlci5iYWNrdXBPbmx5KSYmbi5yZW5kZXJlci5iYWNrdXBPbmx5P09iamVjdCh1LmEpKHIsZix0aGlzLmNhbGxiYWNrKTpzLmxvZ1dhcm4oIkV4dGVybmFsIEpzIG5vdCBsb2FkZWQgYnkgUmVuZGVyZXIgc2luY2UgcmVuZGVyZXIgdXJsIGFuZCBjYWxsYmFjayBpcyBhbHJlYWR5IGRlZmluZWQgb24gYWRVbml0ICIuY29uY2F0KGMpKSx0aGlzLl9yZW5kZXI/dGhpcy5fcmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTpzLmxvZ1dhcm4oIk5vIHJlbmRlciBmdW5jdGlvbiB3YXMgcHJvdmlkZWQsIHBsZWFzZSB1c2UgLnNldFJlbmRlciBvbiB0aGUgcmVuZGVyZXIiKX0uYmluZCh0aGlzKX1pLmluc3RhbGw9ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBpKHt1cmw6ZS51cmwsY29uZmlnOmUuY29uZmlnLGlkOmUuaWQsY2FsbGJhY2s6ZS5jYWxsYmFjayxsb2FkZWQ6ZS5sb2FkZWQsYWRVbml0Q29kZTplLmFkVW5pdENvZGV9KX0saS5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnfSxpLnByb3RvdHlwZS5zZXRSZW5kZXI9ZnVuY3Rpb24oZSl7dGhpcy5fcmVuZGVyPWV9LGkucHJvdG90eXBlLnNldEV2ZW50SGFuZGxlcnM9ZnVuY3Rpb24oZSl7dGhpcy5oYW5kbGVycz1lfSxpLnByb3RvdHlwZS5oYW5kbGVWaWRlb0V2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PWUuaWQsbj1lLmV2ZW50TmFtZTsiZnVuY3Rpb24iPT10eXBlb2YgdGhpcy5oYW5kbGVyc1tuXSYmdGhpcy5oYW5kbGVyc1tuXSgpLHMubG9nTWVzc2FnZSgiUHJlYmlkIFJlbmRlcmVyIGV2ZW50IGZvciBpZCAiLmNvbmNhdCh0LCIgdHlwZSAiKS5jb25jYXQobikpfSxpLnByb3RvdHlwZS5wcm9jZXNzPWZ1bmN0aW9uKCl7Zm9yKDswPHRoaXMuY21kLmxlbmd0aDspdHJ5e3RoaXMuY21kLnNoaWZ0KCkuY2FsbCgpfWNhdGNoKGUpe3MubG9nRXJyb3IoIkVycm9yIHByb2Nlc3NpbmcgUmVuZGVyZXIgY29tbWFuZDogIixlKX19fSwxMTA6ZnVuY3Rpb24oZSx0LG4pe24oMTExKSxuKDEyOCksbig4OSksbigxMzApO3ZhciByPW4oNDIpO2UuZXhwb3J0cz1yLlNldH0sMTExOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxMTIpLGk9bigxMTcpO2UuZXhwb3J0cz1yKCJTZXQiLGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdCh0aGlzLGFyZ3VtZW50cy5sZW5ndGg/ZTp2b2lkIDApfX0saSl9LDExMjpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciBmPW4oMTQpLGw9bigyNSkscD1uKDgwKSxnPW4oMzEpLGI9bigzMiksdj1uKDE3KSx5PW4oODMpLGg9bigyNiksbT1uKDY1KSxTPW4oMzMpLmYsQT1uKDU3KS5mb3JFYWNoLEU9bigzMCkscj1uKDU1KSxPPXIuc2V0LFQ9ci5nZXR0ZXJGb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKG4sZSx0KXt2YXIgcixhLGk9LTEhPT1uLmluZGV4T2YoIk1hcCIpLGM9LTEhPT1uLmluZGV4T2YoIldlYWsiKSxvPWk/InNldCI6ImFkZCIsdT1sW25dLHM9dSYmdS5wcm90b3R5cGUsZD17fTtyZXR1cm4gRSYmImZ1bmN0aW9uIj09dHlwZW9mIHUmJihjfHxzLmZvckVhY2gmJiFnKGZ1bmN0aW9uKCl7KG5ldyB1KS5lbnRyaWVzKCkubmV4dCgpfSkpPyhyPWUoZnVuY3Rpb24oZSx0KXtPKHkoZSxyLG4pLHt0eXBlOm4sY29sbGVjdGlvbjpuZXcgdX0pLG51bGwhPXQmJnYodCxlW29dLGUsaSl9KSxhPVQobiksQShbImFkZCIsImNsZWFyIiwiZGVsZXRlIiwiZm9yRWFjaCIsImdldCIsImhhcyIsInNldCIsImtleXMiLCJ2YWx1ZXMiLCJlbnRyaWVzIl0sZnVuY3Rpb24oaSl7dmFyIG89ImFkZCI9PWl8fCJzZXQiPT1pO2kgaW4gcyYmKCFjfHwiY2xlYXIiIT1pKSYmYihyLnByb3RvdHlwZSxpLGZ1bmN0aW9uKGUsdCl7dmFyIG49YSh0aGlzKS5jb2xsZWN0aW9uO2lmKCFvJiZjJiYhaChlKSlyZXR1cm4iZ2V0Ij09aSYmdm9pZCAwO3ZhciByPW5baV0oMD09PWU/MDplLHQpO3JldHVybiBvP3RoaXM6cn0pfSksY3x8UyhyLnByb3RvdHlwZSwic2l6ZSIse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5jb2xsZWN0aW9uLnNpemV9fSkpOihyPXQuZ2V0Q29uc3RydWN0b3IoZSxuLGksbykscC5SRVFVSVJFRD0hMCksbShyLG4sITEsITApLGRbbl09cixmKHtnbG9iYWw6ITAsZm9yY2VkOiEwfSxkKSxjfHx0LnNldFN0cm9uZyhyLG4saSkscn19LDExMzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMSk7ZS5leHBvcnRzPSFyKGZ1bmN0aW9uKCl7cmV0dXJuIE9iamVjdC5pc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSl9KX0sMTE0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9big2NCksaT1uKDYzKTtlLmV4cG9ydHM9cj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJbb2JqZWN0ICIraSh0aGlzKSsiXSJ9fSwxMTU6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjUpLGk9bigxMTYpLG89ci5XZWFrTWFwO2UuZXhwb3J0cz0iZnVuY3Rpb24iPT10eXBlb2YgbyYmL25hdGl2ZSBjb2RlLy50ZXN0KGkobykpfSwxMTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNzYpLGk9RnVuY3Rpb24udG9TdHJpbmc7ImZ1bmN0aW9uIiE9dHlwZW9mIHIuaW5zcGVjdFNvdXJjZSYmKHIuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gaS5jYWxsKGUpfSksZS5leHBvcnRzPXIuaW5zcGVjdFNvdXJjZX0sMTE3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHM9bigzMykuZixkPW4oODQpLGY9bigxMjIpLGw9bigyMykscD1uKDgzKSxnPW4oMTcpLGE9big2NyksYz1uKDEyNyksYj1uKDMwKSx2PW4oODApLmZhc3RLZXkscj1uKDU1KSx5PXIuc2V0LGg9ci5nZXR0ZXJGb3I7ZS5leHBvcnRzPXtnZXRDb25zdHJ1Y3RvcjpmdW5jdGlvbihlLG4scixpKXtmdW5jdGlvbiBvKGUsdCxuKXt2YXIgcixpLG89YyhlKSxhPXUoZSx0KTtyZXR1cm4gYT9hLnZhbHVlPW46KG8ubGFzdD1hPXtpbmRleDppPXYodCwhMCksa2V5OnQsdmFsdWU6bixwcmV2aW91czpyPW8ubGFzdCxuZXh0OnZvaWQgMCxyZW1vdmVkOiExfSxvLmZpcnN0fHwoby5maXJzdD1hKSxyJiYoci5uZXh0PWEpLGI/by5zaXplKys6ZS5zaXplKyssIkYiIT09aSYmKG8uaW5kZXhbaV09YSkpLGV9dmFyIGE9ZShmdW5jdGlvbihlLHQpe3AoZSxhLG4pLHkoZSx7dHlwZTpuLGluZGV4OmQobnVsbCksZmlyc3Q6dm9pZCAwLGxhc3Q6dm9pZCAwLHNpemU6MH0pLGJ8fChlLnNpemU9MCksbnVsbCE9dCYmZyh0LGVbaV0sZSxyKX0pLGM9aChuKSx1PWZ1bmN0aW9uKGUsdCl7dmFyIG4scj1jKGUpLGk9dih0KTtpZigiRiIhPT1pKXJldHVybiByLmluZGV4W2ldO2ZvcihuPXIuZmlyc3Q7bjtuPW4ubmV4dClpZihuLmtleT09dClyZXR1cm4gbn07cmV0dXJuIGYoYS5wcm90b3R5cGUse2NsZWFyOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWModGhpcyksdD1lLmluZGV4LG49ZS5maXJzdDtuOyluLnJlbW92ZWQ9ITAsbi5wcmV2aW91cyYmKG4ucHJldmlvdXM9bi5wcmV2aW91cy5uZXh0PXZvaWQgMCksZGVsZXRlIHRbbi5pbmRleF0sbj1uLm5leHQ7ZS5maXJzdD1lLmxhc3Q9dm9pZCAwLGI/ZS5zaXplPTA6dGhpcy5zaXplPTB9LGRlbGV0ZTpmdW5jdGlvbihlKXt2YXIgdCxuLHI9Yyh0aGlzKSxpPXUodGhpcyxlKTtyZXR1cm4gaSYmKHQ9aS5uZXh0LG49aS5wcmV2aW91cyxkZWxldGUgci5pbmRleFtpLmluZGV4XSxpLnJlbW92ZWQ9ITAsbiYmKG4ubmV4dD10KSx0JiYodC5wcmV2aW91cz1uKSxyLmZpcnN0PT1pJiYoci5maXJzdD10KSxyLmxhc3Q9PWkmJihyLmxhc3Q9biksYj9yLnNpemUtLTp0aGlzLnNpemUtLSksISFpfSxmb3JFYWNoOmZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBuLHI9Yyh0aGlzKSxpPWwoZSwxPGFyZ3VtZW50cy5sZW5ndGg/dDp2b2lkIDAsMyk7bj1uP24ubmV4dDpyLmZpcnN0Oylmb3IoaShuLnZhbHVlLG4ua2V5LHRoaXMpO24mJm4ucmVtb3ZlZDspbj1uLnByZXZpb3VzfSxoYXM6ZnVuY3Rpb24oZSl7cmV0dXJuISF1KHRoaXMsZSl9fSksZihhLnByb3RvdHlwZSxyP3tnZXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dSh0aGlzLGUpO3JldHVybiB0JiZ0LnZhbHVlfSxzZXQ6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0aGlzLDA9PT1lPzA6ZSx0KX19OnthZGQ6ZnVuY3Rpb24oZSl7cmV0dXJuIG8odGhpcyxlPTA9PT1lPzA6ZSxlKX19KSxiJiZzKGEucHJvdG90eXBlLCJzaXplIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGModGhpcykuc2l6ZX19KSxhfSxzZXRTdHJvbmc6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXQrIiBJdGVyYXRvciIsaT1oKHQpLG89aChyKTthKGUsdCxmdW5jdGlvbihlLHQpe3kodGhpcyx7dHlwZTpyLHRhcmdldDplLHN0YXRlOmkoZSksa2luZDp0LGxhc3Q6dm9pZCAwfSl9LGZ1bmN0aW9uKCl7Zm9yKHZhciBlPW8odGhpcyksdD1lLmtpbmQsbj1lLmxhc3Q7biYmbi5yZW1vdmVkOyluPW4ucHJldmlvdXM7cmV0dXJuIGUudGFyZ2V0JiYoZS5sYXN0PW49bj9uLm5leHQ6ZS5zdGF0ZS5maXJzdCk/ImtleXMiPT10P3t2YWx1ZTpuLmtleSxkb25lOiExfToidmFsdWVzIj09dD97dmFsdWU6bi52YWx1ZSxkb25lOiExfTp7dmFsdWU6W24ua2V5LG4udmFsdWVdLGRvbmU6ITF9Ont2YWx1ZTplLnRhcmdldD12b2lkIDAsZG9uZTohMH19LG4/ImVudHJpZXMiOiJ2YWx1ZXMiLCFuLCEwKSxjKHQpfX19LDExODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCksYT1uKDMzKSxjPW4oMTUpLHU9bigxMTkpO2UuZXhwb3J0cz1yP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzOmZ1bmN0aW9uKGUsdCl7YyhlKTtmb3IodmFyIG4scj11KHQpLGk9ci5sZW5ndGgsbz0wO288aTspYS5mKGUsbj1yW28rK10sdFtuXSk7cmV0dXJuIGV9fSwxMTk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTIwKSxpPW4oODUpO2UuZXhwb3J0cz1PYmplY3Qua2V5c3x8ZnVuY3Rpb24oZSl7cmV0dXJuIHIoZSxpKX19LDEyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDEwNyk7ZS5leHBvcnRzPXJ9LDEyMDpmdW5jdGlvbihlLHQsbil7dmFyIGE9bigyNyksYz1uKDQ4KSx1PW4oNzgpLmluZGV4T2Yscz1uKDU0KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWMoZSksaT0wLG89W107Zm9yKG4gaW4gcikhYShzLG4pJiZhKHIsbikmJm8ucHVzaChuKTtmb3IoO3QubGVuZ3RoPmk7KWEocixuPXRbaSsrXSkmJih+dShvLG4pfHxvLnB1c2gobikpO3JldHVybiBvfX0sMTIxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI4KTtlLmV4cG9ydHM9cigiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiKX0sMTIyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDg2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe2Zvcih2YXIgciBpbiB0KW4mJm4udW5zYWZlJiZlW3JdP2Vbcl09dFtyXTppKGUscix0W3JdLG4pO3JldHVybiBlfX0sMTIzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gaSgpe3JldHVybiB0aGlzfXZhciBvPW4oODcpLkl0ZXJhdG9yUHJvdG90eXBlLGE9big4NCksYz1uKDQ3KSx1PW4oNjUpLHM9bigzOSk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcj10KyIgSXRlcmF0b3IiO3JldHVybiBlLnByb3RvdHlwZT1hKG8se25leHQ6YygxLG4pfSksdShlLHIsITEsITApLHNbcl09aSxlfX0sMTI0OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKTtlLmV4cG9ydHM9IXIoZnVuY3Rpb24oKXtmdW5jdGlvbiBlKCl7fXJldHVybiBlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1udWxsLE9iamVjdC5nZXRQcm90b3R5cGVPZihuZXcgZSkhPT1lLnByb3RvdHlwZX0pfSwxMjU6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMTUpLG89bigxMjYpO2UuZXhwb3J0cz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fCgiX19wcm90b19fImlue30/ZnVuY3Rpb24oKXt2YXIgbixyPSExLGU9e307dHJ5eyhuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoT2JqZWN0LnByb3RvdHlwZSwiX19wcm90b19fIikuc2V0KS5jYWxsKGUsW10pLHI9ZSBpbnN0YW5jZW9mIEFycmF5fWNhdGNoKGUpe31yZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlKSxvKHQpLHI/bi5jYWxsKGUsdCk6ZS5fX3Byb3RvX189dCxlfX0oKTp2b2lkIDApfSwxMjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZighcihlKSYmbnVsbCE9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBzZXQgIitTdHJpbmcoZSkrIiBhcyBhIHByb3RvdHlwZSIpO3JldHVybiBlfX0sMTI3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigyOCksaT1uKDMzKSxvPW4oMjApLGE9bigzMCksYz1vKCJzcGVjaWVzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0PXIoZSksbj1pLmY7YSYmdCYmIXRbY10mJm4odCxjLHtjb25maWd1cmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fSl9fSwxMjg6ZnVuY3Rpb24oZSx0KXt9LDEyOTpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihjKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgbixyLGk9U3RyaW5nKHMoZSkpLG89dSh0KSxhPWkubGVuZ3RoO3JldHVybiBvPDB8fGE8PW8/Yz8iIjp2b2lkIDA6KG49aS5jaGFyQ29kZUF0KG8pKTw1NTI5Nnx8NTYzMTk8bnx8bysxPT09YXx8KHI9aS5jaGFyQ29kZUF0KG8rMSkpPDU2MzIwfHw1NzM0MzxyP2M/aS5jaGFyQXQobyk6bjpjP2kuc2xpY2UobyxvKzIpOnItNTYzMjArKG4tNTUyOTY8PDEwKSs2NTUzNn19dmFyIHU9big1OSkscz1uKDUwKTtlLmV4cG9ydHM9e2NvZGVBdDpyKCExKSxjaGFyQXQ6cighMCl9fSwxMzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJiIixmdW5jdGlvbigpe3JldHVybiBhfSksbi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSx0LmQ9ZnVuY3Rpb24oZSx0KXt2YXIgbj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MTU7MD09PWUuZ2V0SG9va3Moe2hvb2s6dH0pLmxlbmd0aCYmZS5iZWZvcmUodCxuKX0sdC5jPWZ1bmN0aW9uKGUsbil7YSgiYXN5bmMiLGZ1bmN0aW9uKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbi5hcHBseSh2b2lkIDAsZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbyhlKX0odD1lKXx8ZnVuY3Rpb24oZSl7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpcmV0dXJuIEFycmF5LmZyb20oZSl9KHQpfHxmdW5jdGlvbihlLHQpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbyhlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTtyZXR1cm4iT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSksIk1hcCI9PT1ufHwiU2V0Ij09PW4/QXJyYXkuZnJvbShlKToiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pP28oZSx0KTp2b2lkIDB9fSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKSk7dmFyIHR9KX0sZSkoW10pfSx0LmU9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoMTx0P3QtMTowKSxyPTE7cjx0O3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2MoZSkuYmVmb3JlKGZ1bmN0aW9uKGUsdCl7dC5wdXNoKG4pLGUodCl9KX07dmFyIHI9bigxNjMpLGk9bi5uKHIpO2Z1bmN0aW9uIG8oZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgYT1pKCkoe3JlYWR5OmkuYS5TWU5DfGkuYS5BU1lOQ3xpLmEuUVVFVUV9KSxjPWEuZ2V0fSwxMzA6ZnVuY3Rpb24oZSx0LG4pe24oMTMxKTt2YXIgcj1uKDEzMiksaT1uKDI1KSxvPW4oNjMpLGE9bigzMiksYz1uKDM5KSx1PW4oMjApKCJ0b1N0cmluZ1RhZyIpO2Zvcih2YXIgcyBpbiByKXt2YXIgZD1pW3NdLGY9ZCYmZC5wcm90b3R5cGU7ZiYmbyhmKSE9PXUmJmEoZix1LHMpLGNbc109Yy5BcnJheX19LDEzMTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oNDgpLGk9big1Miksbz1uKDM5KSxhPW4oNTUpLGM9big2NyksdT0iQXJyYXkgSXRlcmF0b3IiLHM9YS5zZXQsZD1hLmdldHRlckZvcih1KTtlLmV4cG9ydHM9YyhBcnJheSwiQXJyYXkiLGZ1bmN0aW9uKGUsdCl7cyh0aGlzLHt0eXBlOnUsdGFyZ2V0OnIoZSksaW5kZXg6MCxraW5kOnR9KX0sZnVuY3Rpb24oKXt2YXIgZT1kKHRoaXMpLHQ9ZS50YXJnZXQsbj1lLmtpbmQscj1lLmluZGV4Kys7cmV0dXJuIXR8fHI+PXQubGVuZ3RoP3t2YWx1ZTplLnRhcmdldD12b2lkIDAsZG9uZTohMH06ImtleXMiPT1uP3t2YWx1ZTpyLGRvbmU6ITF9OiJ2YWx1ZXMiPT1uP3t2YWx1ZTp0W3JdLGRvbmU6ITF9Ont2YWx1ZTpbcix0W3JdXSxkb25lOiExfX0sInZhbHVlcyIpLG8uQXJndW1lbnRzPW8uQXJyYXksaSgia2V5cyIpLGkoInZhbHVlcyIpLGkoImVudHJpZXMiKX0sMTMyOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfX0sMTMzOmZ1bmN0aW9uKGUsdCxuKXtuKDE0KSh7dGFyZ2V0OiJTZXQiLHN0YXQ6ITB9LHtmcm9tOm4oMTM0KX0pfSwxMzQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcz1uKDE4KSxkPW4oMjMpLGY9bigxNyk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpLG8sYSxjPWFyZ3VtZW50cy5sZW5ndGgsdT0xPGM/dDp2b2lkIDA7cmV0dXJuIHModGhpcyksKHI9dm9pZCAwIT09dSkmJnModSksbnVsbD09ZT9uZXcgdGhpczooaT1bXSxyPyhvPTAsYT1kKHUsMjxjP246dm9pZCAwLDIpLGYoZSxmdW5jdGlvbihlKXtpLnB1c2goYShlLG8rKykpfSkpOmYoZSxpLnB1c2gsaSksbmV3IHRoaXMoaSkpfX0sMTM1OmZ1bmN0aW9uKGUsdCxuKXtuKDE0KSh7dGFyZ2V0OiJTZXQiLHN0YXQ6ITB9LHtvZjpuKDEzNil9KX0sMTM2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZS5leHBvcnRzPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSk7ZS0tOyl0W2VdPWFyZ3VtZW50c1tlXTtyZXR1cm4gbmV3IHRoaXModCl9fSwxMzc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE0KSxpPW4oMTYpLG89bigxMzgpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7YWRkQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfSwxMzg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1uKDE1KSxvPW4oMTgpO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZT1pKHRoaXMpLHQ9byhlLmFkZCksbj0wLHI9YXJndW1lbnRzLmxlbmd0aDtuPHI7bisrKXQuY2FsbChlLGFyZ3VtZW50c1tuXSk7cmV0dXJuIGV9fSwxMzk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE0KSxpPW4oMTYpLG89bigxNDApO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7ZGVsZXRlQWxsOmZ1bmN0aW9uKCl7cmV0dXJuIG8uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pfSwxNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIHkocil7ZnVuY3Rpb24gZShlLHQsbil7aWYodGhpcyBpbnN0YW5jZW9mIHIpe3N3aXRjaChhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIG5ldyByO2Nhc2UgMTpyZXR1cm4gbmV3IHIoZSk7Y2FzZSAyOnJldHVybiBuZXcgcihlLHQpfXJldHVybiBuZXcgcihlLHQsbil9cmV0dXJuIHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfXJldHVybiBlLnByb3RvdHlwZT1yLnByb3RvdHlwZSxlfXZhciBoPW4oMjUpLG09bigxMDApLmYsUz1uKDEwMiksQT1uKDQyKSxFPW4oMjMpLE89bigzMiksVD1uKDI3KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyLGksbyxhLGMsdSxzLGQ9ZS50YXJnZXQsZj1lLmdsb2JhbCxsPWUuc3RhdCxwPWUucHJvdG8sZz1mP2g6bD9oW2RdOihoW2RdfHx7fSkucHJvdG90eXBlLGI9Zj9BOkFbZF18fChBW2RdPXt9KSx2PWIucHJvdG90eXBlO2ZvcihpIGluIHQpbj0hUyhmP2k6ZCsobD8iLiI6IiMiKStpLGUuZm9yY2VkKSYmZyYmVChnLGkpLGE9YltpXSxuJiYoYz1lLm5vVGFyZ2V0R2V0PyhzPW0oZyxpKSkmJnMudmFsdWU6Z1tpXSksbz1uJiZjP2M6dFtpXSxuJiZ0eXBlb2YgYT09dHlwZW9mIG98fCh1PWUuYmluZCYmbj9FKG8saCk6ZS53cmFwJiZuP3kobyk6cCYmImZ1bmN0aW9uIj09dHlwZW9mIG8/RShGdW5jdGlvbi5jYWxsLG8pOm8sKGUuc2hhbXx8byYmby5zaGFtfHxhJiZhLnNoYW0pJiZPKHUsInNoYW0iLCEwKSxiW2ldPXUscCYmKFQoQSxyPWQrIlByb3RvdHlwZSIpfHxPKEEscix7fSksQVtyXVtpXT1vLGUucmVhbCYmdiYmIXZbaV0mJk8odixpLG8pKSl9fSwxNDA6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgYT1uKDE1KSxjPW4oMTgpO2UuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgZSx0PWEodGhpcyksbj1jKHQuZGVsZXRlKSxyPSEwLGk9MCxvPWFyZ3VtZW50cy5sZW5ndGg7aTxvO2krKyllPW4uY2FsbCh0LGFyZ3VtZW50c1tpXSkscj1yJiZlO3JldHVybiEhcn19LDE0MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTQpLGk9bigxNiksbz1uKDE1KSxhPW4oMjMpLGM9bigzNiksdT1uKDE3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2V2ZXJ5OmZ1bmN0aW9uKGUsdCl7dmFyIG49byh0aGlzKSxyPWMobiksaT1hKGUsMTxhcmd1bWVudHMubGVuZ3RoP3Q6dm9pZCAwLDMpO3JldHVybiF1KHIsZnVuY3Rpb24oZSl7aWYoIWkoZSxlLG4pKXJldHVybiB1LnN0b3AoKX0sdm9pZCAwLCExLCEwKS5zdG9wcGVkfX0pfSwxNDI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE0KSxpPW4oMTYpLG89bigyOCksYT1uKDE1KSxjPW4oMTgpLHU9big0MCkscz1uKDE3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2RpZmZlcmVuY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPW5ldyh1KHQsbygiU2V0IikpKSh0KSxyPWMobi5kZWxldGUpO3JldHVybiBzKGUsZnVuY3Rpb24oZSl7ci5jYWxsKG4sZSl9KSxufX0pfSwxNDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE0KSxpPW4oMTYpLGM9bigyOCksdT1uKDE1KSxzPW4oMTgpLGQ9bigyMyksZj1uKDQwKSxsPW4oMzYpLHA9bigxNyk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtmaWx0ZXI6ZnVuY3Rpb24oZSx0KXt2YXIgbj11KHRoaXMpLHI9bChuKSxpPWQoZSwxPGFyZ3VtZW50cy5sZW5ndGg/dDp2b2lkIDAsMyksbz1uZXcoZihuLGMoIlNldCIpKSksYT1zKG8uYWRkKTtyZXR1cm4gcChyLGZ1bmN0aW9uKGUpe2koZSxlLG4pJiZhLmNhbGwobyxlKX0sdm9pZCAwLCExLCEwKSxvfX0pfSwxNDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE0KSxpPW4oMTYpLG89bigxNSksYT1uKDIzKSxjPW4oMzYpLHU9bigxNyk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtmaW5kOmZ1bmN0aW9uKGUsdCl7dmFyIG49byh0aGlzKSxyPWMobiksaT1hKGUsMTxhcmd1bWVudHMubGVuZ3RoP3Q6dm9pZCAwLDMpO3JldHVybiB1KHIsZnVuY3Rpb24oZSl7aWYoaShlLGUsbikpcmV0dXJuIHUuc3RvcChlKX0sdm9pZCAwLCExLCEwKS5yZXN1bHR9fSl9LDE0NTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTQpLGk9bigxNiksbz1uKDI4KSxhPW4oMTUpLGM9bigxOCksdT1uKDQwKSxzPW4oMTcpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aW50ZXJzZWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkscj1jKHQuaGFzKSxpPWMobi5hZGQpO3JldHVybiBzKGUsZnVuY3Rpb24oZSl7ci5jYWxsKHQsZSkmJmkuY2FsbChuLGUpfSksbn19KX0sMTQ2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNCksaT1uKDE2KSxvPW4oMTUpLGE9bigxOCksYz1uKDE3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2lzRGlzam9pbnRGcm9tOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQuaGFzKTtyZXR1cm4hYyhlLGZ1bmN0aW9uKGUpe2lmKCEwPT09bi5jYWxsKHQsZSkpcmV0dXJuIGMuc3RvcCgpfSkuc3RvcHBlZH19KX0sMTQ3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNCksaT1uKDE2KSxvPW4oMjgpLGE9bigxNSksYz1uKDE4KSx1PW4oOTApLHM9bigxNyk7cih7dGFyZ2V0OiJTZXQiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOml9LHtpc1N1YnNldE9mOmZ1bmN0aW9uKGUpe3ZhciB0PXUodGhpcyksbj1hKGUpLHI9bi5oYXM7cmV0dXJuImZ1bmN0aW9uIiE9dHlwZW9mIHImJihuPW5ldyhvKCJTZXQiKSkoZSkscj1jKG4uaGFzKSksIXModCxmdW5jdGlvbihlKXtpZighMT09PXIuY2FsbChuLGUpKXJldHVybiBzLnN0b3AoKX0sdm9pZCAwLCExLCEwKS5zdG9wcGVkfX0pfSwxNDg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE0KSxpPW4oMTYpLG89bigxNSksYT1uKDE4KSxjPW4oMTcpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7aXNTdXBlcnNldE9mOmZ1bmN0aW9uKGUpe3ZhciB0PW8odGhpcyksbj1hKHQuaGFzKTtyZXR1cm4hYyhlLGZ1bmN0aW9uKGUpe2lmKCExPT09bi5jYWxsKHQsZSkpcmV0dXJuIGMuc3RvcCgpfSkuc3RvcHBlZH19KX0sMTQ5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNCksaT1uKDE2KSxvPW4oMTUpLGE9bigzNiksYz1uKDE3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se2pvaW46ZnVuY3Rpb24oZSl7dmFyIHQ9byh0aGlzKSxuPWEodCkscj12b2lkIDA9PT1lPyIsIjpTdHJpbmcoZSksaT1bXTtyZXR1cm4gYyhuLGkucHVzaCxpLCExLCEwKSxpLmpvaW4ocil9fSl9LDE1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7aWYoIXIoZSkpdGhyb3cgVHlwZUVycm9yKFN0cmluZyhlKSsiIGlzIG5vdCBhbiBvYmplY3QiKTtyZXR1cm4gZX19LDE1MDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTQpLGk9bigxNiksYz1uKDI4KSx1PW4oMTUpLHM9bigxOCksZD1uKDIzKSxmPW4oNDApLGw9bigzNikscD1uKDE3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se21hcDpmdW5jdGlvbihlLHQpe3ZhciBuPXUodGhpcykscj1sKG4pLGk9ZChlLDE8YXJndW1lbnRzLmxlbmd0aD90OnZvaWQgMCwzKSxvPW5ldyhmKG4sYygiU2V0IikpKSxhPXMoby5hZGQpO3JldHVybiBwKHIsZnVuY3Rpb24oZSl7YS5jYWxsKG8saShlLGUsbikpfSx2b2lkIDAsITEsITApLG99fSl9LDE1MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTQpLGk9bigxNiksYT1uKDE1KSxjPW4oMTgpLHU9bigzNikscz1uKDE3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3JlZHVjZTpmdW5jdGlvbih0LGUpe3ZhciBuPWEodGhpcykscj11KG4pLGk9YXJndW1lbnRzLmxlbmd0aDwyLG89aT92b2lkIDA6ZTtpZihjKHQpLHMocixmdW5jdGlvbihlKXtvPWk/KGk9ITEsZSk6dChvLGUsZSxuKX0sdm9pZCAwLCExLCEwKSxpKXRocm93IFR5cGVFcnJvcigiUmVkdWNlIG9mIGVtcHR5IHNldCB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTtyZXR1cm4gb319KX0sMTUyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNCksaT1uKDE2KSxvPW4oMTUpLGE9bigyMyksYz1uKDM2KSx1PW4oMTcpO3Ioe3RhcmdldDoiU2V0Iixwcm90bzohMCxyZWFsOiEwLGZvcmNlZDppfSx7c29tZTpmdW5jdGlvbihlLHQpe3ZhciBuPW8odGhpcykscj1jKG4pLGk9YShlLDE8YXJndW1lbnRzLmxlbmd0aD90OnZvaWQgMCwzKTtyZXR1cm4gdShyLGZ1bmN0aW9uKGUpe2lmKGkoZSxlLG4pKXJldHVybiB1LnN0b3AoKX0sdm9pZCAwLCExLCEwKS5zdG9wcGVkfX0pfSwxNTM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE0KSxpPW4oMTYpLG89bigyOCksYT1uKDE1KSxjPW4oMTgpLHU9big0MCkscz1uKDE3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3N5bW1ldHJpY0RpZmZlcmVuY2U6ZnVuY3Rpb24oZSl7dmFyIHQ9YSh0aGlzKSxuPW5ldyh1KHQsbygiU2V0IikpKSh0KSxyPWMobi5kZWxldGUpLGk9YyhuLmFkZCk7cmV0dXJuIHMoZSxmdW5jdGlvbihlKXtyLmNhbGwobixlKXx8aS5jYWxsKG4sZSl9KSxufX0pfSwxNTQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE0KSxpPW4oMTYpLG89bigyOCksYT1uKDE1KSxjPW4oMTgpLHU9big0MCkscz1uKDE3KTtyKHt0YXJnZXQ6IlNldCIscHJvdG86ITAscmVhbDohMCxmb3JjZWQ6aX0se3VuaW9uOmZ1bmN0aW9uKGUpe3ZhciB0PWEodGhpcyksbj1uZXcodSh0LG8oIlNldCIpKSkodCk7cmV0dXJuIHMoZSxjKG4uYWRkKSxuKSxufX0pfSwxNTU6ZnVuY3Rpb24oZSx0LG4pe24oODkpLG4oMTU2KTt2YXIgcj1uKDQyKTtlLmV4cG9ydHM9ci5BcnJheS5mcm9tfSwxNTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTQpLGk9bigxNTcpO3Ioe3RhcmdldDoiQXJyYXkiLHN0YXQ6ITAsZm9yY2VkOiFuKDE1OSkoZnVuY3Rpb24oZSl7QXJyYXkuZnJvbShlKX0pfSx7ZnJvbTppfSl9LDE1NzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciB2PW4oMjMpLHk9big1OCksaD1uKDgyKSxtPW4oODEpLFM9big1MSksQT1uKDE1OCksRT1uKDYyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByLGksbyxhLGMsdSxzPXkoZSksZD0iZnVuY3Rpb24iPT10eXBlb2YgdGhpcz90aGlzOkFycmF5LGY9YXJndW1lbnRzLmxlbmd0aCxsPTE8Zj90OnZvaWQgMCxwPXZvaWQgMCE9PWwsZz1FKHMpLGI9MDtpZihwJiYobD12KGwsMjxmP246dm9pZCAwLDIpKSxudWxsPT1nfHxkPT1BcnJheSYmbShnKSlmb3IoaT1uZXcgZChyPVMocy5sZW5ndGgpKTtiPHI7YisrKXU9cD9sKHNbYl0sYik6c1tiXSxBKGksYix1KTtlbHNlIGZvcihjPShhPWcuY2FsbChzKSkubmV4dCxpPW5ldyBkOyEobz1jLmNhbGwoYSkpLmRvbmU7YisrKXU9cD9oKGEsbCxbby52YWx1ZSxiXSwhMCk6by52YWx1ZSxBKGksYix1KTtyZXR1cm4gaS5sZW5ndGg9YixpfX0sMTU4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIGk9big1Niksbz1uKDMzKSxhPW4oNDcpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbil7dmFyIHI9aSh0KTtyIGluIGU/by5mKGUscixhKDAsbikpOmVbcl09bn19LDE1OTpmdW5jdGlvbihlLHQsbil7dmFyIGk9bigyMCkoIml0ZXJhdG9yIiksbz0hMTt0cnl7dmFyIHI9MCxhPXtuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6ISFyKyt9fSxyZXR1cm46ZnVuY3Rpb24oKXtvPSEwfX07YVtpXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxBcnJheS5mcm9tKGEsZnVuY3Rpb24oKXt0aHJvdyAyfSl9Y2F0Y2goZSl7fWUuZXhwb3J0cz1mdW5jdGlvbihlLHQpe2lmKCF0JiYhbylyZXR1cm4hMTt2YXIgbj0hMTt0cnl7dmFyIHI9e307cltpXT1mdW5jdGlvbigpe3JldHVybntuZXh0OmZ1bmN0aW9uKCl7cmV0dXJue2RvbmU6bj0hMH19fX0sZShyKX1jYXRjaChlKXt9cmV0dXJuIG59fSwxNjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz0hMH0sMTYwOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uIGUodCl7dmFyIG49QXJyYXkuaXNBcnJheSh0KT9bXTp7fTtmb3IodmFyIHIgaW4gdCl7dmFyIGk9dFtyXTtuW3JdPWkmJiJvYmplY3QiPT10eXBlb2YgaT9lKGkpOml9cmV0dXJuIG59fSwxNjE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4scixpKXtmb3IodD10LnNwbGl0P3Quc3BsaXQoIi4iKTp0LHI9MDtyPHQubGVuZ3RoO3IrKyllPWU/ZVt0W3JdXTppO3JldHVybiBlPT09aT9uOmV9fSwxNjI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSx0LG4pe3Quc3BsaXQmJih0PXQuc3BsaXQoIi4iKSk7Zm9yKHZhciByLGk9MCxvPXQubGVuZ3RoLGE9ZTtpPG87KytpKXI9YVt0W2ldXSxhPWFbdFtpXV09aT09PW8tMT9uOm51bGwhPXI/cjohfnRbaSsxXS5pbmRleE9mKCIuIikmJi0xPCt0W2krMV0/W106e319fSwxNjM6ZnVuY3Rpb24oZSx0KXtoLlNZTkM9MSxoLkFTWU5DPTIsaC5RVUVVRT00O3ZhciBnPSJmdW4taG9va3MiO3ZhciBuPU9iamVjdC5mcmVlemUoe3VzZVByb3h5OiEwLHJlYWR5OjB9KSxiPW5ldyBXZWFrTWFwLHI9IjIsMSwwIj09PVsxXS5yZWR1Y2UoZnVuY3Rpb24oZSx0LG4pe3JldHVybltlLHQsbl19LDIpLnRvU3RyaW5nKCk/QXJyYXkucHJvdG90eXBlLnJlZHVjZTpmdW5jdGlvbihlLHQpe3ZhciBuLHI9T2JqZWN0KHRoaXMpLGk9ci5sZW5ndGg+Pj4wLG89MDtpZih0KW49dDtlbHNle2Zvcig7bzxpJiYhKG8gaW4gcik7KW8rKztuPXJbbysrXX1mb3IoO288aTspbyBpbiByJiYobj1lKG4scltvXSxvLHIpKSxvKys7cmV0dXJuIG59O2Z1bmN0aW9uIHYoZSx0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSx0KX12YXIgeT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtyZXR1cm4gci5jYWxsKHYoYXJndW1lbnRzLDEpLGZ1bmN0aW9uKHQsbil7cmV0dXJuIG4mJk9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1uW2VdfSksdH0sZSl9O2Z1bmN0aW9uIGgodSl7dmFyIHMsZT17fSxkPVtdO2Z1bmN0aW9uIHQoZSx0KXtyZXR1cm4iZnVuY3Rpb24iPT10eXBlb2YgZT9mLmNhbGwobnVsbCwic3luYyIsZSx0KToic3RyaW5nIj09dHlwZW9mIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiB0P2YuYXBwbHkobnVsbCxhcmd1bWVudHMpOiJvYmplY3QiPT10eXBlb2YgZT9mdW5jdGlvbihvLGUsYSl7dmFyIHQ9ITA7dm9pZCAwPT09ZSYmKGU9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobyksdD0hMSk7dmFyIGM9e30sbj1bImNvbnN0cnVjdG9yIl07Zm9yKDsoZT1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hKCJmdW5jdGlvbiIhPXR5cGVvZiBvW2VdfHwtMSE9PW4uaW5kZXhPZihlKXx8ZS5tYXRjaCgvXl8vKSl9KSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuPWUuc3BsaXQoIjoiKSxyPW5bMF0saT1uWzFdfHwic3luYyI7Y1tyXXx8KHQ9b1tyXSxjW3JdPW9bcl09ZihpLHQsYT9bYSxyXTp2b2lkIDApKX0pLG89T2JqZWN0LmdldFByb3RvdHlwZU9mKG8pLHQmJm87KTtyZXR1cm4gY30uYXBwbHkobnVsbCxhcmd1bWVudHMpOnZvaWQgMH1mdW5jdGlvbiBsKG8pe3ZhciBhPUFycmF5LmlzQXJyYXkobyk/bzpvLnNwbGl0KCIuIik7cmV0dXJuIHIuY2FsbChhLGZ1bmN0aW9uKHQsbixlKXt2YXIgcj10W25dLGk9ITE7cmV0dXJuIHJ8fChlPT09YS5sZW5ndGgtMT8oc3x8ZC5wdXNoKGZ1bmN0aW9uKCl7aXx8Y29uc29sZS53YXJuKGcrIjogcmVmZXJlbmNlZCAnIitvKyInIGJ1dCBpdCB3YXMgbmV2ZXIgY3JlYXRlZCIpfSksdFtuXT1wKGZ1bmN0aW9uKGUpe3Rbbl09ZSxpPSEwfSkpOnRbbl09e30pfSxlKX1mdW5jdGlvbiBwKHIpe3ZhciBvPVtdLGE9W10sYz1mdW5jdGlvbigpe30sZT17YmVmb3JlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbCh0aGlzLG8sImJlZm9yZSIsZSx0KX0sYWZ0ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbi5jYWxsKHRoaXMsYSwiYWZ0ZXIiLGUsdCl9LGdldEhvb2tzOmZ1bmN0aW9uKG4pe3ZhciBlPW8uY29uY2F0KGEpOyJvYmplY3QiPT10eXBlb2YgbiYmKGU9ZS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKG4pLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdPT09bltlXX0pfSkpO3RyeXt5KGUse3JlbW92ZTpmdW5jdGlvbigpe3JldHVybiBlLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5yZW1vdmUoKX0pLHRoaXN9fSl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcigiZXJyb3IgYWRkaW5nIGByZW1vdmVgIHRvIGFycmF5LCBkaWQgeW91IG1vZGlmeSBBcnJheS5wcm90b3R5cGU/Iil9cmV0dXJuIGV9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEhvb2tzKCkucmVtb3ZlKCl9fSx0PXtpbnN0YWxsOmZ1bmN0aW9uKGUsdCxuKXt0aGlzLnR5cGU9ZSwoYz1uKShvLGEpLHImJnIodCl9fTtyZXR1cm4gYi5zZXQoZS5hZnRlcix0KSxlO2Z1bmN0aW9uIG4odCxlLG4scil7dmFyIGk9e2hvb2s6bix0eXBlOmUscHJpb3JpdHk6cnx8MTAscmVtb3ZlOmZ1bmN0aW9uKCl7dmFyIGU9dC5pbmRleE9mKGkpOy0xIT09ZSYmKHQuc3BsaWNlKGUsMSksYyhvLGEpKX19O3JldHVybiB0LnB1c2goaSksdC5zb3J0KGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQucHJpb3JpdHktZS5wcmlvcml0eX0pLGMobyxhKSx0aGlzfX1mdW5jdGlvbiBmKGYsZSx0KXt2YXIgbj1lLmFmdGVyJiZiLmdldChlLmFmdGVyKTtpZihuKXtpZihuLnR5cGUhPT1mKXRocm93IGcrIjogcmVjcmVhdGVkIGhvb2thYmxlIHdpdGggZGlmZmVyZW50IHR5cGUiO3JldHVybiBlfXZhciByLGksbz10P2wodCk6cCgpLGE9e2dldDpmdW5jdGlvbihlLHQpe3JldHVybiBvW3RdfHxSZWZsZWN0LmdldC5hcHBseShSZWZsZWN0LGFyZ3VtZW50cyl9fTtyZXR1cm4gc3x8ZC5wdXNoKGMpLHUudXNlUHJveHkmJiJmdW5jdGlvbiI9PXR5cGVvZiBQcm94eSYmUHJveHkucmV2b2NhYmxlP2k9bmV3IFByb3h5KGUsYSk6eShpPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHk/YS5hcHBseShlLHRoaXMsdihhcmd1bWVudHMpKTplLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbyksYi5nZXQoaS5hZnRlcikuaW5zdGFsbChmLGksZnVuY3Rpb24oZSx0KXt2YXIgcyxkPVtdO3I9ZS5sZW5ndGh8fHQubGVuZ3RoPyhlLmZvckVhY2gobikscz1kLnB1c2godm9pZCAwKS0xLHQuZm9yRWFjaChuKSxmdW5jdGlvbihuLHIsZSl7dmFyIGksbz0wLGE9ImFzeW5jIj09PWYmJiJmdW5jdGlvbiI9PXR5cGVvZiBlW2UubGVuZ3RoLTFdJiZlLnBvcCgpO2Z1bmN0aW9uIGMoZSl7InN5bmMiPT09Zj9pPWU6YSYmYS5hcHBseShudWxsLGFyZ3VtZW50cyl9ZnVuY3Rpb24gdShlKXtpZihkW29dKXt2YXIgdD12KGFyZ3VtZW50cyk7cmV0dXJuIHUuYmFpbD1jLHQudW5zaGlmdCh1KSxkW28rK10uYXBwbHkocix0KX0ic3luYyI9PT1mP2k9ZTphJiZhLmFwcGx5KG51bGwsYXJndW1lbnRzKX1yZXR1cm4gZFtzXT1mdW5jdGlvbigpe3ZhciBlPXYoYXJndW1lbnRzLDEpOyJhc3luYyI9PT1mJiZhJiYoZGVsZXRlIHUuYmFpbCxlLnB1c2godSkpO3ZhciB0PW4uYXBwbHkocixlKTsic3luYyI9PT1mJiZ1KHQpfSx1LmFwcGx5KG51bGwsZSksaX0pOnZvaWQgMDtmdW5jdGlvbiBuKGUpe2QucHVzaChlLmhvb2spfWMoKX0pLGk7ZnVuY3Rpb24gYygpeyFzJiYoInN5bmMiIT09Znx8dS5yZWFkeSZoLlNZTkMpJiYoImFzeW5jIiE9PWZ8fHUucmVhZHkmaC5BU1lOQyk/InN5bmMiIT09ZiYmdS5yZWFkeSZoLlFVRVVFP2EuYXBwbHk9ZnVuY3Rpb24oKXt2YXIgZT1hcmd1bWVudHM7ZC5wdXNoKGZ1bmN0aW9uKCl7aS5hcHBseShlWzFdLGVbMl0pfSl9OmEuYXBwbHk9ZnVuY3Rpb24oKXt0aHJvdyBnKyI6IGhvb2tlZCBmdW5jdGlvbiBub3QgcmVhZHkifTphLmFwcGx5PXJ9fXJldHVybih1PXkoe30sbix1KSkucmVhZHk/dC5yZWFkeT1mdW5jdGlvbigpe3M9ITAsZnVuY3Rpb24oZSl7Zm9yKHZhciB0O3Q9ZS5zaGlmdCgpOyl0KCl9KGQpfTpzPSEwLHQuZ2V0PWwsdH1lLmV4cG9ydHM9aH0sMTc6ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHAoZSx0KXt0aGlzLnN0b3BwZWQ9ZSx0aGlzLnJlc3VsdD10fXZhciBnPW4oMTUpLGI9big4MSksdj1uKDUxKSx5PW4oMjMpLGg9big2MiksbT1uKDgyKTsoZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHIsaSl7dmFyIG8sYSxjLHUscyxkLGYsbD15KHQsbixyPzI6MSk7aWYoaSlvPWU7ZWxzZXtpZigiZnVuY3Rpb24iIT10eXBlb2YoYT1oKGUpKSl0aHJvdyBUeXBlRXJyb3IoIlRhcmdldCBpcyBub3QgaXRlcmFibGUiKTtpZihiKGEpKXtmb3IoYz0wLHU9dihlLmxlbmd0aCk7Yzx1O2MrKylpZigocz1yP2woZyhmPWVbY10pWzBdLGZbMV0pOmwoZVtjXSkpJiZzIGluc3RhbmNlb2YgcClyZXR1cm4gcztyZXR1cm4gbmV3IHAoITEpfW89YS5jYWxsKGUpfWZvcihkPW8ubmV4dDshKGY9ZC5jYWxsKG8pKS5kb25lOylpZigib2JqZWN0Ij09dHlwZW9mKHM9bShvLGwsZi52YWx1ZSxyKSkmJnMmJnMgaW5zdGFuY2VvZiBwKXJldHVybiBzO3JldHVybiBuZXcgcCghMSl9KS5zdG9wPWZ1bmN0aW9uKGUpe3JldHVybiBuZXcgcCghMCxlKX19LDE4OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKCJmdW5jdGlvbiIhPXR5cGVvZiBlKXRocm93IFR5cGVFcnJvcihTdHJpbmcoZSkrIiBpcyBub3QgYSBmdW5jdGlvbiIpO3JldHVybiBlfX0sMTk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnVwYmpzfSx3aW5kb3cudXBianM9d2luZG93LnVwYmpzfHx7fSx3aW5kb3cudXBianMuY21kPXdpbmRvdy51cGJqcy5jbWR8fFtdLHdpbmRvdy51cGJqcy5xdWU9d2luZG93LnVwYmpzLnF1ZXx8W10sd2luZG93Ll9wYmpzR2xvYmFscz13aW5kb3cuX3BianNHbG9iYWxzfHxbXSx3aW5kb3cuX3BianNHbG9iYWxzLnB1c2goInVwYmpzIil9LDI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYyIsZnVuY3Rpb24oKXtyZXR1cm4gcn0pLG4uZCh0LCJkIixmdW5jdGlvbigpe3JldHVybiBpfSksbi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KSxuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gYX0pO3ZhciByPSJuYXRpdmUiLGk9InZpZGVvIixvPSJiYW5uZXIiLGE9ImFkcG9kIn0sMjA6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjUpLGk9big3NSksbz1uKDI3KSxhPW4oNjApLGM9big3NyksdT1uKDEwNikscz1pKCJ3a3MiKSxkPXIuU3ltYm9sLGY9dT9kOmQmJmQud2l0aG91dFNldHRlcnx8YTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIG8ocyxlKXx8KGMmJm8oZCxlKT9zW2VdPWRbZV06c1tlXT1mKCJTeW1ib2wuIitlKSksc1tlXX19LDIxOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIHJ9KTt2YXIgeT1uKDApO3ZhciBoLHI9KGg9d2luZG93LGZ1bmN0aW9uKCl7dmFyIGUsdD1bXSxuPWZ1bmN0aW9uKGUpe3RyeXtpZighZS5sb2NhdGlvbi5hbmNlc3Rvck9yaWdpbnMpcmV0dXJuO3JldHVybiBlLmxvY2F0aW9uLmFuY2VzdG9yT3JpZ2luc31jYXRjaChlKXt9fShoKSxyPSExLGk9MCxvPSExLGE9ITE7ZG97dmFyIGMsdSxzPWcsZD1hLGY9dm9pZCAwLGw9ITEscD1udWxsLGE9ITEsZz1nP2cucGFyZW50Omg7dHJ5e2Y9Zy5sb2NhdGlvbi5ocmVmfHxudWxsfWNhdGNoKGUpe2w9ITB9aWYobClpZihkKXt2YXIgYj1zLmNvbnRleHQ7dHJ5e3U9cD1iLnNvdXJjZVVybCxvPSEwLGc9PT1oLnRvcCYmKHI9ITApLGIuY2Fub25pY2FsVXJsJiYoZT1iLmNhbm9uaWNhbFVybCl9Y2F0Y2goZSl7fX1lbHNle09iamVjdCh5LmxvZ1dhcm4pKCJUcnlpbmcgdG8gYWNjZXNzIGNyb3NzIGRvbWFpbiBpZnJhbWUuIENvbnRpbnVpbmcgd2l0aG91dCByZWZlcnJlciBhbmQgbG9jYXRpb24iKTt0cnl7dmFyIHY9cy5kb2N1bWVudC5yZWZlcnJlcjt2JiYocD12LGc9PT1oLnRvcCYmKHI9ITApKX1jYXRjaChlKXt9IXAmJm4mJm5baS0xXSYmKHA9bltpLTFdKSxwJiYhbyYmKHU9cCl9ZWxzZSBmJiYodT1wPWYsbz0hMSxnPT09aC50b3AmJihyPSEwLChjPWZ1bmN0aW9uKGUpe3RyeXt2YXIgdD1lLnF1ZXJ5U2VsZWN0b3IoImxpbmtbcmVsPSdjYW5vbmljYWwnXSIpO2lmKG51bGwhPT10KXJldHVybiB0LmhyZWZ9Y2F0Y2goZSl7fXJldHVybiBudWxsfShnLmRvY3VtZW50KSkmJihlPWMpKSksZy5jb250ZXh0JiZnLmNvbnRleHQuc291cmNlVXJsJiYoYT0hMCk7dC5wdXNoKHApLGkrK313aGlsZShnIT09aC50b3ApO3JldHVybiB0LnJldmVyc2UoKSx7cmVmZXJlcjp1fHxudWxsLHJlYWNoZWRUb3A6cixpc0FtcDpvLG51bUlmcmFtZXM6aS0xLHN0YWNrOnQsY2Fub25pY2FsVXJsOmV8fG51bGx9fSl9LDIyMDpmdW5jdGlvbihlLHQsbil7bigyMjEpO3ZhciByPW4oNTMpO2UuZXhwb3J0cz1yKCJBcnJheSIsImZpbmRJbmRleCIpfSwyMjE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgcj1uKDE0KSxpPW4oNTcpLmZpbmRJbmRleCxvPW4oNTIpLGE9big2MSksYz0iZmluZEluZGV4Iix1PSEwLHM9YShjKTtjIGluW10mJkFycmF5KDEpW2NdKGZ1bmN0aW9uKCl7dT0hMX0pLHIoe3RhcmdldDoiQXJyYXkiLHByb3RvOiEwLGZvcmNlZDp1fHwhc30se2ZpbmRJbmRleDpmdW5jdGlvbihlLHQpe3JldHVybiBpKHRoaXMsZSwxPGFyZ3VtZW50cy5sZW5ndGg/dDp2b2lkIDApfX0pLG8oYyl9LDIyODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbigpe3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixjLCExKX07dmFyIHI9big4KSxnPW4ubihyKSxiPW4oMzcpLGk9big1KSx2PShuLm4oaSksbigwKSkseT1uKDI0KSxvPW4oMTApLGg9bi5uKG8pLG09bigxMSksYT1uKDEyKSxTPW4ubihhKSxBPWkuRVZFTlRTLkJJRF9XT047ZnVuY3Rpb24gYyhlKXt2YXIgdCxuLHIsaSxvLGEsYyx1LHMsZD1lLm1lc3NhZ2U/Im1lc3NhZ2UiOiJkYXRhIixmPXt9O3RyeXtmPUpTT04ucGFyc2UoZVtkXSl9Y2F0Y2goZSl7cmV0dXJufWlmKGYmJmYuYWRJZCl7dmFyIGw9aCgpKHkuYS5nZXRCaWRzUmVjZWl2ZWQoKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5hZElkPT09Zi5hZElkfSk7aWYobCYmIlByZWJpZCBSZXF1ZXN0Ij09PWYubWVzc2FnZSYmKG49ZSxyPSh0PWwpLmFkSWQsaT10LmFkLG89dC5hZFVybCxhPXQud2lkdGgsYz10LmhlaWdodCx1PXQucmVuZGVyZXIscz10LmNwbSxPYmplY3QobS5jKSh1KT9PYmplY3QobS5iKSh1LHQpOnImJihmdW5jdGlvbihlKXt2YXIgbz1lLmFkSWQsYT1lLmFkVW5pdENvZGUscj1lLndpZHRoLGk9ZS5oZWlnaHQ7ZnVuY3Rpb24gYyhlKXt2YXIgdCxuLHI9KHQ9byxuPWEsd2luZG93Lmdvb2dsZXRhZz9mdW5jdGlvbihuKXtyZXR1cm4gaCgpKHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKSxmdW5jdGlvbih0KXtyZXR1cm4gaCgpKHQuZ2V0VGFyZ2V0aW5nS2V5cygpLGZ1bmN0aW9uKGUpe3JldHVybiBTKCkodC5nZXRUYXJnZXRpbmcoZSksbil9KX0pLmdldFNsb3RFbGVtZW50SWQoKX0odCk6d2luZG93LmFwbnRhZz9mdW5jdGlvbihlKXt2YXIgdD13aW5kb3cuYXBudGFnLmdldFRhZyhlKTtyZXR1cm4gdCYmdC50YXJnZXRJZH0obik6biksaT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKTtyZXR1cm4gaSYmaS5xdWVyeVNlbGVjdG9yKGUpfVsiZGl2IiwiaWZyYW1lIl0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuPWMoZSsnOm5vdChbc3R5bGUqPSJkaXNwbGF5OiBub25lIl0pJyk7bj8oKHQ9bi5zdHlsZSkud2lkdGg9cisicHgiLHQuaGVpZ2h0PWkrInB4Iik6T2JqZWN0KHYubG9nV2FybikoIlVuYWJsZSB0byBsb2NhdGUgbWF0Y2hpbmcgcGFnZSBlbGVtZW50IGZvciBhZFVuaXRDb2RlICIuY29uY2F0KGEsIi4gIENhbid0IHJlc2l6ZSBpdCB0byBhZCdzIGRpbWVuc2lvbnMuICBQbGVhc2UgcmV2aWV3IHNldHVwLiIpKX0pfSh0KSxuLnNvdXJjZS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeSh7bWVzc2FnZToiUHJlYmlkIFJlc3BvbnNlIixhZDpPYmplY3Qodi5yZXBsYWNlQXVjdGlvblByaWNlKShpLHMpLGFkVXJsOk9iamVjdCh2LnJlcGxhY2VBdWN0aW9uUHJpY2UpKG8scyksYWRJZDpyLHdpZHRoOmEsaGVpZ2h0OmN9KSxuLm9yaWdpbikpLHkuYS5hZGRXaW5uaW5nQmlkKGwpLGcuYS5lbWl0KEEsbCkpLGwmJiJQcmViaWQgTmF0aXZlIj09PWYubWVzc2FnZSl7aWYoImFzc2V0UmVxdWVzdCI9PT1mLmFjdGlvbil7dmFyIHA9T2JqZWN0KGIuYykoZixsKTtyZXR1cm4gdm9pZCBlLnNvdXJjZS5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShwKSxlLm9yaWdpbil9aWYoImNsaWNrIj09PU9iamVjdChiLmIpKGYsbCkpcmV0dXJuO3kuYS5hZGRXaW5uaW5nQmlkKGwpLGcuYS5lbWl0KEEsbCl9fX19LDIyOTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlKXt2YXIgdDt0cnl7ZT1lfHx3aW5kb3cuc2Vzc2lvblN0b3JhZ2UsdD1KU09OLnBhcnNlKGUuZ2V0SXRlbSh1KSl9Y2F0Y2goZSl7fXQmJnAodCwhMCl9O3ZhciByLGksbz1uKDMpLGE9bigwKSxjPW4oNDEpLHU9InVwYmpzOmRlYnVnZ2luZyI7ZnVuY3Rpb24gcyhlKXtPYmplY3QoYS5sb2dNZXNzYWdlKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZChlKXtPYmplY3QoYS5sb2dXYXJuKSgiREVCVUc6ICIrZSl9ZnVuY3Rpb24gZihlKXtyPWZ1bmN0aW9uKGUsdCxuKXtpZihiKHRoaXMuYmlkZGVycyxuLmJpZGRlckNvZGUpKXJldHVybiB2b2lkIGQoImJpZGRlciAnIi5jb25jYXQobi5iaWRkZXJDb2RlLCInIGV4Y2x1ZGVkIGZyb20gYXVjdGlvbiBieSBiaWRkZXIgb3ZlcnJpZGVzIikpO0FycmF5LmlzQXJyYXkodGhpcy5iaWRzKSYmdGhpcy5iaWRzLmZvckVhY2goZnVuY3Rpb24oZSl7ZyhlLG4uYmlkZGVyQ29kZSx0KXx8dihlLG4sImJpZGRlciIpfSk7ZSh0LG4pfS5iaW5kKGUpLGMuYy5iZWZvcmUociw1KSxpPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcyxuPXQuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiFiKHIuYmlkZGVycyxlLmJpZGRlckNvZGUpfHwoZCgiYmlkUmVxdWVzdCAnIi5jb25jYXQoZS5iaWRkZXJDb2RlLCInIGV4Y2x1ZGVkIGZyb20gYXVjdGlvbiBieSBiaWRkZXIgb3ZlcnJpZGVzIikpLCExKX0pO0FycmF5LmlzQXJyYXkoci5iaWRSZXF1ZXN0cykmJm4uZm9yRWFjaChmdW5jdGlvbihuKXtyLmJpZFJlcXVlc3RzLmZvckVhY2goZnVuY3Rpb24odCl7bi5iaWRzLmZvckVhY2goZnVuY3Rpb24oZSl7Zyh0LG4uYmlkZGVyQ29kZSxlLmFkVW5pdENvZGUpfHx2KHQsZSwiYmlkUmVxdWVzdCIpfSl9KX0pO2Uobil9LmJpbmQoZSksYy5lLmJlZm9yZShpLDUpfWZ1bmN0aW9uIGwoKXtjLmMuZ2V0SG9va3Moe2hvb2s6cn0pLnJlbW92ZSgpLGMuZS5nZXRIb29rcyh7aG9vazppfSkucmVtb3ZlKCl9ZnVuY3Rpb24gcChlLHQpe3ZhciBuPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09dCYmdDtvLmIuc2V0Q29uZmlnKHtkZWJ1ZzohMH0pLGwoKSxmKGUpLHMoImJpZGRlciBvdmVycmlkZXMgZW5hYmxlZCIuY29uY2F0KG4/IiBmcm9tIHNlc3Npb24iOiIiKSl9ZnVuY3Rpb24gZyhlLHQsbil7cmV0dXJuIGUuYmlkZGVyJiZlLmJpZGRlciE9PXR8fCEoIWUuYWRVbml0Q29kZXx8ZS5hZFVuaXRDb2RlPT09bil9ZnVuY3Rpb24gYihlLHQpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYtMT09PWUuaW5kZXhPZih0KX1mdW5jdGlvbiB2KG4sZSxyKXtyZXR1cm4gT2JqZWN0LmtleXMobikuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09WyJhZFVuaXRDb2RlIiwiYmlkZGVyIl0uaW5kZXhPZihlKX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBzKCJiaWRkZXIgb3ZlcnJpZGVzIGNoYW5nZWQgJyIuY29uY2F0KGUuYWRVbml0Q29kZSwiLyIpLmNvbmNhdChlLmJpZGRlckNvZGUsIicgIikuY29uY2F0KHIsIi4iKS5jb25jYXQodCwiIGZyb20gJyIpLmNvbmNhdChlW3RdLCIuanMnIHRvICciKS5jb25jYXQoblt0XSwiJyIpKSxlW3RdPW5bdF0sZX0sZSl9ZnVuY3Rpb24geShlKXtpZihlLmVuYWJsZWQpe3RyeXt3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSh1LEpTT04uc3RyaW5naWZ5KGUpKX1jYXRjaChlKXt9cChlKX1lbHNle2woKSxzKCJiaWRkZXIgb3ZlcnJpZGVzIGRpc2FibGVkIik7dHJ5e3dpbmRvdy5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKHUpfWNhdGNoKGUpe319fW8uYi5nZXRDb25maWcoImRlYnVnZ2luZyIsZnVuY3Rpb24oZSl7cmV0dXJuIHkoZS5kZWJ1Z2dpbmcpfSl9LDIzOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1uKDE4KTtlLmV4cG9ydHM9ZnVuY3Rpb24ocixpLGUpe2lmKG8ociksdm9pZCAwPT09aSlyZXR1cm4gcjtzd2l0Y2goZSl7Y2FzZSAwOnJldHVybiBmdW5jdGlvbigpe3JldHVybiByLmNhbGwoaSl9O2Nhc2UgMTpyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIHIuY2FsbChpLGUpfTtjYXNlIDI6cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHIuY2FsbChpLGUsdCl9O2Nhc2UgMzpyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3JldHVybiByLmNhbGwoaSxlLHQsbil9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiByLmFwcGx5KGksYXJndW1lbnRzKX19fSwyNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiB1fSk7dmFyIHI9bigwKSxzPW4oNDEpLGk9bigxMCksbz1uLm4oaSksYT1uKDUpO3ZhciBkLGMsdT0oZD1bXSwoYz17fSkuYWRkV2lubmluZ0JpZD1mdW5jdGlvbih0KXt2YXIgZT1vKCkoZCxmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXRBdWN0aW9uSWQoKT09PXQuYXVjdGlvbklkfSk7ZT8odC5zdGF0dXM9YS5CSURfU1RBVFVTLlJFTkRFUkVELGUuYWRkV2lubmluZ0JpZCh0KSk6T2JqZWN0KHIubG9nV2FybikoIkF1Y3Rpb24gbm90IGZvdW5kIHdoZW4gYWRkaW5nIHdpbm5pbmcgYmlkIil9LGMuZ2V0QWxsV2lubmluZ0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gZC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0V2lubmluZ0JpZHMoKX0pLnJlZHVjZShyLmZsYXR0ZW4sW10pfSxjLmdldEJpZHNSZXF1ZXN0ZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QmlkUmVxdWVzdHMoKX0pLnJlZHVjZShyLmZsYXR0ZW4sW10pfSxjLmdldE5vQmlkcz1mdW5jdGlvbigpe3JldHVybiBkLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5nZXROb0JpZHMoKX0pLnJlZHVjZShyLmZsYXR0ZW4sW10pfSxjLmdldEJpZHNSZWNlaXZlZD1mdW5jdGlvbigpe3JldHVybiBkLm1hcChmdW5jdGlvbihlKXtpZihlLmdldEF1Y3Rpb25TdGF0dXMoKT09PXMuYSlyZXR1cm4gZS5nZXRCaWRzUmVjZWl2ZWQoKX0pLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZX0pfSxjLmdldEFkVW5pdHM9ZnVuY3Rpb24oKXtyZXR1cm4gZC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QWRVbml0cygpfSkucmVkdWNlKHIuZmxhdHRlbixbXSl9LGMuZ2V0QWRVbml0Q29kZXM9ZnVuY3Rpb24oKXtyZXR1cm4gZC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0QWRVbml0Q29kZXMoKX0pLnJlZHVjZShyLmZsYXR0ZW4sW10pLmZpbHRlcihyLnVuaXF1ZXMpfSxjLmNyZWF0ZUF1Y3Rpb249ZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmFkVW5pdHMscj1lLmFkVW5pdENvZGVzLGk9ZS5jYWxsYmFjayxvPWUuY2JUaW1lb3V0LGE9ZS5sYWJlbHMsYz1lLmF1Y3Rpb25JZCx1PU9iamVjdChzLmspKHthZFVuaXRzOm4sYWRVbml0Q29kZXM6cixjYWxsYmFjazppLGNiVGltZW91dDpvLGxhYmVsczphLGF1Y3Rpb25JZDpjfSk7cmV0dXJuIHQ9dSxkLnB1c2godCksdX0sYy5maW5kQmlkQnlBZElkPWZ1bmN0aW9uKHQpe3JldHVybiBvKCkoZC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuZ2V0Qmlkc1JlY2VpdmVkKCl9KS5yZWR1Y2Uoci5mbGF0dGVuLFtdKSxmdW5jdGlvbihlKXtyZXR1cm4gZS5hZElkPT09dH0pfSxjLmdldFN0YW5kYXJkQmlkZGVyQWRTZXJ2ZXJUYXJnZXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KHMuaikoKVthLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfSxjLnNldFN0YXR1c0ZvckJpZHM9ZnVuY3Rpb24oZSx0KXt2YXIgbixyPWMuZmluZEJpZEJ5QWRJZChlKTtyJiYoci5zdGF0dXM9dCksIXJ8fHQhPT1hLkJJRF9TVEFUVVMuQklEX1RBUkdFVElOR19TRVR8fChuPW8oKShkLGZ1bmN0aW9uKGUpe3JldHVybiBlLmdldEF1Y3Rpb25JZCgpPT09ci5hdWN0aW9uSWR9KSkmJm4uc2V0QmlkVGFyZ2V0aW5nKHIpfSxjLmdldExhc3RBdWN0aW9uSWQ9ZnVuY3Rpb24oKXtyZXR1cm4gZC5sZW5ndGgmJmRbZC5sZW5ndGgtMV0uZ2V0QXVjdGlvbklkKCl9LGMpfSwyNTpmdW5jdGlvbihuLGUsdCl7KGZ1bmN0aW9uKGUpe2Z1bmN0aW9uIHQoZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX1uLmV4cG9ydHM9dCgib2JqZWN0Ij09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMpfHx0KCJvYmplY3QiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHx0KCJvYmplY3QiPT10eXBlb2Ygc2VsZiYmc2VsZil8fHQoIm9iamVjdCI9PXR5cGVvZiBlJiZlKXx8RnVuY3Rpb24oInJldHVybiB0aGlzIikoKX0pLmNhbGwoZSx0KDM1KSl9LDI2OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJvYmplY3QiPT10eXBlb2YgZT9udWxsIT09ZToiZnVuY3Rpb24iPT10eXBlb2YgZX19LDI3OmZ1bmN0aW9uKGUsdCl7dmFyIG49e30uaGFzT3duUHJvcGVydHk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG4uY2FsbChlLHQpfX0sMjg6ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7cmV0dXJuImZ1bmN0aW9uIj09dHlwZW9mIGU/ZTp2b2lkIDB9dmFyIGk9big0Miksbz1uKDI1KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aDwyP3IoaVtlXSl8fHIob1tlXSk6aVtlXSYmaVtlXVt0XXx8b1tlXSYmb1tlXVt0XX19LDI5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImIiLGZ1bmN0aW9uKCl7cmV0dXJuIGN9KSxuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gdX0pLHQuZD1mdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChvLmdldEJpZFJlcXVlc3QpKGUucmVxdWVzdElkLHQpLHI9biYmT2JqZWN0KG8uZGVlcEFjY2VzcykobiwibWVkaWFUeXBlcy52aWRlbyIpLGk9ciYmT2JqZWN0KG8uZGVlcEFjY2VzcykociwiY29udGV4dCIpO3JldHVybiBzKGUsbixyLGkpfSxuLmQodCwiYyIsZnVuY3Rpb24oKXtyZXR1cm4gc30pO24oOSk7dmFyIG89bigwKSxpPW4oMykscj1uKDEyKSxhPShuLm4ociksbigxMykpLGM9Im91dHN0cmVhbSIsdT0iaW5zdHJlYW0iO3ZhciBzPU9iamVjdChhLmIpKCJzeW5jIixmdW5jdGlvbihlLHQsbixyKXtyZXR1cm4hdHx8biYmciE9PWM/aS5iLmdldENvbmZpZygiY2FjaGUudXJsIil8fCFlLnZhc3RYbWx8fGUudmFzdFVybD8hKCFlLnZhc3RVcmwmJiFlLnZhc3RYbWwpOihPYmplY3Qoby5sb2dFcnJvcikoJ1xuICAgICAgICBUaGlzIGJpZCBjb250YWlucyBvbmx5IHZhc3RYbWwgYW5kIHdpbGwgbm90IHdvcmsgd2hlbiBhIHByZWJpZCBjYWNoZSB1cmwgaXMgbm90IHNwZWNpZmllZC5cbiAgICAgICAgVHJ5IGVuYWJsaW5nIHByZWJpZCBjYWNoZSB3aXRoIHVwYmpzLnNldENvbmZpZyh7IGNhY2hlOiB7dXJsOiAiLi4uIn0gfSk7XG4gICAgICAnKSwhMSk6ciE9PWN8fCEhKGUucmVuZGVyZXJ8fHQucmVuZGVyZXJ8fG4ucmVuZGVyZXIpfSwiY2hlY2tWaWRlb0JpZFNldHVwIil9LDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4geX0pLG4uZCh0LCJiIixmdW5jdGlvbigpe3JldHVybiBDfSk7dmFyIHI9big0NiksaT1uKDEwKSxhPW4ubihpKSxvPW4oMTIpLGM9bi5uKG8pLHU9big3OSkscz1uLm4odSksZD1uKDApO2Z1bmN0aW9uIGYoKXtyZXR1cm4oZj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBsPW4oOTEpLHA9bigwKSxnPW4oNSksYj0iVFJVRSI9PT1wLmdldFBhcmFtZXRlckJ5TmFtZShnLkRFQlVHX01PREUpLnRvVXBwZXJDYXNlKCksdj13aW5kb3cubG9jYXRpb24ub3JpZ2luLHk9InJhbmRvbSIsaD17fTtoW3ldPSEwLGguZml4ZWQ9ITA7dmFyIG09eSxTPXtMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifTt2YXIgQSxFLE8sVCxJLEM9KFQ9W10sST1udWxsLHcoKSx7Z2V0Q3VycmVudEJpZGRlcjpmdW5jdGlvbigpe3JldHVybiBJfSxnZXRDb25maWc6ZnVuY3Rpb24oKXtpZihhcmd1bWVudHMubGVuZ3RoPD0xJiYiZnVuY3Rpb24iIT10eXBlb2YoYXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdKSl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aDw9MD92b2lkIDA6YXJndW1lbnRzWzBdO3JldHVybiBlP3AuZGVlcEFjY2VzcyhqKCksZSk6aigpfXJldHVybiBmdW5jdGlvbihlLHQpe3ZhciBuPXQ7aWYoInN0cmluZyIhPXR5cGVvZiBlJiYobj1lLGU9IioiKSwiZnVuY3Rpb24iPT10eXBlb2Ygbil7dmFyIHI9e3RvcGljOmUsY2FsbGJhY2s6bn07cmV0dXJuIFQucHVzaChyKSxmdW5jdGlvbigpe1Quc3BsaWNlKFQuaW5kZXhPZihyKSwxKX19cC5sb2dFcnJvcigibGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uIil9LmFwcGx5KHZvaWQgMCxhcmd1bWVudHMpfSxzZXRDb25maWc6ZnVuY3Rpb24obil7dmFyIGUscjtwLmlzUGxhaW5PYmplY3Qobik/KGU9T2JqZWN0LmtleXMobikscj17fSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9bltlXTtwLmlzUGxhaW5PYmplY3QoQVtlXSkmJnAuaXNQbGFpbk9iamVjdCh0KSYmKHQ9Zih7fSxBW2VdLHQpKSxyW2VdPUVbZV09dH0pLF8ocikpOnAubG9nRXJyb3IoInNldENvbmZpZyBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0Iil9LHNldERlZmF1bHRzOmZ1bmN0aW9uKGUpe3AuaXNQbGFpbk9iamVjdChBKT8oZihBLGUpLGYoRSxlKSk6cC5sb2dFcnJvcigiZGVmYXVsdHMgbXVzdCBiZSBhbiBvYmplY3QiKX0scmVzZXRDb25maWc6dyxydW5XaXRoQmlkZGVyOkIsY2FsbGJhY2tXaXRoQmlkZGVyOmZ1bmN0aW9uKG8pe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24oKXtpZigiZnVuY3Rpb24iPT10eXBlb2YgaSl7Zm9yKHZhciBlLHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyluW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gQihvLChlPXAuYmluZCkuY2FsbC5hcHBseShlLFtpLHRoaXNdLmNvbmNhdChuKSkpfXAubG9nV2FybigiY29uZmlnLmNhbGxiYWNrV2l0aEJpZGRlciBjYWxsYmFjayBpcyBub3QgYSBmdW5jdGlvbiIpfX19LHNldEJpZGRlckNvbmZpZzpmdW5jdGlvbihyKXt0cnl7IWZ1bmN0aW9uKGUpe2lmKCFwLmlzUGxhaW5PYmplY3QoZSkpdGhyb3cic2V0QmlkZGVyQ29uZmlnIGJpZGRlciBvcHRpb25zIG11c3QgYmUgYW4gb2JqZWN0IjtpZighQXJyYXkuaXNBcnJheShlLmJpZGRlcnMpfHwhZS5iaWRkZXJzLmxlbmd0aCl0aHJvdyJzZXRCaWRkZXJDb25maWcgYmlkZGVyIG9wdGlvbnMgbXVzdCBjb250YWluIGEgYmlkZGVycyBsaXN0IHdpdGggYXQgbGVhc3QgMSBiaWRkZXIiO2lmKCFwLmlzUGxhaW5PYmplY3QoZS5jb25maWcpKXRocm93InNldEJpZGRlckNvbmZpZyBiaWRkZXIgb3B0aW9ucyBtdXN0IGNvbnRhaW4gYSBjb25maWcgb2JqZWN0In0ociksci5iaWRkZXJzLmZvckVhY2goZnVuY3Rpb24obil7T1tuXXx8KE9bbl09e30pLE9iamVjdC5rZXlzKHIuY29uZmlnKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXIuY29uZmlnW2VdO3AuaXNQbGFpbk9iamVjdCh0KT9PW25dW2VdPWYoe30sT1tuXVtlXXx8e30sdCk6T1tuXVtlXT10fSl9KX1jYXRjaChlKXtwLmxvZ0Vycm9yKGUpfX0sZ2V0QmlkZGVyQ29uZmlnOmZ1bmN0aW9uKCl7cmV0dXJuIE99fSk7ZnVuY3Rpb24gdygpe0E9e307dmFyIG49e19kZWJ1ZzpiLGdldCBkZWJ1Zygpe3JldHVybiB0aGlzLl9kZWJ1Z30sc2V0IGRlYnVnKGUpe3RoaXMuX2RlYnVnPWV9LF9iaWRkZXJUaW1lb3V0OjNlMyxnZXQgYmlkZGVyVGltZW91dCgpe3JldHVybiB0aGlzLl9iaWRkZXJUaW1lb3V0fSxzZXQgYmlkZGVyVGltZW91dChlKXt0aGlzLl9iaWRkZXJUaW1lb3V0PWV9LF9wdWJsaXNoZXJEb21haW46dixnZXQgcHVibGlzaGVyRG9tYWluKCl7cmV0dXJuIHRoaXMuX3B1Ymxpc2hlckRvbWFpbn0sc2V0IHB1Ymxpc2hlckRvbWFpbihlKXt0aGlzLl9wdWJsaXNoZXJEb21haW49ZX0sX3ByaWNlR3JhbnVsYXJpdHk6Uy5NRURJVU0sc2V0IHByaWNlR3JhbnVsYXJpdHkoZSl7byhlKSYmKCJzdHJpbmciPT10eXBlb2YgZT90aGlzLl9wcmljZUdyYW51bGFyaXR5PWkoZSk/ZTpTLk1FRElVTTpwLmlzUGxhaW5PYmplY3QoZSkmJih0aGlzLl9jdXN0b21QcmljZUJ1Y2tldD1lLHRoaXMuX3ByaWNlR3JhbnVsYXJpdHk9Uy5DVVNUT00scC5sb2dNZXNzYWdlKCJVc2luZyBjdXN0b20gcHJpY2UgZ3JhbnVsYXJpdHkiKSkpfSxnZXQgcHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9wcmljZUdyYW51bGFyaXR5fSxfY3VzdG9tUHJpY2VCdWNrZXQ6e30sZ2V0IGN1c3RvbVByaWNlQnVja2V0KCl7cmV0dXJuIHRoaXMuX2N1c3RvbVByaWNlQnVja2V0fSxfbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eTp7fSxnZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSgpe3JldHVybiB0aGlzLl9tZWRpYVR5cGVQcmljZUdyYW51bGFyaXR5fSxzZXQgbWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eShuKXt2YXIgcj10aGlzO3RoaXMuX21lZGlhVHlwZVByaWNlR3JhbnVsYXJpdHk9T2JqZWN0LmtleXMobikucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oblt0XSk/InN0cmluZyI9PXR5cGVvZiBuP2VbdF09aShuW3RdKT9uW3RdOnIuX3ByaWNlR3JhbnVsYXJpdHk6cC5pc1BsYWluT2JqZWN0KG4pJiYoZVt0XT1uW3RdLHAubG9nTWVzc2FnZSgiVXNpbmcgY3VzdG9tIHByaWNlIGdyYW51bGFyaXR5IGZvciAiLmNvbmNhdCh0KSkpOnAubG9nV2FybigiSW52YWxpZCBwcmljZSBncmFudWxhcml0eSBmb3IgbWVkaWEgdHlwZTogIi5jb25jYXQodCkpLGV9LHt9KX0sX3NlbmRBbGxCaWRzOiEwLGdldCBlbmFibGVTZW5kQWxsQmlkcygpe3JldHVybiB0aGlzLl9zZW5kQWxsQmlkc30sc2V0IGVuYWJsZVNlbmRBbGxCaWRzKGUpe3RoaXMuX3NlbmRBbGxCaWRzPWV9LF91c2VCaWRDYWNoZTohMSxnZXQgdXNlQmlkQ2FjaGUoKXtyZXR1cm4gdGhpcy5fdXNlQmlkQ2FjaGV9LHNldCB1c2VCaWRDYWNoZShlKXt0aGlzLl91c2VCaWRDYWNoZT1lfSxfZGV2aWNlQWNjZXNzOiEwLGdldCBkZXZpY2VBY2Nlc3MoKXtyZXR1cm4gdGhpcy5fZGV2aWNlQWNjZXNzfSxzZXQgZGV2aWNlQWNjZXNzKGUpe3RoaXMuX2RldmljZUFjY2Vzcz1lfSxfYmlkZGVyU2VxdWVuY2U6bSxnZXQgYmlkZGVyU2VxdWVuY2UoKXtyZXR1cm4gdGhpcy5fYmlkZGVyU2VxdWVuY2V9LHNldCBiaWRkZXJTZXF1ZW5jZShlKXtoW2VdP3RoaXMuX2JpZGRlclNlcXVlbmNlPWU6cC5sb2dXYXJuKCJJbnZhbGlkIG9yZGVyOiAiLmNvbmNhdChlLCIuIEJpZGRlciBTZXF1ZW5jZSB3YXMgbm90IHNldC4iKSl9LF90aW1lb3V0QnVmZmVyOjQwMCxnZXQgdGltZW91dEJ1ZmZlcigpe3JldHVybiB0aGlzLl90aW1lb3V0QnVmZmVyfSxzZXQgdGltZW91dEJ1ZmZlcihlKXt0aGlzLl90aW1lb3V0QnVmZmVyPWV9LF9kaXNhYmxlQWpheFRpbWVvdXQ6ITEsZ2V0IGRpc2FibGVBamF4VGltZW91dCgpe3JldHVybiB0aGlzLl9kaXNhYmxlQWpheFRpbWVvdXR9LHNldCBkaXNhYmxlQWpheFRpbWVvdXQoZSl7dGhpcy5fZGlzYWJsZUFqYXhUaW1lb3V0PWV9LF9hdWN0aW9uT3B0aW9uczp7fSxnZXQgYXVjdGlvbk9wdGlvbnMoKXtyZXR1cm4gdGhpcy5fYXVjdGlvbk9wdGlvbnN9LHNldCBhdWN0aW9uT3B0aW9ucyhlKXshZnVuY3Rpb24oZSl7aWYoIXAuaXNQbGFpbk9iamVjdChlKSlyZXR1cm4gcC5sb2dXYXJuKCJBdWN0aW9uIE9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3QiKSwhMTtmb3IodmFyIHQ9MCxuPU9iamVjdC5rZXlzKGUpO3Q8bi5sZW5ndGg7dCsrKXt2YXIgcj1uW3RdO2lmKCJzZWNvbmRhcnlCaWRkZXJzIiE9PXIpcmV0dXJuIHAubG9nV2FybigiQXVjdGlvbiBPcHRpb25zIGdpdmVuIGFuIGluY29ycmVjdCBwYXJhbTogIi5jb25jYXQocikpLCExO2lmKCJzZWNvbmRhcnlCaWRkZXJzIj09PXIpe2lmKCFwLmlzQXJyYXkoZVtyXSkpcmV0dXJuIHAubG9nV2FybigiQXVjdGlvbiBPcHRpb25zICIuY29uY2F0KHIsIiBtdXN0IGJlIG9mIHR5cGUgQXJyYXkiKSksITE7aWYoIWVbcl0uZXZlcnkocC5pc1N0cikpcmV0dXJuIHAubG9nV2FybigiQXVjdGlvbiBPcHRpb25zICIuY29uY2F0KHIsIiBtdXN0IGJlIG9ubHkgc3RyaW5nIikpLCExfX1yZXR1cm4hMH0oZSl8fCh0aGlzLl9hdWN0aW9uT3B0aW9ucz1lKX19O2Z1bmN0aW9uIGkodCl7cmV0dXJuIGEoKShPYmplY3Qua2V5cyhTKSxmdW5jdGlvbihlKXtyZXR1cm4gdD09PVNbZV19KX1mdW5jdGlvbiBvKGUpe2lmKGUpe2lmKCJzdHJpbmciPT10eXBlb2YgZSlpKGUpfHxwLmxvZ1dhcm4oIlByZWJpZCBXYXJuaW5nOiBzZXRQcmljZUdyYW51bGFyaXR5IHdhcyBjYWxsZWQgd2l0aCBpbnZhbGlkIHNldHRpbmcsIHVzaW5nIGBtZWRpdW1gIGFzIGRlZmF1bHQuIik7ZWxzZSBpZihwLmlzUGxhaW5PYmplY3QoZSkmJiFPYmplY3Qoci5iKShlKSlyZXR1cm4gdm9pZCBwLmxvZ0Vycm9yKCJJbnZhbGlkIGN1c3RvbSBwcmljZSB2YWx1ZSBwYXNzZWQgdG8gYHNldFByaWNlR3JhbnVsYXJpdHkoKWAiKTtyZXR1cm4gMX1wLmxvZ0Vycm9yKCJQcmViaWQgRXJyb3I6IG5vIHZhbHVlIHBhc3NlZCB0byBgc2V0UHJpY2VHcmFudWxhcml0eSgpYCIpfUUmJl8oT2JqZWN0LmtleXMoRSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIEVbdF0hPT1uW3RdJiYoZVt0XT1uW3RdfHx7fSksZX0se30pKSxFPW4sTz17fX1mdW5jdGlvbiBqKCl7aWYoSSYmTyYmcC5pc1BsYWluT2JqZWN0KE9bSV0pKXt2YXIgbj1PW0ldLGU9bmV3IHMuYShPYmplY3Qua2V5cyhFKS5jb25jYXQoT2JqZWN0LmtleXMobikpKTtyZXR1cm4gbChlKS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09blt0XT9lW3RdPUVbdF06dm9pZCAwIT09RVt0XSYmcC5pc1BsYWluT2JqZWN0KG5bdF0pP2VbdF09T2JqZWN0KGQubWVyZ2VEZWVwKSh7fSxFW3RdLG5bdF0pOmVbdF09blt0XSxlfSx7fSl9cmV0dXJuIGYoe30sRSl9ZnVuY3Rpb24gXyhpKXt2YXIgdD1PYmplY3Qua2V5cyhpKTtULmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gYygpKHQsZS50b3BpYyl9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4scjtlLmNhbGxiYWNrKCh0PXt9LG49ZS50b3BpYyxyPWlbZS50b3BpY10sbiBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdCkpfSksVC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIioiPT09ZS50b3BpY30pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGUuY2FsbGJhY2soaSl9KX1mdW5jdGlvbiBCKGUsdCl7ST1lO3RyeXtyZXR1cm4gdCgpfWZpbmFsbHl7ST1udWxsfX19LDMwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDMxKTtlLmV4cG9ydHM9IXIoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LDEse2dldDpmdW5jdGlvbigpe3JldHVybiA3fX0pWzFdfSl9LDMxOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19fSwzMjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCksaT1uKDMzKSxvPW4oNDcpO2UuZXhwb3J0cz1yP2Z1bmN0aW9uKGUsdCxuKXtyZXR1cm4gaS5mKGUsdCxvKDEsbikpfTpmdW5jdGlvbihlLHQsbil7cmV0dXJuIGVbdF09bixlfX0sMzM6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzApLGk9big3Myksbz1uKDE1KSxhPW4oNTYpLGM9T2JqZWN0LmRlZmluZVByb3BlcnR5O3QuZj1yP2M6ZnVuY3Rpb24oZSx0LG4pe2lmKG8oZSksdD1hKHQsITApLG8obiksaSl0cnl7cmV0dXJuIGMoZSx0LG4pfWNhdGNoKGUpe31pZigiZ2V0ImluIG58fCJzZXQiaW4gbil0aHJvdyBUeXBlRXJyb3IoIkFjY2Vzc29ycyBub3Qgc3VwcG9ydGVkIik7cmV0dXJuInZhbHVlImluIG4mJihlW3RdPW4udmFsdWUpLGV9fSwzNDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQpe3JldHVybiBuZXcgcihlLHQpfTt2YXIgaT1uKDApO2Z1bmN0aW9uIHIoZSx0KXt2YXIgbj10JiZ0LnNyY3x8ImNsaWVudCIscj1lfHwwO3RoaXMuYmlkZGVyQ29kZT10JiZ0LmJpZGRlcnx8IiIsdGhpcy53aWR0aD0wLHRoaXMuaGVpZ2h0PTAsdGhpcy5zdGF0dXNNZXNzYWdlPWZ1bmN0aW9uKCl7c3dpdGNoKHIpe2Nhc2UgMDpyZXR1cm4iUGVuZGluZyI7Y2FzZSAxOnJldHVybiJCaWQgYXZhaWxhYmxlIjtjYXNlIDI6cmV0dXJuIkJpZCByZXR1cm5lZCBlbXB0eSBvciBlcnJvciByZXNwb25zZSI7Y2FzZSAzOnJldHVybiJCaWQgdGltZWQgb3V0In19KCksdGhpcy5hZElkPWkuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLHRoaXMucmVxdWVzdElkPXQmJnQuYmlkSWQsdGhpcy5tZWRpYVR5cGU9ImJhbm5lciIsdGhpcy5zb3VyY2U9bix0aGlzLmdldFN0YXR1c0NvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gcn0sdGhpcy5nZXRTaXplPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud2lkdGgrIngiK3RoaXMuaGVpZ2h0fX19LDM1OmZ1bmN0aW9uKGUsdCl7dmFyIG49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30oKTt0cnl7bj1ufHxGdW5jdGlvbigicmV0dXJuIHRoaXMiKSgpfHwoMCxldmFsKSgidGhpcyIpfWNhdGNoKGUpeyJvYmplY3QiPT10eXBlb2Ygd2luZG93JiYobj13aW5kb3cpfWUuZXhwb3J0cz1ufSwzNTY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMzU3KTtlLmV4cG9ydHM9cn0sMzU3OmZ1bmN0aW9uKGUsdCxuKXtuKDM1OCk7dmFyIHI9big1Myk7ZS5leHBvcnRzPXIoIlN0cmluZyIsImluY2x1ZGVzIil9LDM1ODpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3ZhciByPW4oMTQpLGk9bigzNTkpLG89big1MCk7cih7dGFyZ2V0OiJTdHJpbmciLHByb3RvOiEwLGZvcmNlZDohbigzNjEpKCJpbmNsdWRlcyIpfSx7aW5jbHVkZXM6ZnVuY3Rpb24oZSx0KXtyZXR1cm4hIX5TdHJpbmcobyh0aGlzKSkuaW5kZXhPZihpKGUpLDE8YXJndW1lbnRzLmxlbmd0aD90OnZvaWQgMCl9fSl9LDM1OTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzNjApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihyKGUpKXRocm93IFR5cGVFcnJvcigiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zIik7cmV0dXJuIGV9fSwzNjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigxNiksaT1uKDkwKTtlLmV4cG9ydHM9cj9pOmZ1bmN0aW9uKGUpe3JldHVybiBTZXQucHJvdG90eXBlLnZhbHVlcy5jYWxsKGUpfX0sMzYwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDI2KSxpPW4oNDkpLG89bigyMCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiByKGUpJiYodm9pZCAwIT09KHQ9ZVtvXSk/ISF0OiJSZWdFeHAiPT1pKGUpKX19LDM2MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMCkoIm1hdGNoIik7ZS5leHBvcnRzPWZ1bmN0aW9uKHQpe3ZhciBuPS8uLzt0cnl7Ii8uLyJbdF0obil9Y2F0Y2goZSl7dHJ5e3JldHVybiBuW3JdPSExLCIvLi8iW3RdKG4pfWNhdGNoKGUpe319cmV0dXJuITF9fSwzNzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJlIixmdW5jdGlvbigpe3JldHVybiBvfSksbi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIHN9KSx0Lmc9ZnVuY3Rpb24oZSl7aWYoZSYmZS50eXBlJiZmdW5jdGlvbihlKXtyZXR1cm4hKCFlfHwhYygpKE9iamVjdC5rZXlzKGQpLGUpKXx8KE9iamVjdChhLmxvZ0Vycm9yKSgiIi5jb25jYXQoZSwiIG5hdGl2ZVBhcmFtIGlzIG5vdCBzdXBwb3J0ZWQiKSksITEpfShlLnR5cGUpKXJldHVybiBkW2UudHlwZV07cmV0dXJuIGV9LHQuZj1mdW5jdGlvbih0LGUpe3ZhciBuPU9iamVjdChhLmdldEJpZFJlcXVlc3QpKHQucmVxdWVzdElkLGUpO2lmKCFuKXJldHVybiExO2lmKCFPYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJuYXRpdmUuY2xpY2tVcmwiKSlyZXR1cm4hMTtpZihPYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJuYXRpdmUuaW1hZ2UiKSYmKCFPYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJuYXRpdmUuaW1hZ2UuaGVpZ2h0Iil8fCFPYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJuYXRpdmUuaW1hZ2Uud2lkdGgiKSkpcmV0dXJuITE7aWYoT2JqZWN0KGEuZGVlcEFjY2VzcykodCwibmF0aXZlLmljb24iKSYmKCFPYmplY3QoYS5kZWVwQWNjZXNzKSh0LCJuYXRpdmUuaWNvbi5oZWlnaHQiKXx8IU9iamVjdChhLmRlZXBBY2Nlc3MpKHQsIm5hdGl2ZS5pY29uLndpZHRoIikpKXJldHVybiExO3ZhciByPW4ubmF0aXZlUGFyYW1zO2lmKCFyKXJldHVybiEwO3ZhciBpPU9iamVjdC5rZXlzKHIpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gcltlXS5yZXF1aXJlZH0pLG89T2JqZWN0LmtleXModC5uYXRpdmUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC5uYXRpdmVbZV19KTtyZXR1cm4gaS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gYygpKG8sZSl9KX0sdC5iPWZ1bmN0aW9uKGUsdCl7dmFyIG47ImNsaWNrIj09PWUuYWN0aW9uP249dC5uYXRpdmUmJnQubmF0aXZlLmNsaWNrVHJhY2tlcnM6KG49dC5uYXRpdmUmJnQubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycyx0Lm5hdGl2ZSYmdC5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzJiZPYmplY3QoYS5pbnNlcnRIdG1sSW50b0lmcmFtZSkodC5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzKSk7cmV0dXJuKG58fFtdKS5mb3JFYWNoKGEudHJpZ2dlclBpeGVsKSxlLmFjdGlvbn0sdC5kPWZ1bmN0aW9uKHIsaSl7dmFyIG89e307cmV0dXJuIE9iamVjdC5rZXlzKHIubmF0aXZlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PXUuTkFUSVZFX0tFWVNbZV0sbj1mKHIubmF0aXZlW2VdKTtPYmplY3QoYS5kZWVwQWNjZXNzKShpLCJtZWRpYVR5cGVzLm5hdGl2ZS4iLmNvbmNhdChlLCIuc2VuZElkIikpJiYobj0iIi5jb25jYXQodCwiOiIpLmNvbmNhdChyLmFkSWQpKSx0JiZuJiYob1t0XT1uKX0pLG99LHQuYz1mdW5jdGlvbihlLHIpe3ZhciBpPXttZXNzYWdlOiJhc3NldFJlc3BvbnNlIixhZElkOmUuYWRJZCxhc3NldHM6W119O3JldHVybiBlLmFzc2V0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PU9iamVjdChhLmdldEtleUJ5VmFsdWUpKHUuTkFUSVZFX0tFWVMsZSksbj1mKHIubmF0aXZlW3RdKTtpLmFzc2V0cy5wdXNoKHtrZXk6dCx2YWx1ZTpufSl9KSxpfTt2YXIgYT1uKDApLHI9bigxMiksYz1uLm4ocik7ZnVuY3Rpb24gaShlKXtyZXR1cm4oaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciB1PW4oNSksbz1bXSxzPU9iamVjdC5rZXlzKHUuTkFUSVZFX0tFWVMpLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gdS5OQVRJVkVfS0VZU1tlXX0pLGQ9e2ltYWdlOntpbWFnZTp7cmVxdWlyZWQ6ITB9LHRpdGxlOntyZXF1aXJlZDohMH0sc3BvbnNvcmVkQnk6e3JlcXVpcmVkOiEwfSxjbGlja1VybDp7cmVxdWlyZWQ6ITB9LGJvZHk6e3JlcXVpcmVkOiExfSxpY29uOntyZXF1aXJlZDohMX19fTtmdW5jdGlvbiBmKGUpe3JldHVybiJvYmplY3QiPT09aShlKSYmZS51cmw/ZS51cmw6ZX19LDM4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKHIsZSx0KXtpZighZXx8IXIpcmV0dXJuIHZvaWQgby5sb2dFcnJvcigiY2Fubm90IGxvYWQgZXh0ZXJuYWwgc2NyaXB0IHdpdGhvdXQgdXJsIGFuZCBtb2R1bGVDb2RlIik7aWYoIWkoKSh1LGUpKXJldHVybiB2b2lkIG8ubG9nRXJyb3IoIiIuY29uY2F0KGUsIiBub3Qgd2hpdGVsaXN0ZWQgZm9yIGxvYWRpbmcgZXh0ZXJuYWwgSmF2YVNjcmlwdCIpKTtpZihyPWEuZChyKSxjW3JdKXJldHVybiB0JiYiZnVuY3Rpb24iPT10eXBlb2YgdCYmKGNbcl0ubG9hZGVkP3QoKTpjW3JdLmNhbGxiYWNrcy5wdXNoKHQpKSxjW3JdLnRhZztjW3JdPXtsb2FkZWQ6ITEsdGFnOm51bGwsY2FsbGJhY2tzOltdfSx0JiYiZnVuY3Rpb24iPT10eXBlb2YgdCYmY1tyXS5jYWxsYmFja3MucHVzaCh0KTtyZXR1cm4gby5sb2dXYXJuKCJtb2R1bGUgIi5jb25jYXQoZSwiIGlzIGxvYWRpbmcgZXh0ZXJuYWwgSmF2YVNjcmlwdCIpKSxmdW5jdGlvbihlLHQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO24udHlwZT0idGV4dC9qYXZhc2NyaXB0IixuLmFzeW5jPSEwLChjW3JdLnRhZz1uKS5yZWFkeVN0YXRlP24ub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7ImxvYWRlZCIhPT1uLnJlYWR5U3RhdGUmJiJjb21wbGV0ZSIhPT1uLnJlYWR5U3RhdGV8fChuLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLHQoKSl9Om4ub25sb2FkPWZ1bmN0aW9uKCl7dCgpfTtyZXR1cm4gbi5zcmM9ZSxvLmluc2VydEVsZW1lbnQobiksbn0ocixmdW5jdGlvbigpe2Nbcl0ubG9hZGVkPSEwO3RyeXtmb3IodmFyIGU9MDtlPGNbcl0uY2FsbGJhY2tzLmxlbmd0aDtlKyspY1tyXS5jYWxsYmFja3NbZV0oKX1jYXRjaChlKXtvLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgY2FsbGJhY2siLCJhZGxvYWRlci5qczpsb2FkRXh0ZXJuYWxTY3JpcHQiLGUpfX0pfTt2YXIgcj1uKDEyKSxpPW4ubihyKSxvPW4oMCksYT1uKDQzKSxjPXt9LHU9WyJjcml0ZW8iLCJvdXRzdHJlYW0iLCJhZGFnaW8iLCJicm93c2kiLCJudHYiXX0sMzk6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9e319LDQ6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gcn0pLHQuYj1pO3ZhciBsPW4oMykscD1uKDQzKTtmdW5jdGlvbiBnKCl7cmV0dXJuKGc9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBiKGUpe3JldHVybihiPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIHY9bigwKSx5PTQscj1pKCk7ZnVuY3Rpb24gaSgpe3ZhciBzPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTozZTMsZT0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sZD1lLnJlcXVlc3QsZj1lLmRvbmU7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuKXt2YXIgcj0zPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307dHJ5ezA9PWUuaW5kZXhPZigiaHR0cDovLyIpP2U9ZS5yZXBsYWNlKCJodHRwOiIsImh0dHBzOiIpOjA8PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCJodHRwIikmJjA9PWUuaW5kZXhPZigiLy8iKSYmKGU9ZS5yZXBsYWNlKCIvLyIsImh0dHBzOi8vIikpfWNhdGNoKGUpe31lPXAuZChlKTt0cnl7dmFyIGksbz1yLm1ldGhvZHx8KG4/IlBPU1QiOiJHRVQiKSxhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTthLmhyZWY9ZTt2YXIgYyx1PSJvYmplY3QiPT09Yih0KSYmbnVsbCE9PXQ/dDp7c3VjY2VzczpmdW5jdGlvbigpe3YubG9nTWVzc2FnZSgieGhyIHN1Y2Nlc3MiKX0sZXJyb3I6ZnVuY3Rpb24oZSl7di5sb2dFcnJvcigieGhyIGVycm9yIixudWxsLGUpfX07ImZ1bmN0aW9uIj09dHlwZW9mIHQmJih1LnN1Y2Nlc3M9dCksKGk9bmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCkub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7dmFyIGU7aS5yZWFkeVN0YXRlPT09eSYmKCJmdW5jdGlvbiI9PXR5cGVvZiBmJiZmKGEub3JpZ2luKSwyMDA8PShlPWkuc3RhdHVzKSYmZTwzMDB8fDMwND09PWU/dS5zdWNjZXNzKGkucmVzcG9uc2VUZXh0LGkpOnUuZXJyb3IoaS5zdGF0dXNUZXh0LGkpKX0sbC5iLmdldENvbmZpZygiZGlzYWJsZUFqYXhUaW1lb3V0Iil8fChpLm9udGltZW91dD1mdW5jdGlvbigpe3YubG9nRXJyb3IoIiAgeGhyIHRpbWVvdXQgYWZ0ZXIgIixpLnRpbWVvdXQsIm1zIil9KSwiR0VUIj09PW8mJm4mJihnKChjPXYucGFyc2VVcmwoZSxyKSkuc2VhcmNoLG4pLGU9di5idWlsZFVybChjKSksaS5vcGVuKG8sZSwhMCksbC5iLmdldENvbmZpZygiZGlzYWJsZUFqYXhUaW1lb3V0Iil8fChpLnRpbWVvdXQ9cyksci53aXRoQ3JlZGVudGlhbHMmJihpLndpdGhDcmVkZW50aWFscz0hMCksdi5fZWFjaChyLmN1c3RvbUhlYWRlcnMsZnVuY3Rpb24oZSx0KXtpLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pLHIucHJlZmxpZ2h0JiZpLnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpLGkuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixyLmNvbnRlbnRUeXBlfHwidGV4dC9wbGFpbiIpLCJmdW5jdGlvbiI9PXR5cGVvZiBkJiZkKGEub3JpZ2luKSwiUE9TVCI9PT1vJiZuP2kuc2VuZChuKTppLnNlbmQoKX1jYXRjaChlKXt2LmxvZ0Vycm9yKCJ4aHIgY29uc3RydWN0aW9uIixlKX19fX0sNDA6ZnVuY3Rpb24oZSx0LG4pe3ZhciBpPW4oMTUpLG89bigxOCksYT1uKDIwKSgic3BlY2llcyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3ZhciBuLHI9aShlKS5jb25zdHJ1Y3RvcjtyZXR1cm4gdm9pZCAwPT09cnx8bnVsbD09KG49aShyKVthXSk/dDpvKG4pfX0sNDE6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gTH0pLG4uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiBGfSksdC5rPWZ1bmN0aW9uKGUpe3ZhciB0LGksYix2LG89ZS5hZFVuaXRzLG49ZS5hZFVuaXRDb2RlcyxyPWUuY2FsbGJhY2ssYT1lLmNiVGltZW91dCxjPWUubGFiZWxzLHU9ZS5hdWN0aW9uSWQseT1vLHM9YyxkPW4saD1bXSxmPVtdLGw9W10scD11fHxQLmdlbmVyYXRlVVVJRCgpLGc9cixtPWEsUz1bXSxBPW5ldyBTZXQ7ZnVuY3Rpb24gRSgpe3JldHVybnthdWN0aW9uSWQ6cCx0aW1lc3RhbXA6dCxhdWN0aW9uRW5kOmksYXVjdGlvblN0YXR1czpiLGFkVW5pdHM6eSxhZFVuaXRDb2RlczpkLGxhYmVsczpzLGJpZGRlclJlcXVlc3RzOmgsbm9CaWRzOmwsYmlkc1JlY2VpdmVkOmYsd2lubmluZ0JpZHM6Uyx0aW1lb3V0Om19fWZ1bmN0aW9uIE8obixlKXt2YXIgcix0O2UmJmNsZWFyVGltZW91dCh2KSx2b2lkIDA9PT1pJiYocj1bXSxuJiYoUC5sb2dNZXNzYWdlKCJBdWN0aW9uICIuY29uY2F0KHAsIiB0aW1lZE91dCIpKSx0PUEsKHI9aC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuKGUuYmlkc3x8W10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hdC5oYXMoZS5iaWRkZXIpfSl9KS5yZWR1Y2Uody5mbGF0dGVuLFtdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue2JpZElkOmUuYmlkSWQsYmlkZGVyOmUuYmlkZGVyLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlLGF1Y3Rpb25JZDplLmF1Y3Rpb25JZH19KSkubGVuZ3RoJiZxLmVtaXQoRy5FVkVOVFMuQklEX1RJTUVPVVQscikpLGI9RixpPURhdGUubm93KCkscS5lbWl0KEcuRVZFTlRTLkFVQ1RJT05fRU5ELEUoKSksUSh5LGZ1bmN0aW9uKCl7dHJ5e3ZhciBlO251bGwhPWcmJihlPWYuZmlsdGVyKFAuYmluZC5jYWxsKHcuYWRVbml0c0ZpbHRlcix0aGlzLGQpKS5yZWR1Y2UoZWUse30pLGcuYXBwbHkodXBianMsW2UsbixwXSksZz1udWxsKX1jYXRjaChlKXtQLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIixudWxsLGUpfWZpbmFsbHl7ci5sZW5ndGgmJk0uY2FsbFRpbWVkT3V0QmlkZGVycyhvLHIsbSk7dmFyIHQ9Qi5iLmdldENvbmZpZygidXNlclN5bmMiKXx8e307dC5lbmFibGVPdmVycmlkZXx8RCh0LnN5bmNEZWxheSl9fSkpfWZ1bmN0aW9uIFQoKXtQLmxvZ0luZm8oIkJpZHMgUmVjZWl2ZWQgZm9yIEF1Y3Rpb24gd2l0aCBpZDogIi5jb25jYXQocCksZiksYj1GLE8oITEsITApfWZ1bmN0aW9uIEkoZSl7QS5hZGQoZSl9ZnVuY3Rpb24gQyhuKXt2YXIgZj10aGlzO24uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdDt0PWUsaD1oLmNvbmNhdCh0KX0pO3ZhciBsPXt9LGU9e2JpZFJlcXVlc3RzOm4scnVuOmZ1bmN0aW9uKCl7dmFyIGUsdDtlPU8uYmluZChudWxsLCEwKSx0PXNldFRpbWVvdXQoZSxtKSx2PXQsYj1MLHEuZW1pdChHLkVWRU5UUy5BVUNUSU9OX0lOSVQsRSgpKTt2YXIgcixpLG8sYSxjLHUscz0ocj1ULGk9ZixvPTAsYT0hMSxjPW5ldyBTZXQsdT17fSx7YWRkQmlkUmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt1W3QucmVxdWVzdElkXT0hMCxvKys7dmFyIG49ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5hZFVuaXRDb2RlLG49ZS5iaWQscj1lLmJpZGRlclJlcXVlc3QsaT1lLmF1Y3Rpb25JZCxvPXIuc3RhcnQsYT1OKHt9LG4se2F1Y3Rpb25JZDppLHJlc3BvbnNlVGltZXN0YW1wOk9iamVjdCh3LnRpbWVzdGFtcCkoKSxyZXF1ZXN0VGltZXN0YW1wOm8sY3BtOnBhcnNlRmxvYXQobi5jcG0pfHwwLGJpZGRlcjpuLmJpZGRlckNvZGUsYWRVbml0Q29kZTp0fSk7YS50aW1lVG9SZXNwb25kPWEucmVzcG9uc2VUaW1lc3RhbXAtYS5yZXF1ZXN0VGltZXN0YW1wLHEuZW1pdChHLkVWRU5UUy5CSURfQURKVVNUTUVOVCxhKTt2YXIgYz1yLmJpZHMmJlUoKShyLmJpZHMsZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09dH0pLHU9YyYmYy5yZW5kZXJlcixzPWEubWVkaWFUeXBlLGQ9YyYmYy5tZWRpYVR5cGVzJiZjLm1lZGlhVHlwZXNbc10sZj1kJiZkLnJlbmRlcmVyLGw9bnVsbDtmJiZmLnVybCYmZi5yZW5kZXI/bD1mOiF1fHwhdS51cmx8fHUuYmFja3VwT25seSYmT2JqZWN0KHcuaXNCb29sZWFuKSh1LmJhY2t1cE9ubHkpJiZuLnJlbmRlcmVyfHwobD11KSxsJiYoYS5yZW5kZXJlcj1fLmEuaW5zdGFsbCh7dXJsOmwudXJsfSksYS5yZW5kZXJlci5zZXRSZW5kZXIobC5yZW5kZXIpKTt2YXIgcD1aKG4ubWVkaWFUeXBlLGMsQi5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKSxnPU9iamVjdChqLmEpKGEuY3BtLCJvYmplY3QiPT09ayhwKT9wOkIuYi5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IiksQi5iLmdldENvbmZpZygiY3VycmVuY3kuZ3JhbnVsYXJpdHlNdWx0aXBsaWVyIikpO3JldHVybiBhLnBiTGc9Zy5sb3csYS5wYk1nPWcubWVkLGEucGJIZz1nLmhpZ2gsYS5wYkFnPWcuYXV0byxhLnBiRGc9Zy5kZW5zZSxhLnBiQ2c9Zy5jdXN0b20sYX0oe2FkVW5pdENvZGU6ZSxiaWQ6dCxiaWRkZXJSZXF1ZXN0OnRoaXMsYXVjdGlvbklkOmkuZ2V0QXVjdGlvbklkKCl9KTsidmlkZW8iPT09bi5tZWRpYVR5cGU/ZnVuY3Rpb24oZSx0LG4scil7dmFyIGk9ITAsbz1PYmplY3Qody5nZXRCaWRSZXF1ZXN0KSh0LnJlcXVlc3RJZCxbbl0pLGE9byYmT2JqZWN0KHcuZGVlcEFjY2VzcykobywibWVkaWFUeXBlcy52aWRlbyIpLGM9YSYmT2JqZWN0KHcuZGVlcEFjY2VzcykoYSwiY29udGV4dCIpO0IuYi5nZXRDb25maWcoImNhY2hlLnVybCIpJiZjIT09Ui5iJiYodC52aWRlb0NhY2hlS2V5P3QudmFzdFVybHx8KFAubG9nRXJyb3IoInZpZGVvQ2FjaGVLZXkgc3BlY2lmaWVkIGJ1dCBub3QgcmVxdWlyZWQgdmFzdFVybCBmb3IgdmlkZW8gYmlkIiksaT0hMSk6KGk9ITEsWChlLHQscixvKSkpLGkmJigkKGUsdCkscigpKX0oaSxuLHRoaXMsZCk6KCQoaSxuKSxkKCkpfSxhZGFwdGVyRG9uZTpmdW5jdGlvbigpe3ZhciB0LGU9aS5nZXRCaWRSZXF1ZXN0cygpLG49Qi5iLmdldENvbmZpZygiYXVjdGlvbk9wdGlvbnMiKTtjLmFkZCh0aGlzKSwhbnx8UC5pc0VtcHR5KG4pfHwodD1uLnNlY29uZGFyeUJpZGRlcnMpJiYhZS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4geCgpKHQsZS5iaWRkZXJDb2RlKX0pJiYoZT1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4heCgpKHQsZS5iaWRkZXJDb2RlKX0pKSxhPWUuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIGMuaGFzKGUpfSksdGhpcy5iaWRzLmZvckVhY2goZnVuY3Rpb24oZSl7dVtlLmJpZElkXXx8KGkuYWRkTm9CaWQoZSkscS5lbWl0KEcuRVZFTlRTLk5PX0JJRCxlKSl9KSxhJiYwPT09byYmcigpfX0pO2Z1bmN0aW9uIGQoKXtvLS0sYSYmMD09PW8mJnIoKX1NLmNhbGxCaWRzKHksbixmdW5jdGlvbigpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLG49MDtuPGU7bisrKXRbbl09YXJndW1lbnRzW25dO0ouYXBwbHkoe2Rpc3BhdGNoOnMuYWRkQmlkUmVzcG9uc2UsYmlkZGVyUmVxdWVzdDp0aGlzfSx0KX0scy5hZGFwdGVyRG9uZSx7cmVxdWVzdDpmdW5jdGlvbihlLHQpe2coVix0KSxnKGwsZSksSFtlXXx8KEhbZV09e1NSQTohMCxvcmlnaW46dH0pLDE8bFtlXSYmKEhbZV0uU1JBPSExKX0sZG9uZTpmdW5jdGlvbihlKXtWW2VdLS0sS1swXSYmcChLWzBdKSYmSy5zaGlmdCgpfX0sbSxJKX19O2Z1bmN0aW9uIHAoZSl7dmFyIHI9ITAsaT1CLmIuZ2V0Q29uZmlnKCJtYXhSZXF1ZXN0c1Blck9yaWdpbiIpfHx6O3JldHVybiBlLmJpZFJlcXVlc3RzLnNvbWUoZnVuY3Rpb24oZSl7dmFyIHQ9MSxuPXZvaWQgMCE9PWUuc3JjJiZlLnNyYz09PUcuUzJTLlNSQz8iczJzIjplLmJpZGRlckNvZGU7cmV0dXJuIEhbbl0mJighMT09PUhbbl0uU1JBJiYodD1NYXRoLm1pbihlLmJpZHMubGVuZ3RoLGkpKSxWW0hbbl0ub3JpZ2luXSt0PmkmJihyPSExKSksIXJ9KSxyJiZlLnJ1bigpLHJ9ZnVuY3Rpb24gZyhlLHQpe3ZvaWQgMD09PWVbdF0/ZVt0XT0xOmVbdF0rK31wKGUpfHwoUC5sb2dXYXJuKCJxdWV1ZWluZyBhdWN0aW9uIGR1ZSB0byBsaW1pdGVkIGVuZHBvaW50IGNhcGFjaXR5IiksSy5wdXNoKGUpKX1yZXR1cm57YWRkQmlkUmVjZWl2ZWQ6ZnVuY3Rpb24oZSl7Zj1mLmNvbmNhdChlKX0sYWRkTm9CaWQ6ZnVuY3Rpb24oZSl7bD1sLmNvbmNhdChlKX0sZXhlY3V0ZUNhbGxiYWNrOk8sY2FsbEJpZHM6ZnVuY3Rpb24oKXtiPVcsdD1EYXRlLm5vdygpO3ZhciBlPU0ubWFrZUJpZFJlcXVlc3RzKHksdCxwLG0scyk7UC5sb2dJbmZvKCJCaWRzIFJlcXVlc3RlZCBmb3IgQXVjdGlvbiB3aXRoIGlkOiAiLmNvbmNhdChwKSxlKSxlLmxlbmd0aDwxPyhQLmxvZ1dhcm4oIk5vIHZhbGlkIGJpZCByZXF1ZXN0cyByZXR1cm5lZCBmb3IgYXVjdGlvbiIpLFQoKSk6WS5jYWxsKHtkaXNwYXRjaDpDLGNvbnRleHQ6dGhpc30sZSl9LGFkZFdpbm5pbmdCaWQ6ZnVuY3Rpb24oZSl7Uz1TLmNvbmNhdChlKSxNLmNhbGxCaWRXb25CaWRkZXIoZS5iaWRkZXIsZSxvKX0sc2V0QmlkVGFyZ2V0aW5nOmZ1bmN0aW9uKGUpe00uY2FsbFNldFRhcmdldGluZ0JpZGRlcihlLmJpZGRlcixlKX0sZ2V0V2lubmluZ0JpZHM6ZnVuY3Rpb24oKXtyZXR1cm4gU30sZ2V0VGltZW91dDpmdW5jdGlvbigpe3JldHVybiBtfSxnZXRBdWN0aW9uSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gcH0sZ2V0QXVjdGlvblN0YXR1czpmdW5jdGlvbigpe3JldHVybiBifSxnZXRBZFVuaXRzOmZ1bmN0aW9uKCl7cmV0dXJuIHl9LGdldEFkVW5pdENvZGVzOmZ1bmN0aW9uKCl7cmV0dXJuIGR9LGdldEJpZFJlcXVlc3RzOmZ1bmN0aW9uKCl7cmV0dXJuIGh9LGdldEJpZHNSZWNlaXZlZDpmdW5jdGlvbigpe3JldHVybiBmfSxnZXROb0JpZHM6ZnVuY3Rpb24oKXtyZXR1cm4gbH19fSxuLmQodCwiYyIsZnVuY3Rpb24oKXtyZXR1cm4gSn0pLG4uZCh0LCJlIixmdW5jdGlvbigpe3JldHVybiBZfSksdC5nPWQsdC5kPSQsbi5kKHQsImYiLGZ1bmN0aW9uKCl7cmV0dXJuIFh9KSxuLmQodCwiaSIsZnVuY3Rpb24oKXtyZXR1cm4gZn0pLG4uZCh0LCJoIixmdW5jdGlvbigpe3JldHVybiBsfSksdC5qPXA7dmFyIHc9bigwKSxqPW4oNDYpLGE9bigzNyksbz1uKDk1KSxfPW4oMTEpLEI9bigzKSxyPW4oNDQpLGk9bigxMyksYz1uKDEwKSxVPW4ubihjKSx1PW4oMTIpLHg9bi5uKHUpLFI9bigyOSkscz1uKDIpO2Z1bmN0aW9uIGsoZSl7cmV0dXJuKGs9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBOKCl7cmV0dXJuKE49T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgRD1yLmEuc3luY1VzZXJzLFA9bigwKSxNPW4oOSkuZGVmYXVsdCxxPW4oOCksRz1uKDUpLFc9InN0YXJ0ZWQiLEw9ImluUHJvZ3Jlc3MiLEY9ImNvbXBsZXRlZCI7cS5vbihHLkVWRU5UUy5CSURfQURKVVNUTUVOVCxmdW5jdGlvbihlKXshZnVuY3Rpb24oZSl7dmFyIHQsbj1lLmJpZGRlckNvZGUscj1lLmNwbTtpZih1cGJqcy5iaWRkZXJTZXR0aW5ncyYmKG4mJnVwYmpzLmJpZGRlclNldHRpbmdzW25dJiYiZnVuY3Rpb24iPT10eXBlb2YgdXBianMuYmlkZGVyU2V0dGluZ3Nbbl0uYmlkQ3BtQWRqdXN0bWVudD90PXVwYmpzLmJpZGRlclNldHRpbmdzW25dLmJpZENwbUFkanVzdG1lbnQ6dXBianMuYmlkZGVyU2V0dGluZ3NbRy5KU09OX01BUFBJTkcuQkRfU0VUVElOR19TVEFOREFSRF0mJiJmdW5jdGlvbiI9PXR5cGVvZiB1cGJqcy5iaWRkZXJTZXR0aW5nc1tHLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50JiYodD11cGJqcy5iaWRkZXJTZXR0aW5nc1tHLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXS5iaWRDcG1BZGp1c3RtZW50KSx0KSl0cnl7cj10KGUuY3BtLE4oe30sZSkpfWNhdGNoKGUpe1AubG9nRXJyb3IoIkVycm9yIGR1cmluZyBiaWQgYWRqdXN0bWVudCIsImJpZG1hbmFnZXIuanMiLGUpfTA8PXImJihlLmNwbT1yKX0oZSl9KTt2YXIgej00LFY9e30sSD17fSxLPVtdO3ZhciBKPU9iamVjdChpLmIpKCJhc3luYyIsZnVuY3Rpb24oZSx0KXt0aGlzLmRpc3BhdGNoLmNhbGwodGhpcy5iaWRkZXJSZXF1ZXN0LGUsdCl9LCJhZGRCaWRSZXNwb25zZSIpLFk9T2JqZWN0KGkuYikoInN5bmMiLGZ1bmN0aW9uKGUpe3RoaXMuZGlzcGF0Y2guY2FsbCh0aGlzLmNvbnRleHQsZSl9LCJhZGRCaWRkZXJSZXF1ZXN0cyIpLFE9T2JqZWN0KGkuYikoImFzeW5jIixmdW5jdGlvbihlLHQpe3QmJnQoKX0sImJpZHNCYWNrQ2FsbGJhY2siKTtmdW5jdGlvbiBkKGUsdCl7dC50aW1lVG9SZXNwb25kPmUuZ2V0VGltZW91dCgpK0IuYi5nZXRDb25maWcoInRpbWVvdXRCdWZmZXIiKSYmZS5leGVjdXRlQ2FsbGJhY2soITApfWZ1bmN0aW9uICQoZSx0KXt2YXIgbj1lLmdldEJpZFJlcXVlc3RzKCkscj1VKCkobixmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXJDb2RlPT09dC5iaWRkZXJDb2RlfSk7IWZ1bmN0aW9uKHQsZSl7dmFyIG47e3ZhciByO3QuYmlkZGVyQ29kZSYmKDA8dC5jcG18fHQuZGVhbElkKSYmKHI9VSgpKGUuYmlkcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09dC5hZFVuaXRDb2RlfSksbj1mdW5jdGlvbihlLHQsbil7aWYoIXQpcmV0dXJue307dmFyIHI9e30saT11cGJqcy5iaWRkZXJTZXR0aW5nczt7dmFyIG87aSYmKG89cCh0Lm1lZGlhVHlwZSxlLG4pLGcocixvLHQpLGUmJmlbZV0mJmlbZV1bRy5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXSYmKGcocixpW2VdLHQpLHQuc2VuZFN0YW5kYXJkVGFyZ2V0aW5nPWlbZV0uc2VuZFN0YW5kYXJkVGFyZ2V0aW5nKSl9dC5uYXRpdmUmJihyPU4oe30scixPYmplY3QoYS5kKSh0LG4pKSk7cmV0dXJuIHJ9KHQuYmlkZGVyQ29kZSx0LHIpKX10LmFkc2VydmVyVGFyZ2V0aW5nPU4odC5hZHNlcnZlclRhcmdldGluZ3x8e30sbil9KHQscikscS5lbWl0KEcuRVZFTlRTLkJJRF9SRVNQT05TRSx0KSxlLmFkZEJpZFJlY2VpdmVkKHQpLGQoZSx0KX12YXIgWD1PYmplY3QoaS5iKSgiYXN5bmMiLGZ1bmN0aW9uKG4scixpLGUpe09iamVjdChvLmIpKFtyXSxmdW5jdGlvbihlLHQpe2U/KFAubG9nV2FybigiRmFpbGVkIHRvIHNhdmUgdG8gdGhlIHZpZGVvIGNhY2hlOiAiLmNvbmNhdChlLCIuIFZpZGVvIGJpZCBtdXN0IGJlIGRpc2NhcmRlZC4iKSksZChuLHIpKToiIj09PXRbMF0udXVpZD8oUC5sb2dXYXJuKCJTdXBwbGllZCB2aWRlbyBjYWNoZSBrZXkgd2FzIGFscmVhZHkgaW4gdXNlIGJ5IFByZWJpZCBDYWNoZTsgY2FjaGluZyBhdHRlbXB0IHdhcyByZWplY3RlZC4gVmlkZW8gYmlkIG11c3QgYmUgZGlzY2FyZGVkLiIpLGQobixyKSk6KHIudmlkZW9DYWNoZUtleT10WzBdLnV1aWQsci52YXN0VXJsfHwoci52YXN0VXJsPU9iamVjdChvLmEpKHIudmlkZW9DYWNoZUtleSkpLCQobixyKSxpKCkpfSxlKX0sImNhbGxQcmViaWRDYWNoZSIpO2Z1bmN0aW9uIFooZSx0LG4pe2lmKGUmJm4pe2lmKGU9PT1zLmQpe3ZhciByPU9iamVjdCh3LmRlZXBBY2Nlc3MpKHQsIm1lZGlhVHlwZXMuIi5jb25jYXQocy5kLCIuY29udGV4dCIpLCJpbnN0cmVhbSIpO2lmKG5bIiIuY29uY2F0KHMuZCwiLSIpLmNvbmNhdChyKV0pcmV0dXJuIG5bIiIuY29uY2F0KHMuZCwiLSIpLmNvbmNhdChyKV19cmV0dXJuIG5bZV19fXZhciBmPWZ1bmN0aW9uKGUsdCl7dmFyIG49WihlLHQsQi5iLmdldENvbmZpZygibWVkaWFUeXBlUHJpY2VHcmFudWxhcml0eSIpKTtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGUmJm4/InN0cmluZyI9PXR5cGVvZiBuP246ImN1c3RvbSI6Qi5iLmdldENvbmZpZygicHJpY2VHcmFudWxhcml0eSIpfSxsPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gdD09PUcuR1JBTlVMQVJJVFlfT1BUSU9OUy5BVVRPP2UucGJBZzp0PT09Ry5HUkFOVUxBUklUWV9PUFRJT05TLkRFTlNFP2UucGJEZzp0PT09Ry5HUkFOVUxBUklUWV9PUFRJT05TLkxPVz9lLnBiTGc6dD09PUcuR1JBTlVMQVJJVFlfT1BUSU9OUy5NRURJVU0/ZS5wYk1nOnQ9PT1HLkdSQU5VTEFSSVRZX09QVElPTlMuSElHSD9lLnBiSGc6dD09PUcuR1JBTlVMQVJJVFlfT1BUSU9OUy5DVVNUT00/ZS5wYkNnOnZvaWQgMH19O2Z1bmN0aW9uIHAoZSx0LG4pe2Z1bmN0aW9uIHIoZSx0KXtyZXR1cm57a2V5OmUsdmFsOiJmdW5jdGlvbiI9PXR5cGVvZiB0P2Z1bmN0aW9uKGUpe3JldHVybiB0KGUpfTpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHcuZ2V0VmFsdWUpKGUsdCl9fX12YXIgaSxvLGE9Ry5UQVJHRVRJTkdfS0VZUyxjPWYoZSxuKSx1PXVwYmpzLmJpZGRlclNldHRpbmdzO3JldHVybiB1W0cuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfHwodVtHLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXT17fSksdVtHLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtHLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddfHwodVtHLkpTT05fTUFQUElORy5CRF9TRVRUSU5HX1NUQU5EQVJEXVtHLkpTT05fTUFQUElORy5BRFNFUlZFUl9UQVJHRVRJTkddPVtyKGEuQklEREVSLCJiaWRkZXJDb2RlIikscihhLkFEX0lELCJhZElkIikscihhLlBSSUNFX0JVQ0tFVCxsKGMpKSxyKGEuU0laRSwic2l6ZSIpLHIoYS5ERUFMLCJkZWFsSWQiKSxyKGEuU09VUkNFLCJzb3VyY2UiKSxyKGEuRk9STUFULCJtZWRpYVR5cGUiKV0pLCJ2aWRlbyI9PT1lJiYoaT11W0cuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdW0cuSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElOR10sW2EuVVVJRCxhLkNBQ0hFX0lEXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZvaWQgMD09PVUoKShpLGZ1bmN0aW9uKGUpe3JldHVybiBlLmtleT09PXR9KSYmaS5wdXNoKHIodCwidmlkZW9DYWNoZUtleSIpKX0pLCFCLmIuZ2V0Q29uZmlnKCJjYWNoZS51cmwiKXx8dCYmITE9PT1QLmRlZXBBY2Nlc3ModSwiIi5jb25jYXQodCwiLnNlbmRTdGFuZGFyZFRhcmdldGluZyIpKXx8KG89T2JqZWN0KHcucGFyc2VVcmwpKEIuYi5nZXRDb25maWcoImNhY2hlLnVybCIpKSx2b2lkIDA9PT1VKCkoaSxmdW5jdGlvbihlKXtyZXR1cm4gZS5rZXk9PT1hLkNBQ0hFX0hPU1R9KSYmaS5wdXNoKHIoYS5DQUNIRV9IT1NULGZ1bmN0aW9uKGUpe3JldHVybiBQLmRlZXBBY2Nlc3MoZSwiYWRzZXJ2ZXJUYXJnZXRpbmcuIi5jb25jYXQoYS5DQUNIRV9IT1NUKSk/ZS5hZHNlcnZlclRhcmdldGluZ1thLkNBQ0hFX0hPU1RdOm8uaG9zdG5hbWV9KSkpKSx1W0cuSlNPTl9NQVBQSU5HLkJEX1NFVFRJTkdfU1RBTkRBUkRdfWZ1bmN0aW9uIGcocixpLG8pe3ZhciBlPWlbRy5KU09OX01BUFBJTkcuQURTRVJWRVJfVEFSR0VUSU5HXTtyZXR1cm4gby5zaXplPW8uZ2V0U2l6ZSgpLFAuX2VhY2goZSxmdW5jdGlvbihlKXt2YXIgdD1lLmtleSxuPWUudmFsO2lmKHJbdF0mJlAubG9nV2FybigiVGhlIGtleTogIit0KyIgaXMgZ2V0dGluZyBvdmV3cml0dGVuIiksUC5pc0ZuKG4pKXRyeXtuPW4obyl9Y2F0Y2goZSl7UC5sb2dFcnJvcigiYmlkbWFuYWdlciIsIkVSUk9SIixlKX0odm9pZCAwPT09aS5zdXBwcmVzc0VtcHR5S2V5c3x8ITAhPT1pLnN1cHByZXNzRW1wdHlLZXlzKSYmdCE9PUcuVEFSR0VUSU5HX0tFWVMuREVBTHx8IVAuaXNFbXB0eVN0cihuKSYmbnVsbCE9bj9yW3RdPW46UC5sb2dJbmZvKCJzdXBwcmVzc2luZyBlbXB0eSBrZXkgJyIrdCsiJyBmcm9tIGFkc2VydmVyIHRhcmdldGluZyIpfSkscn1mdW5jdGlvbiBlZShlLHQpe3JldHVybiBlW3QuYWRVbml0Q29kZV18fChlW3QuYWRVbml0Q29kZV09e2JpZHM6W119KSxlW3QuYWRVbml0Q29kZV0uYmlkcy5wdXNoKHQpLGV9fSw0MjpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz17fX0sNDM6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmM9ZnVuY3Rpb24oZSl7by5wdXNoKGUpfSx0LmQ9ZnVuY3Rpb24odCl7dHJ5e3ZhciBuPXQ7cmV0dXJuIG8uZm9yRWFjaChmdW5jdGlvbihlKXtuPWUobil9KSxufWNhdGNoKGUpe3JldHVybiB0fX0sdC5hPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHQuZT1mdW5jdGlvbihlKXtlJiYiSUZSQU1FIj09PWUudGFnTmFtZSYmKHI9ZSl9LHQuYj1mdW5jdGlvbigpe3JldHVybiBpfSx0LmY9ZnVuY3Rpb24oZSl7aT1lfTt2YXIgcixpLG89W119LDQ0OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIFN9KTt2YXIgYT1uKDApLHI9bigzKSxpPW4oMTIpLG89bi5uKGkpLGM9big3KTtmdW5jdGlvbiB1KGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGV9KGUpfHxmdW5jdGlvbihlLHQpe2lmKCJ1bmRlZmluZWQiPT10eXBlb2YgU3ltYm9sfHwhKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoZSkpKXJldHVybjt2YXIgbj1bXSxyPSEwLGk9ITEsbz12b2lkIDA7dHJ5e2Zvcih2YXIgYSxjPWVbU3ltYm9sLml0ZXJhdG9yXSgpOyEocj0oYT1jLm5leHQoKSkuZG9uZSkmJihuLnB1c2goYS52YWx1ZSksIXR8fG4ubGVuZ3RoIT09dCk7cj0hMCk7fWNhdGNoKGUpe2k9ITAsbz1lfWZpbmFsbHl7dHJ5e3J8fG51bGw9PWMucmV0dXJufHxjLnJldHVybigpfWZpbmFsbHl7aWYoaSl0aHJvdyBvfX1yZXR1cm4gbn0oZSx0KXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBzKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBzKGUsdCl9KGUsdCl8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBzKGUsdCl7KG51bGw9PXR8fHQ+ZS5sZW5ndGgpJiYodD1lLmxlbmd0aCk7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodCk7bjx0O24rKylyW25dPWVbbl07cmV0dXJuIHJ9ZnVuY3Rpb24gZCgpe3JldHVybihkPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ci5iLnNldERlZmF1bHRzKHt1c2VyU3luYzphLmRlZXBDbG9uZSh7c3luY0VuYWJsZWQ6ITAsZmlsdGVyU2V0dGluZ3M6e2ltYWdlOntiaWRkZXJzOiIqIixmaWx0ZXI6ImluY2x1ZGUifX0sc3luY3NQZXJCaWRkZXI6NSxzeW5jRGVsYXk6M2UzLGF1Y3Rpb25EZWxheTowfSl9KTt2YXIgZj1PYmplY3QoYy5hKSgidXNlcnN5bmMiKTt2YXIgbCxwLGcsYix2LHksaCxtPSFhLmlzU2FmYXJpQnJvd3NlcigpJiZmLmNvb2tpZXNBcmVFbmFibGVkKCksUz0obD17Y29uZmlnOnIuYi5nZXRDb25maWcoInVzZXJTeW5jIiksYnJvd3NlclN1cHBvcnRzQ29va2llczptfSxwPXt9LGc9QSgpLGI9bmV3IFNldCx5PXtpbWFnZTohMCxpZnJhbWU6ISh2PXt9KX0saD1sLmNvbmZpZyxyLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIsZnVuY3Rpb24oZSl7dmFyIHQ7ZS51c2VyU3luYyYmKHQ9ZS51c2VyU3luYy5maWx0ZXJTZXR0aW5ncyxhLmlzUGxhaW5PYmplY3QodCkmJih0LmltYWdlfHx0LmFsbHx8KGUudXNlclN5bmMuZmlsdGVyU2V0dGluZ3MuaW1hZ2U9e2JpZGRlcnM6IioiLGZpbHRlcjoiaW5jbHVkZSJ9KSkpLGg9ZChoLGUudXNlclN5bmMpfSkscC5yZWdpc3RlclN5bmM9ZnVuY3Rpb24oZSx0LG4pe3JldHVybiBiLmhhcyh0KT9hLmxvZ01lc3NhZ2UoJ2FscmVhZHkgZmlyZWQgc3luY3MgZm9yICInLmNvbmNhdCh0LCciLCBpZ25vcmluZyByZWdpc3RlclN5bmMgY2FsbCcpKTpoLnN5bmNFbmFibGVkJiZhLmlzQXJyYXkoZ1tlXSk/dD8wIT09aC5zeW5jc1BlckJpZGRlciYmTnVtYmVyKHZbdF0pPj1oLnN5bmNzUGVyQmlkZGVyP2EubG9nV2FybignTnVtYmVyIG9mIHVzZXIgc3luY3MgZXhjZWVkZWQgZm9yICInLmNvbmNhdCh0LCciJykpOnAuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKGUsdCk/KGdbZV0ucHVzaChbdCxuXSksKHI9dilbaT10XT9yW2ldKz0xOnJbaV09MSx2b2lkKHY9cikpOmEubG9nV2FybignQmlkZGVyICInLmNvbmNhdCh0LCciIG5vdCBwZXJtaXR0ZWQgdG8gcmVnaXN0ZXIgdGhlaXIgIicpLmNvbmNhdChlLCciIHVzZXJTeW5jIHBpeGVscy4nKSk6YS5sb2dXYXJuKCJCaWRkZXIgaXMgcmVxdWlyZWQgZm9yIHJlZ2lzdGVyaW5nIHN5bmMiKTphLmxvZ1dhcm4oJ1VzZXIgc3luYyB0eXBlICInLmNvbmNhdChlLCciIG5vdCBzdXBwb3J0ZWQnKSk7dmFyIHIsaX0scC5zeW5jVXNlcnM9ZnVuY3Rpb24oKXt2YXIgZT0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06MDtpZihlKXJldHVybiBzZXRUaW1lb3V0KEUsTnVtYmVyKGUpKTtFKCl9LHAudHJpZ2dlclVzZXJTeW5jcz1mdW5jdGlvbigpe2guZW5hYmxlT3ZlcnJpZGUmJnAuc3luY1VzZXJzKCl9LHAuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIWguZmlsdGVyU2V0dGluZ3N8fCFUKGUsdCl9LHApO2Z1bmN0aW9uIEEoKXtyZXR1cm57aW1hZ2U6W10saWZyYW1lOltdfX1mdW5jdGlvbiBFKCl7aWYoaC5zeW5jRW5hYmxlZCYmbC5icm93c2VyU3VwcG9ydHNDb29raWVzKXt0cnl7IWZ1bmN0aW9uKCl7aWYoIXkuaW1hZ2UpcmV0dXJuO08oZy5pbWFnZSxmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLHI9dFsxXTthLmxvZ01lc3NhZ2UoIkludm9raW5nIGltYWdlIHBpeGVsIHVzZXIgc3luYyBmb3IgYmlkZGVyOiAiLmNvbmNhdChuKSksYS50cmlnZ2VyUGl4ZWwocil9KX0oKSxmdW5jdGlvbigpe2lmKCF5LmlmcmFtZSlyZXR1cm47TyhnLmlmcmFtZSxmdW5jdGlvbihlKXt2YXIgdD11KGUsMiksbj10WzBdLHI9dFsxXTthLmxvZ01lc3NhZ2UoIkludm9raW5nIGlmcmFtZSB1c2VyIHN5bmMgZm9yIGJpZGRlcjogIi5jb25jYXQobikpLGEuaW5zZXJ0VXNlclN5bmNJZnJhbWUocil9KX0oKX1jYXRjaChlKXtyZXR1cm4gYS5sb2dFcnJvcigiRXJyb3IgZmlyaW5nIHVzZXIgc3luY3MiLGUpfWc9QSgpfX1mdW5jdGlvbiBPKGUsdCl7YS5zaHVmZmxlKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7dChlKSxiLmFkZChlWzBdKX0pfWZ1bmN0aW9uIFQoZSx0KXt2YXIgbj1oLmZpbHRlclNldHRpbmdzO2lmKGZ1bmN0aW9uKGUsdCl7aWYoZS5hbGwmJmVbdF0pcmV0dXJuIGEubG9nV2FybignRGV0ZWN0ZWQgcHJlc2VuY2Ugb2YgdGhlICJmaWx0ZXJTZXR0aW5ncy5hbGwiIGFuZCAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQodCwnIiBpbiB1c2VyU3luYyBjb25maWcuICBZb3UgY2Fubm90IG1peCAiYWxsIiB3aXRoICJpZnJhbWUvaW1hZ2UiIGNvbmZpZ3M7IHRoZXkgYXJlIG11dHVhbGx5IGV4Y2x1c2l2ZS4nKSksITE7dmFyIG49ZS5hbGw/ZS5hbGw6ZVt0XSxyPWUuYWxsPyJhbGwiOnQ7aWYoIW4pcmV0dXJuITE7dmFyIGk9bi5maWx0ZXIsbz1uLmJpZGRlcnM7aWYoaSYmImluY2x1ZGUiIT09aSYmImV4Y2x1ZGUiIT09aSlyZXR1cm4gYS5sb2dXYXJuKCdVc2VyU3luYyAiZmlsdGVyU2V0dGluZ3MuJy5jb25jYXQociwiLmZpbHRlclwiIHNldHRpbmcgJyIpLmNvbmNhdChpLCInIGlzIG5vdCBhIHZhbGlkIG9wdGlvbjsgdXNlIGVpdGhlciAnaW5jbHVkZScgb3IgJ2V4Y2x1ZGUnLiIpKSwhMTtyZXR1cm4hISgiKiI9PT1vfHxBcnJheS5pc0FycmF5KG8pJiYwPG8ubGVuZ3RoJiZvLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBhLmlzU3RyKGUpJiYiKiIhPT1lfSkpfHwoYS5sb2dXYXJuKCdEZXRlY3RlZCBhbiBpbnZhbGlkIHNldHVwIGluIHVzZXJTeW5jICJmaWx0ZXJTZXR0aW5ncy4nLmNvbmNhdChyLCIuYmlkZGVyc1wiOyB1c2UgZWl0aGVyICcqJyAodG8gcmVwcmVzZW50IGFsbCBiaWRkZXJzKSBvciBhbiBhcnJheSBvZiBiaWRkZXJzLiIpKSwhMSl9KG4sZSkpe3lbZV09ITA7dmFyIHI9bi5hbGw/bi5hbGw6bltlXSxpPSIqIj09PXIuYmlkZGVycz9bdF06ci5iaWRkZXJzO3JldHVybntpbmNsdWRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIW8oKShlLHQpfSxleGNsdWRlOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oKShlLHQpfX1bci5maWx0ZXJ8fCJpbmNsdWRlIl0oaSx0KX19fSw0NTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO24uZCh0LCJhIixmdW5jdGlvbigpe3JldHVybiBmfSk7dmFyIFM9bigwKSxBPW4oMyksRT1uKDM3KSxyPW4oMjQpLGk9big5Myksbz1uKDIpLGE9bigxMiksTz1uLm4oYSk7ZnVuY3Rpb24gVCgpe3JldHVybihUPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gSShlLHQsbil7cmV0dXJuIHQgaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1uLGV9ZnVuY3Rpb24gQyhlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gYyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBjKGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiBjKGUsdCl9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGMoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgdz1uKDApLGo9big1KSxfPVtdLEI9T2JqZWN0LmtleXMoai5UQVJHRVRJTkdfS0VZUykubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBqLlRBUkdFVElOR19LRVlTW2VdfSksdT1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZXNwb25zZVRpbWVzdGFtcCsxZTMqZS50dGwrMWUzPk9iamVjdChTLnRpbWVzdGFtcCkoKX0scz1mdW5jdGlvbihlKXtyZXR1cm4gZSYmKGUuc3RhdHVzJiYhTygpKFtqLkJJRF9TVEFUVVMuUkVOREVSRURdLGUuc3RhdHVzKXx8IWUuc3RhdHVzKX07ZnVuY3Rpb24gVShlLHIsdCl7dmFyIGk9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6MCxvPVtdLGE9QS5iLmdldENvbmZpZygic2VuZEJpZHNDb250cm9sLmRlYWxQcmlvcml0aXphdGlvbiIpLGM9T2JqZWN0KFMuZ3JvdXBCeSkoZSwiYWRVbml0Q29kZSIpO3JldHVybiBPYmplY3Qua2V5cyhjKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PVtdLG49T2JqZWN0KFMuZ3JvdXBCeSkoY1tlXSwiYmlkZGVyQ29kZSIpO09iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIHQucHVzaChuW2VdLnJlZHVjZShyKSl9KSwwPGk/KHQ9YT90LnNvcnQoeCghMCkpOnQuc29ydChmdW5jdGlvbihlLHQpe3JldHVybiB0LmNwbS1lLmNwbX0pLG8ucHVzaC5hcHBseShvLEModC5zbGljZSgwLGkpKSkpOm8ucHVzaC5hcHBseShvLEModCkpfSksb31mdW5jdGlvbiB4KGUpe3ZhciBuPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09ZSYmZTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwIT09ZS5hZHNlcnZlclRhcmdldGluZy5oYl9kZWFsJiZ2b2lkIDA9PT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWw/LTE6dm9pZCAwPT09ZS5hZHNlcnZlclRhcmdldGluZy5oYl9kZWFsJiZ2b2lkIDAhPT10LmFkc2VydmVyVGFyZ2V0aW5nLmhiX2RlYWw/MTpuP3QuY3BtLWUuY3BtOnQuYWRzZXJ2ZXJUYXJnZXRpbmcuaGJfcGItZS5hZHNlcnZlclRhcmdldGluZy5oYl9wYn19dmFyIFIsayxkLGY9KFI9ci5hLGQ9e30sKGs9e30pLnNldExhdGVzdEF1Y3Rpb25Gb3JBZFVuaXQ9ZnVuY3Rpb24oZSx0KXtkW2VdPXR9LGsucmVzZXRQcmVzZXRUYXJnZXRpbmc9ZnVuY3Rpb24oZSx0KXt2YXIgbixpO09iamVjdChTLmlzR3B0UHViYWRzRGVmaW5lZCkoKSYmKG49RChlKSxpPVIuZ2V0QWRVbml0cygpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gTygpKG4sZS5jb2RlKX0pLHdpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPXcuaXNGbih0KSYmdChuKTtfLmZvckVhY2goZnVuY3Rpb24odCl7aS5mb3JFYWNoKGZ1bmN0aW9uKGUpeyhlLmNvZGU9PT1uLmdldEFkVW5pdFBhdGgoKXx8ZS5jb2RlPT09bi5nZXRTbG90RWxlbWVudElkKCl8fHcuaXNGbihyKSYmcihlLmNvZGUpKSYmbi5zZXRUYXJnZXRpbmcodCxudWxsKX0pfSl9KSl9LGsucmVzZXRQcmVzZXRUYXJnZXRpbmdBU1Q9ZnVuY3Rpb24oZSl7RChlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4scj13aW5kb3cuYXBudGFnLmdldFRhZyhlKTtyJiZyLmtleXdvcmRzJiYodD1PYmplY3Qua2V5cyhyLmtleXdvcmRzKSxuPXt9LHQuZm9yRWFjaChmdW5jdGlvbihlKXtPKCkoXyxlLnRvTG93ZXJDYXNlKCkpfHwobltlXT1yLmtleXdvcmRzW2VdKX0pLHdpbmRvdy5hcG50YWcubW9kaWZ5VGFnKGUse2tleXdvcmRzOm59KSl9KX0say5nZXRBbGxUYXJnZXRpbmc9ZnVuY3Rpb24oZSx0KXt0PXR8fFAoKTt2YXIgbixyLGksbyxhLGMsdSxzLGQsZixsPUQoZSkscD0odT1sLHM9dCxkPWsuZ2V0V2lubmluZ0JpZHModSxzKSxmPU0oKSwoZD1kLm1hcChmdW5jdGlvbihvKXtyZXR1cm4gSSh7fSxvLmFkVW5pdENvZGUsT2JqZWN0LmtleXMoby5hZHNlcnZlclRhcmdldGluZykuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDA9PT1vLnNlbmRTdGFuZGFyZFRhcmdldGluZ3x8by5zZW5kU3RhbmRhcmRUYXJnZXRpbmd8fC0xPT09Zi5pbmRleE9mKGUpfSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIG49W28uYWRzZXJ2ZXJUYXJnZXRpbmdbdF1dLHI9SSh7fSx0LnN1YnN0cmluZygwLDIwKSxuKTtpZih0IT09ai5UQVJHRVRJTkdfS0VZUy5ERUFMKXJldHVybltdLmNvbmNhdChDKGUpLFtyXSk7dmFyIGk9SSh7fSwiIi5jb25jYXQodCwiXyIpLmNvbmNhdChvLmJpZGRlckNvZGUpLnN1YnN0cmluZygwLDIwKSxuKTtyZXR1cm5bXS5jb25jYXQoQyhlKSxbcixpXSl9LFtdKSl9KSkuY29uY2F0KChjPWwsdC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIE8oKShjLGUuYWRVbml0Q29kZSl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIFQoe30sZSl9KS5yZWR1Y2UocSxbXSkubWFwKEcpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZX0pKSkuY29uY2F0KEEuYi5nZXRDb25maWcoImVuYWJsZVNlbmRBbGxCaWRzIik/KHI9bCxpPXQsbz1CLmNvbmNhdChFLmEpLGE9QS5iLmdldENvbmZpZygic2VuZEJpZHNDb250cm9sLmJpZExpbWl0IiksVShpLFMuZ2V0SGlnaGVzdENwbSxhKS5tYXAoZnVuY3Rpb24odCl7aWYoTih0LHIpKXJldHVybiBJKHt9LHQuYWRVbml0Q29kZSxXKHQsby5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PXQuYWRzZXJ2ZXJUYXJnZXRpbmdbZV19KSkpfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlfSkpOmZ1bmN0aW9uKGUsdCl7aWYoITAhPT1BLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbHdheXNJbmNsdWRlRGVhbHMiKSlyZXR1cm5bXTt2YXIgbj1CLmNvbmNhdChFLmEpO3JldHVybiBVKHQsUy5nZXRIaWdoZXN0Q3BtKS5tYXAoZnVuY3Rpb24odCl7aWYodC5kZWFsSWQmJk4odCxlKSlyZXR1cm4gSSh7fSx0LmFkVW5pdENvZGUsVyh0LG4uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT10LmFkc2VydmVyVGFyZ2V0aW5nW2VdfSkpKX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZX0pfShsLHQpKS5jb25jYXQoKG49bCxSLmdldEFkVW5pdHMoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIE8oKShuLGUuY29kZSkmJmcoZSl9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEkoe30sZS5jb2RlLCh0PWcoZSksT2JqZWN0LmtleXModCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBJKHt9LGUsdy5pc0FycmF5KHRbZV0pP3RbZV06dFtlXS5zcGxpdCgiLCIpKX0pKSk7dmFyIHR9KSkpKTtmdW5jdGlvbiBnKGUpe3JldHVybiBPYmplY3QoUy5kZWVwQWNjZXNzKShlLGouSlNPTl9NQVBQSU5HLkFEU0VSVkVSX1RBUkdFVElORyl9cC5tYXAoZnVuY3Rpb24odCl7T2JqZWN0LmtleXModCkubWFwKGZ1bmN0aW9uKGUpe3RbZV0ubWFwKGZ1bmN0aW9uKGUpey0xPT09Xy5pbmRleE9mKE9iamVjdC5rZXlzKGUpWzBdKSYmKF89T2JqZWN0LmtleXMoZSkuY29uY2F0KF8pKX0pfSl9KTt2YXIgYj1BLmIuZ2V0Q29uZmlnKCJ0YXJnZXRpbmdDb250cm9scy5hbGxvd1RhcmdldGluZ0tleXMiKTtBcnJheS5pc0FycmF5KGIpJiYwPGIubGVuZ3RoJiYocD1mdW5jdGlvbihlLHIpe3ZhciBpPVQoe30sai5UQVJHRVRJTkdfS0VZUyxqLk5BVElWRV9LRVlTKSxvPU9iamVjdC5rZXlzKGkpLGE9e307T2JqZWN0KFMubG9nSW5mbykoImFsbG93VGFyZ2V0aW5nS2V5cyAtIGFsbG93ZWQga2V5cyBbICIuY29uY2F0KHIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBpW2VdfSkuam9pbigiLCAiKSwiIF0iKSksZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmtleXMoZSlbMF0sbj1lW3RdLmZpbHRlcihmdW5jdGlvbihlKXt2YXIgbj1PYmplY3Qua2V5cyhlKVswXSx0PTA9PT1vLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMD09PW4uaW5kZXhPZihpW2VdKX0pLmxlbmd0aHx8ci5maW5kKGZ1bmN0aW9uKGUpe3ZhciB0PWlbZV07cmV0dXJuIDA9PT1uLmluZGV4T2YodCl9KTtyZXR1cm4gYVtuXT0hdCx0fSk7ZVt0XT1ufSk7dmFyIHQ9T2JqZWN0LmtleXMoYSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBhW2VdfSk7cmV0dXJuIE9iamVjdChTLmxvZ0luZm8pKCJhbGxvd1RhcmdldGluZ0tleXMgLSByZW1vdmVkIGtleXMgWyAiLmNvbmNhdCh0LmpvaW4oIiwgIiksIiBdIikpLGUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwPGVbT2JqZWN0LmtleXMoZSlbMF1dLmxlbmd0aH0pfShwLGIpKSxwPXAubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBJKHt9LE9iamVjdC5rZXlzKGUpWzBdLGVbT2JqZWN0LmtleXMoZSlbMF1dLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gSSh7fSxPYmplY3Qua2V5cyhlKVswXSxlW09iamVjdC5rZXlzKGUpWzBdXS5qb2luKCIsICIpKX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBUKHQsZSl9LHt9KSl9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXt2YXIgbj1PYmplY3Qua2V5cyh0KVswXTtyZXR1cm4gZVtuXT1UKHt9LGVbbl0sdFtuXSksZX0se30pO3ZhciB2LHksaCxtPUEuYi5nZXRDb25maWcoInRhcmdldGluZ0NvbnRyb2xzLmF1Y3Rpb25LZXlNYXhDaGFycyIpO3JldHVybiBtJiYoT2JqZWN0KFMubG9nSW5mbykoIkRldGVjdGVkICd0YXJnZXRpbmdDb250cm9scy5hdWN0aW9uS2V5TWF4Q2hhcnMnIHdhcyBhY3RpdmUgZm9yIHRoaXMgYXVjdGlvbjsgc2V0IHdpdGggYSBsaW1pdCBvZiAiLmNvbmNhdChtLCIgY2hhcmFjdGVycy4gIFJ1bm5pbmcgY2hlY2tzIG9uIGF1Y3Rpb24ga2V5cy4uLiIpKSx2PXAseT1tLGg9T2JqZWN0KFMuZGVlcENsb25lKSh2KSxwPU9iamVjdC5rZXlzKGgpLm1hcChmdW5jdGlvbihlKXtyZXR1cm57YWRVbml0Q29kZTplLGFkc2VydmVyVGFyZ2V0aW5nOmhbZV19fSkuc29ydCh4KCkpLnJlZHVjZShmdW5jdGlvbihlLHQsbixyKXt2YXIgaSxvPShpPXQuYWRzZXJ2ZXJUYXJnZXRpbmcsT2JqZWN0LmtleXMoaSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUrIiIuY29uY2F0KHQsIiUzZCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoaVt0XSksIiUyNiIpfSwiIikpO24rMT09PXIubGVuZ3RoJiYobz1vLnNsaWNlKDAsLTMpKTt2YXIgYT10LmFkVW5pdENvZGUsYz1vLmxlbmd0aDtyZXR1cm4gYzw9eT8oeS09YyxPYmplY3QoUy5sb2dJbmZvKSgiQWRVbml0ICciLmNvbmNhdChhLCInIGF1Y3Rpb24ga2V5cyBjb21wcmlzZWQgb2YgIikuY29uY2F0KGMsIiBjaGFyYWN0ZXJzLiAgRGVkdWN0ZWQgZnJvbSBydW5uaW5nIHRocmVzaG9sZDsgbmV3IGxpbWl0IGlzICIpLmNvbmNhdCh5KSxoW2FdKSxlW2FdPWhbYV0pOk9iamVjdChTLmxvZ1dhcm4pKCJUaGUgZm9sbG93aW5nIGtleXMgZm9yIGFkVW5pdENvZGUgJyIuY29uY2F0KGEsIicgZXhjZWVkZWQgdGhlIGN1cnJlbnQgbGltaXQgb2YgdGhlICdhdWN0aW9uS2V5TWF4Q2hhcnMnIHNldHRpbmcuXG5UaGUga2V5LXNldCBzaXplIHdhcyAiKS5jb25jYXQoYywiLCB0aGUgY3VycmVudCBhbGxvdHRlZCBhbW91bnQgd2FzICIpLmNvbmNhdCh5LCIuXG4iKSxoW2FdKSxuKzE9PT1yLmxlbmd0aCYmMD09PU9iamVjdC5rZXlzKGUpLmxlbmd0aCYmT2JqZWN0KFMubG9nRXJyb3IpKCJObyBhdWN0aW9uIHRhcmdldGluZyBrZXlzIHdlcmUgcGVybWl0dGVkIGR1ZSB0byB0aGUgc2V0dGluZyBpbiBzZXRDb25maWcodGFyZ2V0aW5nQ29udHJvbHMuYXVjdGlvbktleU1heENoYXJzKS4gIFBsZWFzZSByZXZpZXcgc2V0dXAgYW5kIGNvbnNpZGVyIGFkanVzdGluZy4iKSxlfSx7fSkpLGwuZm9yRWFjaChmdW5jdGlvbihlKXtwW2VdfHwocFtlXT17fSl9KSxwfSxrLnNldFRhcmdldGluZ0ZvckdQVD1mdW5jdGlvbihpLGUpe3dpbmRvdy5nb29nbGV0YWcucHViYWRzKCkuZ2V0U2xvdHMoKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe09iamVjdC5rZXlzKGkpLmZpbHRlcigoZXx8T2JqZWN0KFMuaXNBZFVuaXRDb2RlTWF0Y2hpbmdTbG90KSkocikpLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdC5rZXlzKGlbbl0pLmZvckVhY2goZnVuY3Rpb24odCl7dmFyIGU9aVtuXVt0XTsic3RyaW5nIj09dHlwZW9mIGUmJihlPWUuc3BsaXQoIiwiKSksKGU9MTxlLmxlbmd0aD9bZV06ZSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB3LmxvZ01lc3NhZ2UoIkF0dGVtcHRpbmcgdG8gc2V0IGtleSB2YWx1ZSBmb3Igc2xvdDogIi5jb25jYXQoci5nZXRTbG90RWxlbWVudElkKCksIiBrZXk6ICIpLmNvbmNhdCh0LCIgdmFsdWU6ICIpLmNvbmNhdChlKSksZX0pLmZvckVhY2goZnVuY3Rpb24oZSl7ci5zZXRUYXJnZXRpbmcodCxlKX0pfSl9KX0pfSxrLmdldFdpbm5pbmdCaWRzPWZ1bmN0aW9uKGUpe3ZhciBuPTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpQKCksdD1EKGUpO3JldHVybiBuLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gTygpKHQsZS5hZFVuaXRDb2RlKX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmNwbX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlfSkuZmlsdGVyKFMudW5pcXVlcykubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBuLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09dD9lOm51bGx9KS5yZWR1Y2UoUy5nZXRIaWdoZXN0Q3BtKX0pfSxrLnNldFRhcmdldGluZ0ZvckFzdD1mdW5jdGlvbihlKXt2YXIgcj1rLmdldEFsbFRhcmdldGluZyhlKTt0cnl7ay5yZXNldFByZXNldFRhcmdldGluZ0FTVChlKX1jYXRjaChlKXt3LmxvZ0Vycm9yKCJ1bmFibGUgdG8gcmVzZXQgdGFyZ2V0aW5nIGZvciBBU1QiK2UpfU9iamVjdC5rZXlzKHIpLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdC5rZXlzKHJbbl0pLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ7dy5sb2dNZXNzYWdlKCJBdHRlbXB0aW5nIHRvIHNldCB0YXJnZXRpbmcgZm9yIHRhcmdldElkOiAiLmNvbmNhdChuLCIga2V5OiAiKS5jb25jYXQoZSwiIHZhbHVlOiAiKS5jb25jYXQocltuXVtlXSkpLCh3LmlzU3RyKHJbbl1bZV0pfHx3LmlzQXJyYXkocltuXVtlXSkpJiYodD17fSxlLnNlYXJjaCgvcHRbMC05XS8pPDA/dFtlLnRvVXBwZXJDYXNlKCldPXJbbl1bZV06dFtlXT1yW25dW2VdLHdpbmRvdy5hcG50YWcuc2V0S2V5d29yZHMobix0LHtvdmVycmlkZUtleVZhbHVlOiEwfSkpfSl9KX0say5pc0FwbnRhZ0RlZmluZWQ9ZnVuY3Rpb24oKXtpZih3aW5kb3cuYXBudGFnJiZ3LmlzRm4od2luZG93LmFwbnRhZy5zZXRLZXl3b3JkcykpcmV0dXJuITB9LGspO2Z1bmN0aW9uIE4oZSx0KXtyZXR1cm4gZS5hZHNlcnZlclRhcmdldGluZyYmdCYmKHcuaXNBcnJheSh0KSYmTygpKHQsZS5hZFVuaXRDb2RlKXx8InN0cmluZyI9PXR5cGVvZiB0JiZlLmFkVW5pdENvZGU9PT10KX1mdW5jdGlvbiBEKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZT9bZV06dy5pc0FycmF5KGUpP2U6Ui5nZXRBZFVuaXRDb2RlcygpfHxbXX1mdW5jdGlvbiBQKCl7dmFyIGU9Ui5nZXRCaWRzUmVjZWl2ZWQoKTtyZXR1cm4gQS5iLmdldENvbmZpZygidXNlQmlkQ2FjaGUiKXx8KGU9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGRbZS5hZFVuaXRDb2RlXT09PWUuYXVjdGlvbklkfSkpLFUoZT1lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KFMuZGVlcEFjY2VzcykoZSwidmlkZW8uY29udGV4dCIpIT09by5hfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiIT09ZS5tZWRpYVR5cGV8fE9iamVjdChpLmMpKFtlLndpZHRoLGUuaGVpZ2h0XSl9KS5maWx0ZXIocykuZmlsdGVyKHUpLFMuZ2V0T2xkZXN0SGlnaGVzdENwbUJpZCl9ZnVuY3Rpb24gTSgpe3JldHVybiBSLmdldFN0YW5kYXJkQmlkZGVyQWRTZXJ2ZXJUYXJnZXRpbmcoKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUua2V5fSkuY29uY2F0KEIpLmZpbHRlcihTLnVuaXF1ZXMpfWZ1bmN0aW9uIHEocixpLGUsdCl7cmV0dXJuIE9iamVjdC5rZXlzKGkuYWRzZXJ2ZXJUYXJnZXRpbmcpLmZpbHRlcihsKCkpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQsbjtyLmxlbmd0aCYmci5maWx0ZXIoKG49ZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5hZFVuaXRDb2RlPT09aS5hZFVuaXRDb2RlJiZlLmFkc2VydmVyVGFyZ2V0aW5nW25dfSkpLmZvckVhY2goKHQ9ZSxmdW5jdGlvbihlKXt3LmlzQXJyYXkoZS5hZHNlcnZlclRhcmdldGluZ1t0XSl8fChlLmFkc2VydmVyVGFyZ2V0aW5nW3RdPVtlLmFkc2VydmVyVGFyZ2V0aW5nW3RdXSksZS5hZHNlcnZlclRhcmdldGluZ1t0XT1lLmFkc2VydmVyVGFyZ2V0aW5nW3RdLmNvbmNhdChpLmFkc2VydmVyVGFyZ2V0aW5nW3RdKS5maWx0ZXIoUy51bmlxdWVzKSxkZWxldGUgaS5hZHNlcnZlclRhcmdldGluZ1t0XX0pKX0pLHIucHVzaChpKSxyfWZ1bmN0aW9uIGwoKXt2YXIgdD1NKCkuY29uY2F0KEUuYSk7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybi0xPT09dC5pbmRleE9mKGUpfX1mdW5jdGlvbiBHKHQpe3JldHVybiBJKHt9LHQuYWRVbml0Q29kZSxPYmplY3Qua2V5cyh0LmFkc2VydmVyVGFyZ2V0aW5nKS5maWx0ZXIobCgpKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEkoe30sZS5zdWJzdHJpbmcoMCwyMCksW3QuYWRzZXJ2ZXJUYXJnZXRpbmdbZV1dKX0pKX1mdW5jdGlvbiBXKHQsZSl7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBJKHt9LCIiLmNvbmNhdChlLCJfIikuY29uY2F0KHQuYmlkZGVyQ29kZSkuc3Vic3RyaW5nKDAsMjApLFt0LmFkc2VydmVyVGFyZ2V0aW5nW2VdXSl9KX19LDQ2OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7bi5kKHQsImEiLGZ1bmN0aW9uKCl7cmV0dXJuIGR9KSxuLmQodCwiYiIsZnVuY3Rpb24oKXtyZXR1cm4gaH0pO3ZhciByPW4oMTApLHY9bi5uKHIpLGk9bigwKSx5PTIsbz17YnVja2V0czpbe21heDo1LGluY3JlbWVudDouNX1dfSxhPXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMX1dfSxjPXtidWNrZXRzOlt7bWF4OjIwLGluY3JlbWVudDouMDF9XX0sdT17YnVja2V0czpbe21heDozLGluY3JlbWVudDouMDF9LHttYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWF4OjIwLGluY3JlbWVudDouNX1dfSxzPXtidWNrZXRzOlt7bWF4OjUsaW5jcmVtZW50Oi4wNX0se21heDoxMCxpbmNyZW1lbnQ6LjF9LHttYXg6MjAsaW5jcmVtZW50Oi41fV19O2Z1bmN0aW9uIGQoZSx0KXt2YXIgbj0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MSxyPXBhcnNlRmxvYXQoZSk7cmV0dXJuIGlzTmFOKHIpJiYocj0iIikse2xvdzoiIj09PXI/IiI6ZihlLG8sbiksbWVkOiIiPT09cj8iIjpmKGUsYSxuKSxoaWdoOiIiPT09cj8iIjpmKGUsYyxuKSxhdXRvOiIiPT09cj8iIjpmKGUscyxuKSxkZW5zZToiIj09PXI/IiI6ZihlLHUsbiksY3VzdG9tOiIiPT09cj8iIjpmKGUsdCxuKX19ZnVuY3Rpb24gZihuLGUscil7dmFyIGk9IiI7aWYoIWgoZSkpcmV0dXJuIGk7dmFyIHQsbyxhLGMsdSxzLGQsZixsLHA9ZS5idWNrZXRzLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLm1heD50Lm1heD9lOnR9LHttYXg6MH0pLGc9MCxiPXYoKShlLmJ1Y2tldHMsZnVuY3Rpb24oZSl7aWYobj5wLm1heCpyKXt2YXIgdD1lLnByZWNpc2lvbjt2b2lkIDA9PT10JiYodD15KSxpPShlLm1heCpyKS50b0ZpeGVkKHQpfWVsc2V7aWYobjw9ZS5tYXgqciYmZypyPD1uKXJldHVybiBlLm1pbj1nLGU7Zz1lLm1heH19KTtyZXR1cm4gYiYmKHQ9bixhPXIsYz12b2lkIDAhPT0obz1iKS5wcmVjaXNpb24/by5wcmVjaXNpb246eSx1PW8uaW5jcmVtZW50KmEscz1vLm1pbiphLGQ9TWF0aC5wb3coMTAsYysyKSxmPSh0KmQtcypkKS8odSpkKSxsPU1hdGguZmxvb3IoZikqdStzLGk9KGw9TnVtYmVyKGwudG9GaXhlZCgxMCkpKS50b0ZpeGVkKGMpKSxpfWZ1bmN0aW9uIGgoZSl7aWYoaS5pc0VtcHR5KGUpfHwhZS5idWNrZXRzfHwhQXJyYXkuaXNBcnJheShlLmJ1Y2tldHMpKXJldHVybiExO3ZhciB0PSEwO3JldHVybiBlLmJ1Y2tldHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLm1heCYmZS5pbmNyZW1lbnR8fCh0PSExKX0pLHR9fSw0NzpmdW5jdGlvbihlLHQpe2UuZXhwb3J0cz1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX19LDQ4OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDcyKSxpPW4oNTApO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gcihpKGUpKX19LDQ5OmZ1bmN0aW9uKGUsdCl7dmFyIG49e30udG9TdHJpbmc7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBuLmNhbGwoZSkuc2xpY2UoOCwtMSl9fSw1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXtKU09OX01BUFBJTkc6e1BMX0NPREU6ImNvZGUiLFBMX1NJWkU6InNpemVzIixQTF9CSURTOiJiaWRzIixCRF9CSURERVI6ImJpZGRlciIsQkRfSUQ6InBhcmFtc2QiLEJEX1BMX0lEOiJwbGFjZW1lbnRJZCIsQURTRVJWRVJfVEFSR0VUSU5HOiJhZHNlcnZlclRhcmdldGluZyIsQkRfU0VUVElOR19TVEFOREFSRDoic3RhbmRhcmQifSxERUJVR19NT0RFOiJwYmpzX2RlYnVnIixTVEFUVVM6e0dPT0Q6MSxOT19CSUQ6Mn0sQ0I6e1RZUEU6e0FMTF9CSURTX0JBQ0s6ImFsbFJlcXVlc3RlZEJpZHNCYWNrIixBRF9VTklUX0JJRFNfQkFDSzoiYWRVbml0Qmlkc0JhY2siLEJJRF9XT046ImJpZFdvbiIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyJ9fSxFVkVOVFM6e0FVQ1RJT05fSU5JVDoiYXVjdGlvbkluaXQiLEFVQ1RJT05fRU5EOiJhdWN0aW9uRW5kIixCSURfQURKVVNUTUVOVDoiYmlkQWRqdXN0bWVudCIsQklEX1RJTUVPVVQ6ImJpZFRpbWVvdXQiLEJJRF9SRVFVRVNURUQ6ImJpZFJlcXVlc3RlZCIsQklEX1JFU1BPTlNFOiJiaWRSZXNwb25zZSIsTk9fQklEOiJub0JpZCIsQklEX1dPTjoiYmlkV29uIixCSURERVJfRE9ORToiYmlkZGVyRG9uZSIsU0VUX1RBUkdFVElORzoic2V0VGFyZ2V0aW5nIixCRUZPUkVfUkVRVUVTVF9CSURTOiJiZWZvcmVSZXF1ZXN0QmlkcyIsUkVRVUVTVF9CSURTOiJyZXF1ZXN0QmlkcyIsQUREX0FEX1VOSVRTOiJhZGRBZFVuaXRzIixBRF9SRU5ERVJfRkFJTEVEOiJhZFJlbmRlckZhaWxlZCIsVENGMl9FTkZPUkNFTUVOVDoidGNmMkVuZm9yY2VtZW50IixBVUNUSU9OX0RFQlVHOiJhdWN0aW9uRGVidWcifSxBRF9SRU5ERVJfRkFJTEVEX1JFQVNPTjp7UFJFVkVOVF9XUklUSU5HX09OX01BSU5fRE9DVU1FTlQ6InByZXZlbnRXcml0aW5nT25NYWluRG9jdWVtbnQiLE5PX0FEOiJub0FkIixFWENFUFRJT046ImV4Y2VwdGlvbiIsQ0FOTk9UX0ZJTkRfQUQ6ImNhbm5vdEZpbmRBZCIsTUlTU0lOR19ET0NfT1JfQURJRDoibWlzc2luZ0RvY09yQWRpZCJ9LEVWRU5UX0lEX1BBVEhTOntiaWRXb246ImFkVW5pdENvZGUifSxHUkFOVUxBUklUWV9PUFRJT05TOntMT1c6ImxvdyIsTUVESVVNOiJtZWRpdW0iLEhJR0g6ImhpZ2giLEFVVE86ImF1dG8iLERFTlNFOiJkZW5zZSIsQ1VTVE9NOiJjdXN0b20ifSxUQVJHRVRJTkdfS0VZUzp7QklEREVSOiJoYl9iaWRkZXIiLEFEX0lEOiJoYl9hZGlkIixQUklDRV9CVUNLRVQ6ImhiX3BiIixTSVpFOiJoYl9zaXplIixERUFMOiJoYl9kZWFsIixTT1VSQ0U6ImhiX3NvdXJjZSIsRk9STUFUOiJoYl9mb3JtYXQiLFVVSUQ6ImhiX3V1aWQiLENBQ0hFX0lEOiJoYl9jYWNoZV9pZCIsQ0FDSEVfSE9TVDoiaGJfY2FjaGVfaG9zdCJ9LE5BVElWRV9LRVlTOnt0aXRsZToiaGJfbmF0aXZlX3RpdGxlIixib2R5OiJoYl9uYXRpdmVfYm9keSIsYm9keTI6ImhiX25hdGl2ZV9ib2R5MiIscHJpdmFjeUxpbms6ImhiX25hdGl2ZV9wcml2YWN5Iixwcml2YWN5SWNvbjoiaGJfbmF0aXZlX3ByaXZpY29uIixzcG9uc29yZWRCeToiaGJfbmF0aXZlX2JyYW5kIixpbWFnZToiaGJfbmF0aXZlX2ltYWdlIixpY29uOiJoYl9uYXRpdmVfaWNvbiIsY2xpY2tVcmw6ImhiX25hdGl2ZV9saW5rdXJsIixkaXNwbGF5VXJsOiJoYl9uYXRpdmVfZGlzcGxheXVybCIsY3RhOiJoYl9uYXRpdmVfY3RhIixyYXRpbmc6ImhiX25hdGl2ZV9yYXRpbmciLGFkZHJlc3M6ImhiX25hdGl2ZV9hZGRyZXNzIixkb3dubG9hZHM6ImhiX25hdGl2ZV9kb3dubG9hZHMiLGxpa2VzOiJoYl9uYXRpdmVfbGlrZXMiLHBob25lOiJoYl9uYXRpdmVfcGhvbmUiLHByaWNlOiJoYl9uYXRpdmVfcHJpY2UiLHNhbGVQcmljZToiaGJfbmF0aXZlX3NhbGVwcmljZSJ9LFMyUzp7U1JDOiJzMnMiLERFRkFVTFRfRU5EUE9JTlQ6Imh0dHBzOi8vcHJlYmlkLmFkbnhzLmNvbS9wYnMvdjEvb3BlbnJ0YjIvYXVjdGlvbiIsU1lOQ0VEX0JJRERFUlNfS0VZOiJwYmpzU3luY3MifSxCSURfU1RBVFVTOntCSURfVEFSR0VUSU5HX1NFVDoidGFyZ2V0aW5nU2V0IixSRU5ERVJFRDoicmVuZGVyZWQiLEJJRF9SRUpFQ1RFRDoiYmlkUmVqZWN0ZWQifX19LDUwOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpdGhyb3cgVHlwZUVycm9yKCJDYW4ndCBjYWxsIG1ldGhvZCBvbiAiK2UpO3JldHVybiBlfX0sNTA2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDUwNyk7ZS5leHBvcnRzPXJ9LDUwNzpmdW5jdGlvbihlLHQsbil7big1MDgpO3ZhciByPW4oNDIpO2UuZXhwb3J0cz1yLk51bWJlci5pc0ludGVnZXJ9LDUwODpmdW5jdGlvbihlLHQsbil7bigxNCkoe3RhcmdldDoiTnVtYmVyIixzdGF0OiEwfSx7aXNJbnRlZ2VyOm4oNTA5KX0pfSw1MDk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjYpLGk9TWF0aC5mbG9vcjtlLmV4cG9ydHM9ZnVuY3Rpb24oZSl7cmV0dXJuIXIoZSkmJmlzRmluaXRlKGUpJiZpKGUpPT09ZX19LDUxOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDU5KSxpPU1hdGgubWluO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtyZXR1cm4gMDxlP2kocihlKSw5MDA3MTk5MjU0NzQwOTkxKTowfX0sNTI6ZnVuY3Rpb24oZSx0KXtlLmV4cG9ydHM9ZnVuY3Rpb24oKXt9fSw1MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyOCk7ZS5leHBvcnRzPXJ9LDU0OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPXt9fSw1NTpmdW5jdGlvbihlLHQsbil7dmFyIHIsaSxvLGEsYyx1LHMsZCxmPW4oMTE1KSxsPW4oMjUpLHA9bigyNiksZz1uKDMyKSxiPW4oMjcpLHY9big2NikseT1uKDU0KSxoPWwuV2Vha01hcDtzPWY/KHI9bmV3IGgsaT1yLmdldCxvPXIuaGFzLGE9ci5zZXQsYz1mdW5jdGlvbihlLHQpe3JldHVybiBhLmNhbGwocixlLHQpLHR9LHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGkuY2FsbChyLGUpfHx7fX0sZnVuY3Rpb24oZSl7cmV0dXJuIG8uY2FsbChyLGUpfSk6KHlbZD12KCJzdGF0ZSIpXT0hMCxjPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGcoZSxkLHQpLHR9LHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGIoZSxkKT9lW2RdOnt9fSxmdW5jdGlvbihlKXtyZXR1cm4gYihlLGQpfSksZS5leHBvcnRzPXtzZXQ6YyxnZXQ6dSxoYXM6cyxlbmZvcmNlOmZ1bmN0aW9uKGUpe3JldHVybiBzKGUpP3UoZSk6YyhlLHt9KX0sZ2V0dGVyRm9yOmZ1bmN0aW9uKG4pe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdDtpZighcChlKXx8KHQ9dShlKSkudHlwZSE9PW4pdGhyb3cgVHlwZUVycm9yKCJJbmNvbXBhdGlibGUgcmVjZWl2ZXIsICIrbisiIHJlcXVpcmVkIik7cmV0dXJuIHR9fX19LDU2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDI2KTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZighaShlKSlyZXR1cm4gZTt2YXIgbixyO2lmKHQmJiJmdW5jdGlvbiI9PXR5cGVvZihuPWUudG9TdHJpbmcpJiYhaShyPW4uY2FsbChlKSkpcmV0dXJuIHI7aWYoImZ1bmN0aW9uIj09dHlwZW9mKG49ZS52YWx1ZU9mKSYmIWkocj1uLmNhbGwoZSkpKXJldHVybiByO2lmKCF0JiYiZnVuY3Rpb24iPT10eXBlb2Yobj1lLnRvU3RyaW5nKSYmIWkocj1uLmNhbGwoZSkpKXJldHVybiByO3Rocm93IFR5cGVFcnJvcigiQ2FuJ3QgY29udmVydCBvYmplY3QgdG8gcHJpbWl0aXZlIHZhbHVlIil9fSw1NzpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihwKXt2YXIgZz0xPT1wLGI9Mj09cCx2PTM9PXAseT00PT1wLGg9Nj09cCxtPTU9PXB8fGg7cmV0dXJuIGZ1bmN0aW9uKGUsdCxuLHIpe2Zvcih2YXIgaSxvLGE9RShlKSxjPUEoYSksdT1TKHQsbiwzKSxzPU8oYy5sZW5ndGgpLGQ9MCxmPXJ8fFQsbD1nP2YoZSxzKTpiP2YoZSwwKTp2b2lkIDA7ZDxzO2QrKylpZigobXx8ZCBpbiBjKSYmKG89dShpPWNbZF0sZCxhKSxwKSlpZihnKWxbZF09bztlbHNlIGlmKG8pc3dpdGNoKHApe2Nhc2UgMzpyZXR1cm4hMDtjYXNlIDU6cmV0dXJuIGk7Y2FzZSA2OnJldHVybiBkO2Nhc2UgMjpJLmNhbGwobCxpKX1lbHNlIGlmKHkpcmV0dXJuITE7cmV0dXJuIGg/LTE6dnx8eT95Omx9fXZhciBTPW4oMjMpLEE9big3MiksRT1uKDU4KSxPPW4oNTEpLFQ9bigxMDMpLEk9W10ucHVzaDtlLmV4cG9ydHM9e2ZvckVhY2g6cigwKSxtYXA6cigxKSxmaWx0ZXI6cigyKSxzb21lOnIoMyksZXZlcnk6cig0KSxmaW5kOnIoNSksZmluZEluZGV4OnIoNil9fSw1ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9big1MCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBPYmplY3QocihlKSl9fSw1OTpmdW5jdGlvbihlLHQpe3ZhciBuPU1hdGguY2VpbCxyPU1hdGguZmxvb3I7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBpc05hTihlPStlKT8wOigwPGU/cjpuKShlKX19LDYwOmZ1bmN0aW9uKGUsdCl7dmFyIG49MCxyPU1hdGgucmFuZG9tKCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiJTeW1ib2woIitTdHJpbmcodm9pZCAwPT09ZT8iIjplKSsiKV8iKygrK24rcikudG9TdHJpbmcoMzYpfX0sNjE6ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIGEoZSl7dGhyb3cgZX12YXIgYz1uKDMwKSx1PW4oMzEpLHM9bigyNyksZD1PYmplY3QuZGVmaW5lUHJvcGVydHksZj17fTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtpZihzKGYsZSkpcmV0dXJuIGZbZV07dmFyIG49W11bZV0scj0hIXModD10fHx7fSwiQUNDRVNTT1JTIikmJnQuQUNDRVNTT1JTLGk9cyh0LDApP3RbMF06YSxvPXModCwxKT90WzFdOnZvaWQgMDtyZXR1cm4gZltlXT0hIW4mJiF1KGZ1bmN0aW9uKCl7aWYociYmIWMpcmV0dXJuITA7dmFyIGU9e2xlbmd0aDotMX07cj9kKGUsMSx7ZW51bWVyYWJsZTohMCxnZXQ6YX0pOmVbMV09MSxuLmNhbGwoZSxpLG8pfSl9fSw2MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2MyksaT1uKDM5KSxvPW4oMjApKCJpdGVyYXRvciIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXtpZihudWxsIT1lKXJldHVybiBlW29dfHxlWyJAQGl0ZXJhdG9yIl18fGlbcihlKV19fSw2MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9big2NCksaT1uKDQ5KSxvPW4oMjApKCJ0b1N0cmluZ1RhZyIpLGE9IkFyZ3VtZW50cyI9PWkoZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKTtlLmV4cG9ydHM9cj9pOmZ1bmN0aW9uKGUpe3ZhciB0LG4scjtyZXR1cm4gdm9pZCAwPT09ZT8iVW5kZWZpbmVkIjpudWxsPT09ZT8iTnVsbCI6InN0cmluZyI9PXR5cGVvZihuPWZ1bmN0aW9uKGUsdCl7dHJ5e3JldHVybiBlW3RdfWNhdGNoKGUpe319KHQ9T2JqZWN0KGUpLG8pKT9uOmE/aSh0KToiT2JqZWN0Ij09KHI9aSh0KSkmJiJmdW5jdGlvbiI9PXR5cGVvZiB0LmNhbGxlZT8iQXJndW1lbnRzIjpyfX0sNjQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXt9O3JbbigyMCkoInRvU3RyaW5nVGFnIildPSJ6IixlLmV4cG9ydHM9IltvYmplY3Qgel0iPT09U3RyaW5nKHIpfSw2NTpmdW5jdGlvbihlLHQsbil7dmFyIG89big2NCksYT1uKDMzKS5mLGM9bigzMiksdT1uKDI3KSxzPW4oMTE0KSxkPW4oMjApKCJ0b1N0cmluZ1RhZyIpO2UuZXhwb3J0cz1mdW5jdGlvbihlLHQsbixyKXt2YXIgaTtlJiYoaT1uP2U6ZS5wcm90b3R5cGUsdShpLGQpfHxhKGksZCx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KSxyJiYhbyYmYyhpLCJ0b1N0cmluZyIscykpfX0sNjY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oNzUpLGk9big2MCksbz1yKCJrZXlzIik7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBvW2VdfHwob1tlXT1pKGUpKX19LDY3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24geSgpe3JldHVybiB0aGlzfXZhciBoPW4oMTQpLG09bigxMjMpLFM9big4OCksQT1uKDEyNSksRT1uKDY1KSxPPW4oMzIpLFQ9big4Nikscj1uKDIwKSxJPW4oMTYpLEM9bigzOSksaT1uKDg3KSx3PWkuSXRlcmF0b3JQcm90b3R5cGUsaj1pLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsXz1yKCJpdGVyYXRvciIpLEI9InZhbHVlcyIsVT0iZW50cmllcyI7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuLHIsaSxvLGEpe20obix0LHIpO2Z1bmN0aW9uIGMoZSl7aWYoZT09PWkmJmIpcmV0dXJuIGI7aWYoIWomJmUgaW4gcClyZXR1cm4gcFtlXTtzd2l0Y2goZSl7Y2FzZSJrZXlzIjpjYXNlIEI6Y2FzZSBVOnJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgbih0aGlzLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG4odGhpcyl9fXZhciB1LHMsZCxmPXQrIiBJdGVyYXRvciIsbD0hMSxwPWUucHJvdG90eXBlLGc9cFtfXXx8cFsiQEBpdGVyYXRvciJdfHxpJiZwW2ldLGI9IWomJmd8fGMoaSksdj0iQXJyYXkiPT10JiZwLmVudHJpZXN8fGc7aWYodiYmKHU9Uyh2LmNhbGwobmV3IGUpKSx3IT09T2JqZWN0LnByb3RvdHlwZSYmdS5uZXh0JiYoSXx8Uyh1KT09PXd8fChBP0EodSx3KToiZnVuY3Rpb24iIT10eXBlb2YgdVtfXSYmTyh1LF8seSkpLEUodSxmLCEwLCEwKSxJJiYoQ1tmXT15KSkpLGk9PUImJmcmJmcubmFtZSE9PUImJihsPSEwLGI9ZnVuY3Rpb24oKXtyZXR1cm4gZy5jYWxsKHRoaXMpfSksSSYmIWF8fHBbX109PT1ifHxPKHAsXyxiKSxDW3RdPWIsaSlpZihzPXt2YWx1ZXM6YyhCKSxrZXlzOm8/YjpjKCJrZXlzIiksZW50cmllczpjKFUpfSxhKWZvcihkIGluIHMpIWomJiFsJiZkIGluIHB8fFQocCxkLHNbZF0pO2Vsc2UgaCh7dGFyZ2V0OnQscHJvdG86ITAsZm9yY2VkOmp8fGx9LHMpO3JldHVybiBzfX0sNjg6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYSIsZnVuY3Rpb24oKXtyZXR1cm4gb30pO3ZhciByPW4oMCksYz17fTtmdW5jdGlvbiBpKGUsdCxuKXt2YXIgcixpLG8sYT0oaT1uLG89Y1tyPWVdPWNbcl18fHtiaWRkZXJzOnt9fSxpP28uYmlkZGVyc1tpXT1vLmJpZGRlcnNbaV18fHt9Om8pO3JldHVybiBhW3RdPShhW3RdfHwwKSsxLGFbdF19dmFyIG89e2luY3JlbWVudFJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlKXtyZXR1cm4gaShlLCJyZXF1ZXN0c0NvdW50ZXIiKX0saW5jcmVtZW50QmlkZGVyUmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGkoZSwicmVxdWVzdHNDb3VudGVyIix0KX0saW5jcmVtZW50QmlkZGVyV2luc0NvdW50ZXI6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaShlLCJ3aW5zQ291bnRlciIsdCl9LGdldFJlcXVlc3RzQ291bnRlcjpmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0KHIuZGVlcEFjY2VzcykoYywiIi5jb25jYXQoZSwiLnJlcXVlc3RzQ291bnRlciIpKXx8MH0sZ2V0QmlkZGVyUmVxdWVzdHNDb3VudGVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIE9iamVjdChyLmRlZXBBY2Nlc3MpKGMsIiIuY29uY2F0KGUsIi5iaWRkZXJzLiIpLmNvbmNhdCh0LCIucmVxdWVzdHNDb3VudGVyIikpfHwwfSxnZXRCaWRkZXJXaW5zQ291bnRlcjpmdW5jdGlvbihlLHQpe3JldHVybiBPYmplY3Qoci5kZWVwQWNjZXNzKShjLCIiLmNvbmNhdChlLCIuYmlkZGVycy4iKS5jb25jYXQodCwiLndpbnNDb3VudGVyIikpfHwwfX19LDc6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtuLmQodCwiYyIsZnVuY3Rpb24oKXtyZXR1cm4gbH0pLG4uZCh0LCJkIixmdW5jdGlvbigpe3JldHVybiBwfSksdC5hPWZ1bmN0aW9uKGUpe3JldHVybiBvKHttb2R1bGVOYW1lOmUsbW9kdWxlVHlwZToiY29yZSJ9KX0sdC5iPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG8oe2d2bGlkOmUsbW9kdWxlTmFtZTp0fSl9O3ZhciByPW4oMTMpLHU9bigwKSxpPW4oMTIpLGQ9bi5uKGkpLGY9WyJjb3JlIiwicHJlYmlkLW1vZHVsZSJdLGw9W107ZnVuY3Rpb24gbyhlKXt2YXIgdD0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTp7fSxpPXQuZ3ZsaWQsbz10Lm1vZHVsZU5hbWUsYT10Lm1vZHVsZVR5cGU7ZnVuY3Rpb24gcyhuKXtpZihkKCkoZixhKSl7cmV0dXJuIG4oe3ZhbGlkOiEwfSl9dmFyIHI7cmV0dXJuIHAoaSxvLHtoYXNFbmZvcmNlbWVudEhvb2s6ITF9LGZ1bmN0aW9uKGUpe3ZhciB0O3I9ZSYmZS5oYXNFbmZvcmNlbWVudEhvb2s/bihlKToodD17aGFzRW5mb3JjZW1lbnRIb29rOiExLHZhbGlkOnUuaGFzRGV2aWNlQWNjZXNzKCl9LG4odCkpfSkscn12YXIgYz1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKGUpe2lmKGUmJmUudmFsaWQpdHJ5e3JldHVybiEhd2luZG93LmxvY2FsU3RvcmFnZX1jYXRjaChlKXt1LmxvZ0Vycm9yKCJMb2NhbCBzdG9yYWdlIGFwaSBkaXNhYmxlZCIpfXJldHVybiExfWlmKCF0fHwiZnVuY3Rpb24iIT10eXBlb2YgdClyZXR1cm4gcyhuKTtsLnB1c2goZnVuY3Rpb24oKXt2YXIgZT1zKG4pO3QoZSl9KX07cmV0dXJue3NldENvb2tpZTpmdW5jdGlvbihpLG8sYSxjLHUsdCl7ZnVuY3Rpb24gbihlKXt2YXIgdCxuLHI7ZSYmZS52YWxpZCYmKHQ9dSYmIiIhPT11PyIgO2RvbWFpbj0iLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodSkpOiIiLG49YSYmIiIhPT1hPyIgO2V4cGlyZXM9Ii5jb25jYXQoYSk6IiIscj1udWxsIT1jJiYibm9uZSI9PWMudG9Mb3dlckNhc2UoKT8iOyBTZWN1cmUiOiIiLGRvY3VtZW50LmNvb2tpZT0iIi5jb25jYXQoaSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobykpLmNvbmNhdChuLCI7IHBhdGg9LyIpLmNvbmNhdCh0KS5jb25jYXQoYz8iOyBTYW1lU2l0ZT0iLmNvbmNhdChjKToiIikuY29uY2F0KHIpKX1pZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIHMobik7bC5wdXNoKGZ1bmN0aW9uKCl7dmFyIGU9cyhuKTt0KGUpfSl9LGdldENvb2tpZTpmdW5jdGlvbihuLHQpe2Z1bmN0aW9uIHIoZSl7aWYoZSYmZS52YWxpZCl7dmFyIHQ9d2luZG93LmRvY3VtZW50LmNvb2tpZS5tYXRjaCgiKF58OylcXHMqIituKyJcXHMqPVxccyooW147XSopXFxzKig7fCQpIik7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHRbMl0pOm51bGx9cmV0dXJuIG51bGx9aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBzKHIpO2wucHVzaChmdW5jdGlvbigpe3ZhciBlPXMocik7dChlKX0pfSxsb2NhbFN0b3JhZ2VJc0VuYWJsZWQ6ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihlKXtpZihlJiZlLnZhbGlkKXRyeXtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oInByZWJpZC5jb29raWVUZXN0IiwiMSIpLCIxIj09PWxvY2FsU3RvcmFnZS5nZXRJdGVtKCJwcmViaWQuY29va2llVGVzdCIpfWNhdGNoKGUpe31yZXR1cm4hMX1pZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIHMobik7bC5wdXNoKGZ1bmN0aW9uKCl7dmFyIGU9cyhuKTt0KGUpfSl9LGNvb2tpZXNBcmVFbmFibGVkOmZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4oZSl7cmV0dXJuISghZXx8IWUudmFsaWQpJiYoISF1LmNoZWNrQ29va2llU3VwcG9ydCgpfHwod2luZG93LmRvY3VtZW50LmNvb2tpZT0icHJlYmlkLmNvb2tpZVRlc3QiLC0xIT09d2luZG93LmRvY3VtZW50LmNvb2tpZS5pbmRleE9mKCJwcmViaWQuY29va2llVGVzdCIpKSl9aWYoIXR8fCJmdW5jdGlvbiIhPXR5cGVvZiB0KXJldHVybiBzKG4pO2wucHVzaChmdW5jdGlvbigpe3ZhciBlPXMobik7dChlKX0pfSxzZXREYXRhSW5Mb2NhbFN0b3JhZ2U6ZnVuY3Rpb24odCxuLHIpe2Z1bmN0aW9uIGkoZSl7ZSYmZS52YWxpZCYmYygpJiZ3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odCxuKX1pZighcnx8ImZ1bmN0aW9uIiE9dHlwZW9mIHIpcmV0dXJuIHMoaSk7bC5wdXNoKGZ1bmN0aW9uKCl7dmFyIGU9cyhpKTtyKGUpfSl9LGdldERhdGFGcm9tTG9jYWxTdG9yYWdlOmZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcihlKXtyZXR1cm4gZSYmZS52YWxpZCYmYygpP3dpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0KTpudWxsfWlmKCFufHwiZnVuY3Rpb24iIT10eXBlb2YgbilyZXR1cm4gcyhyKTtsLnB1c2goZnVuY3Rpb24oKXt2YXIgZT1zKHIpO24oZSl9KX0scmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2U6ZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKGUpe2UmJmUudmFsaWQmJmMoKSYmd2luZG93LmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHQpfWlmKCFufHwiZnVuY3Rpb24iIT10eXBlb2YgbilyZXR1cm4gcyhyKTtsLnB1c2goZnVuY3Rpb24oKXt2YXIgZT1zKHIpO24oZSl9KX0saGFzTG9jYWxTdG9yYWdlOmMsZmluZFNpbWlsYXJDb29raWVzOmZ1bmN0aW9uKG8sdCl7ZnVuY3Rpb24gbihlKXtpZihlJiZlLnZhbGlkKXt2YXIgdD1bXTtpZih1Lmhhc0RldmljZUFjY2VzcygpKWZvcih2YXIgbj1kb2N1bWVudC5jb29raWUuc3BsaXQoIjsiKTtuLmxlbmd0aDspe3ZhciByPW4ucG9wKCksaT0oaT1yLmluZGV4T2YoIj0iKSk8MD9yLmxlbmd0aDppOzA8PWRlY29kZVVSSUNvbXBvbmVudChyLnNsaWNlKDAsaSkucmVwbGFjZSgvXlxzKy8sIiIpKS5pbmRleE9mKG8pJiZ0LnB1c2goZGVjb2RlVVJJQ29tcG9uZW50KHIuc2xpY2UoaSsxKSkpfXJldHVybiB0fX1pZighdHx8ImZ1bmN0aW9uIiE9dHlwZW9mIHQpcmV0dXJuIHMobik7bC5wdXNoKGZ1bmN0aW9uKCl7dmFyIGU9cyhuKTt0KGUpfSl9fX12YXIgcD1PYmplY3Qoci5iKSgiYXN5bmMiLGZ1bmN0aW9uKGUsdCxuLHIpe3Iobil9LCJ2YWxpZGF0ZVN0b3JhZ2VFbmZvcmNlbWVudCIpfSw3MDpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQodCwiYWRVbml0U2V0dXBDaGVja3MiLGZ1bmN0aW9uKCl7cmV0dXJuIFZ9KSxuLmQodCwiY2hlY2tBZFVuaXRTZXR1cCIsZnVuY3Rpb24oKXtyZXR1cm4gSH0pLHQuZXhlY3V0ZUNhbGxiYWNrcz1ZO3ZhciByPW4oMTkpLGk9bigwKSxvPW4oMjI4KSxhPW4oNDQpLGQ9bigzKSxFPW4oMjQpLGY9big0NSksYz1uKDEzKSx1PW4oMjI5KSxzPW4oMTIpLGw9bi5uKHMpLHA9big2OCksTz1uKDExKSxnPW4oMzQpLGI9big3KSxUPW4oNDMpO2Z1bmN0aW9uIHYoZSl7cmV0dXJuKHY9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiB5KCl7cmV0dXJuKHk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgaD1PYmplY3Qoci5hKSgpLG09big1KSxJPW4oMCksUz1uKDkpLmRlZmF1bHQsQz1uKDgpLEE9YS5hLnRyaWdnZXJVc2VyU3luY3Msdz1tLkVWRU5UUyxqPXcuQUREX0FEX1VOSVRTLF89dy5CSURfV09OLEI9dy5SRVFVRVNUX0JJRFMsVT13LlNFVF9UQVJHRVRJTkcseD13LkFEX1JFTkRFUl9GQUlMRUQsUj1tLkFEX1JFTkRFUl9GQUlMRURfUkVBU09OLGs9Ui5QUkVWRU5UX1dSSVRJTkdfT05fTUFJTl9ET0NVTUVOVCxOPVIuTk9fQUQsRD1SLkVYQ0VQVElPTixQPVIuQ0FOTk9UX0ZJTkRfQUQsTT1SLk1JU1NJTkdfRE9DX09SX0FESUQscT17YmlkV29uOmZ1bmN0aW9uKGUpe3ZhciB0PUUuYS5nZXRCaWRzUmVxdWVzdGVkKCkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KX0pLnJlZHVjZShpLmZsYXR0ZW4pLmZpbHRlcihpLnVuaXF1ZXMpO3JldHVybiEhSS5jb250YWlucyh0LGUpfHx2b2lkIEkubG9nRXJyb3IoJ1RoZSAiJytlKyciIHBsYWNlbWVudCBpcyBub3QgZGVmaW5lZC4nKX19O2Z1bmN0aW9uIEcoZSx0LG4pe2UmJihlLndpZHRoPXQsZS5oZWlnaHQ9bil9ZnVuY3Rpb24gVyhlLHQpe3ZhciBuPVtdO3JldHVybiBJLmlzQXJyYXkoZSkmJih0P2UubGVuZ3RoPT09dDowPGUubGVuZ3RoKSYmKGUuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIE9iamVjdChpLmlzQXJyYXlPZk51bXMpKGUsMil9KT9uPWU6T2JqZWN0KGkuaXNBcnJheU9mTnVtcykoZSwyKSYmbi5wdXNoKGUpKSxufWZ1bmN0aW9uIEwoZSl7dmFyIHQ9SS5kZWVwQ2xvbmUoZSksbj10Lm1lZGlhVHlwZXMuYmFubmVyLHI9VyhuLnNpemVzKTtyZXR1cm4gMDxyLmxlbmd0aD8obi5zaXplcz1yLHQuc2l6ZXM9cik6KEkubG9nRXJyb3IoIkRldGVjdGVkIGEgbWVkaWFUeXBlcy5iYW5uZXIgb2JqZWN0IHdpdGhvdXQgYSBwcm9wZXIgc2l6ZXMgZmllbGQuICBQbGVhc2UgZW5zdXJlIHRoZSBzaXplcyBhcmUgbGlzdGVkIGxpa2U6IFtbMzAwLCAyNTBdLCAuLi5dLiAgUmVtb3ZpbmcgaW52YWxpZCBtZWRpYVR5cGVzLmJhbm5lciBvYmplY3QgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMuYmFubmVyKSx0fWZ1bmN0aW9uIEYoZSl7dmFyIHQsbixyPUkuZGVlcENsb25lKGUpLGk9ci5tZWRpYVR5cGVzLnZpZGVvO3JldHVybiBpLnBsYXllclNpemUmJih0PSJudW1iZXIiPT10eXBlb2YgaS5wbGF5ZXJTaXplWzBdPzI6MSwwPChuPVcoaS5wbGF5ZXJTaXplLHQpKS5sZW5ndGg/KDI9PXQmJkkubG9nSW5mbygiVHJhbnNmb3JtaW5nIHZpZGVvLnBsYXllclNpemUgZnJvbSBbNjQwLDQ4MF0gdG8gW1s2NDAsNDgwXV0gc28gaXQncyBpbiB0aGUgcHJvcGVyIGZvcm1hdC4iKSxpLnBsYXllclNpemU9bixyLnNpemVzPW4pOihJLmxvZ0Vycm9yKCJEZXRlY3RlZCBpbmNvcnJlY3QgY29uZmlndXJhdGlvbiBvZiBtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUuICBQbGVhc2Ugc3BlY2lmeSBvbmx5IG9uZSBzZXQgb2YgZGltZW5zaW9ucyBpbiBhIGZvcm1hdCBsaWtlOiBbWzY0MCwgNDgwXV0uIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIHByb3BlcnR5IGZyb20gcmVxdWVzdC4iKSxkZWxldGUgci5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUpKSxyfWZ1bmN0aW9uIHooZSl7dmFyIHQ9SS5kZWVwQ2xvbmUoZSksbj10Lm1lZGlhVHlwZXMubmF0aXZlO3JldHVybiBuLmltYWdlJiZuLmltYWdlLnNpemVzJiYhQXJyYXkuaXNBcnJheShuLmltYWdlLnNpemVzKSYmKEkubG9nRXJyb3IoIlBsZWFzZSB1c2UgYW4gYXJyYXkgb2Ygc2l6ZXMgZm9yIG5hdGl2ZS5pbWFnZS5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2Uuc2l6ZXMgcHJvcGVydHkgZnJvbSByZXF1ZXN0LiIpLGRlbGV0ZSB0Lm1lZGlhVHlwZXMubmF0aXZlLmltYWdlLnNpemVzKSxuLmltYWdlJiZuLmltYWdlLmFzcGVjdF9yYXRpb3MmJiFBcnJheS5pc0FycmF5KG4uaW1hZ2UuYXNwZWN0X3JhdGlvcykmJihJLmxvZ0Vycm9yKCJQbGVhc2UgdXNlIGFuIGFycmF5IG9mIHNpemVzIGZvciBuYXRpdmUuaW1hZ2UuYXNwZWN0X3JhdGlvcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2UuYXNwZWN0X3JhdGlvcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaW1hZ2UuYXNwZWN0X3JhdGlvcyksbi5pY29uJiZuLmljb24uc2l6ZXMmJiFBcnJheS5pc0FycmF5KG4uaWNvbi5zaXplcykmJihJLmxvZ0Vycm9yKCJQbGVhc2UgdXNlIGFuIGFycmF5IG9mIHNpemVzIGZvciBuYXRpdmUuaWNvbi5zaXplcyBmaWVsZC4gIFJlbW92aW5nIGludmFsaWQgbWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyBwcm9wZXJ0eSBmcm9tIHJlcXVlc3QuIiksZGVsZXRlIHQubWVkaWFUeXBlcy5uYXRpdmUuaWNvbi5zaXplcyksdH13aW5kb3cudXBianMucHJlYmlkVmVyc2lvbj0iMi4yMy4wIixPYmplY3QodS5hKSgpLGguYmlkZGVyU2V0dGluZ3M9aC5iaWRkZXJTZXR0aW5nc3x8e30saC5saWJMb2FkZWQ9ITAsaC52ZXJzaW9uPSJ2NC4xNy4wIixJLmxvZ0luZm8oIlByZWJpZC5qcyB2NC4xNy4wIGxvYWRlZCIpLGguYWRVbml0cz1oLmFkVW5pdHN8fFtdLGguc2V0VXBDb29raWVGcmFtZT1mdW5jdGlvbihlKXtJLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnNldFVwQ29va2llRnJhbWUiLGFyZ3VtZW50cyksVC5lKGUpfSxoLnNldFNhZmVGcmFtZVVSTD1mdW5jdGlvbihlKXtJLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnNldFNhZmVGcmFtZVVSTCIsYXJndW1lbnRzKSxULmYoZSl9LGgub25CZWZvcmVSZXF1ZXN0PWZ1bmN0aW9uKGUpe0kubG9nSW5mbygiSW52b2tpbmcgdXBianMub25CZWZvcmVSZXF1ZXN0Iixhcmd1bWVudHMpLFQuYyhlKX0saC50cmlnZ2VyVXNlclN5bmNzPUE7dmFyIFY9e3ZhbGlkYXRlQmFubmVyTWVkaWFUeXBlOkwsdmFsaWRhdGVWaWRlb01lZGlhVHlwZTpGLHZhbGlkYXRlTmF0aXZlTWVkaWFUeXBlOnosdmFsaWRhdGVTaXplczpXfSxIPU9iamVjdChjLmIpKCJzeW5jIixmdW5jdGlvbihlKXt2YXIgYz1bXTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG89ZS5tZWRpYVR5cGVzLGE9ZS5iaWRzO2EmJkkuaXNBcnJheShhKT9vJiYwIT09T2JqZWN0LmtleXMobykubGVuZ3RoPyhvLmJhbm5lciYmKHQ9TChlKSksby52aWRlbyYmKG49Rih0fHxlKSksby5uYXRpdmUmJihyPXoobnx8KHR8fGUpKSksaT15KHt9LHQsbixyKSxjLnB1c2goaSkpOkkubG9nRXJyb3IoIkRldGVjdGVkIGFkVW5pdC5jb2RlICciLmNvbmNhdChlLmNvZGUsIicgZGlkIG5vdCBoYXZlIGEgJ21lZGlhVHlwZXMnIG9iamVjdCBkZWZpbmVkLiAgVGhpcyBpcyBhIHJlcXVpcmVkIGZpZWxkIGZvciB0aGUgYXVjdGlvbiwgc28gdGhpcyBhZFVuaXQgaGFzIGJlZW4gcmVtb3ZlZC4iKSk6SS5sb2dFcnJvcigiRGV0ZWN0ZWQgYWRVbml0LmNvZGUgJyIuY29uY2F0KGUuY29kZSwiJyBkaWQgbm90IGhhdmUgJ2FkVW5pdC5iaWRzJyBkZWZpbmVkIG9yICdhZFVuaXQuYmlkcycgaXMgbm90IGFuIGFycmF5LiBSZW1vdmluZyBhZFVuaXQgZnJvbSBhdWN0aW9uLiIpKX0pLGN9LCJjaGVja0FkVW5pdFNldHVwIik7ZnVuY3Rpb24gSyhlKXt2YXIgbj1FLmFbZV0oKS5maWx0ZXIoSS5iaW5kLmNhbGwoaS5hZFVuaXRzRmlsdGVyLHRoaXMsRS5hLmdldEFkVW5pdENvZGVzKCkpKSxyPUUuYS5nZXRMYXN0QXVjdGlvbklkKCk7cmV0dXJuIG4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGV9KS5maWx0ZXIoaS51bmlxdWVzKS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmF1Y3Rpb25JZD09PXImJmUuYWRVbml0Q29kZT09PXR9KX0pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZSYmZVswXSYmZVswXS5hZFVuaXRDb2RlfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0PXt9LG49ZVswXS5hZFVuaXRDb2RlLHI9e2JpZHM6ZX0sbiBpbiB0P09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTp0W25dPXIsdDt2YXIgdCxuLHJ9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4geShlLHQpfSx7fSl9ZnVuY3Rpb24gSihlKXt2YXIgdD1lLnJlYXNvbixuPWUubWVzc2FnZSxyPWUuYmlkLGk9ZS5pZCxvPXtyZWFzb246dCxtZXNzYWdlOm59O3ImJihvLmJpZD1yKSxpJiYoby5hZElkPWkpLEkubG9nRXJyb3IobiksQy5lbWl0KHgsbyl9ZnVuY3Rpb24gWShlLHQpe2Z1bmN0aW9uIG4oZSl7Zm9yKHZhciB0O3Q9ZS5zaGlmdCgpOyl0KCl9bihiLmMpLG4oUSksZS5jYWxsKHRoaXMsdCl9aC5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHI9ZnVuY3Rpb24oZSl7aWYoSS5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGVTdHIiLGFyZ3VtZW50cyksZSl7dmFyIHQ9aC5nZXRBZHNlcnZlclRhcmdldGluZ0ZvckFkVW5pdENvZGUoZSk7cmV0dXJuIEkudHJhbnNmb3JtQWRTZXJ2ZXJUYXJnZXRpbmdPYmoodCl9SS5sb2dNZXNzYWdlKCJOZWVkIHRvIGNhbGwgZ2V0QWRzZXJ2ZXJUYXJnZXRpbmdGb3JBZFVuaXRDb2RlU3RyIHdpdGggYWR1bml0Q29kZSIpfSxoLmdldEFkc2VydmVyVGFyZ2V0aW5nRm9yQWRVbml0Q29kZT1mdW5jdGlvbihlKXtyZXR1cm4gaC5nZXRBZHNlcnZlclRhcmdldGluZyhlKVtlXX0saC5nZXRBZHNlcnZlclRhcmdldGluZz1mdW5jdGlvbihlLHQpe3JldHVybiBJLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldEFkc2VydmVyVGFyZ2V0aW5nIixhcmd1bWVudHMpLGYuYS5nZXRBbGxUYXJnZXRpbmcoZSx0KX0saC5nZXROb0JpZHM9ZnVuY3Rpb24oKXtyZXR1cm4gSS5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5nZXROb0JpZHMiLGFyZ3VtZW50cyksSygiZ2V0Tm9CaWRzIil9LGguZ2V0Tm9CaWRzRm9yQWRVbml0Q29kZT1mdW5jdGlvbih0KXtyZXR1cm57YmlkczpFLmEuZ2V0Tm9CaWRzKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkVW5pdENvZGU9PT10fSl9fSxoLmdldEJpZFJlc3BvbnNlcz1mdW5jdGlvbigpe3JldHVybiBJLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmdldEJpZFJlc3BvbnNlcyIsYXJndW1lbnRzKSxLKCJnZXRCaWRzUmVjZWl2ZWQiKX0saC5nZXRCaWRSZXNwb25zZXNGb3JBZFVuaXRDb2RlPWZ1bmN0aW9uKHQpe3JldHVybntiaWRzOkUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRVbml0Q29kZT09PXR9KX19LGguc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmM9ZnVuY3Rpb24oZSx0LG4pe3ZhciByO0kubG9nSW5mbygiSW52b2tpbmcgdXBianMuc2V0VGFyZ2V0aW5nRm9yR1BUQXN5bmMiLGFyZ3VtZW50cyksT2JqZWN0KGkuaXNHcHRQdWJhZHNEZWZpbmVkKSgpPyhyPWYuYS5nZXRBbGxUYXJnZXRpbmcoZSx0KSxmLmEucmVzZXRQcmVzZXRUYXJnZXRpbmcoZSxuKSxmLmEuc2V0VGFyZ2V0aW5nRm9yR1BUKHIsbiksT2JqZWN0LmtleXMocikuZm9yRWFjaChmdW5jdGlvbih0KXtPYmplY3Qua2V5cyhyW3RdKS5mb3JFYWNoKGZ1bmN0aW9uKGUpeyJoYl9hZGlkIj09PWUmJkUuYS5zZXRTdGF0dXNGb3JCaWRzKHJbdF1bZV0sbS5CSURfU1RBVFVTLkJJRF9UQVJHRVRJTkdfU0VUKX0pfSksQy5lbWl0KFUscikpOkkubG9nRXJyb3IoIndpbmRvdy5nb29nbGV0YWcgaXMgbm90IGRlZmluZWQgb24gdGhlIHBhZ2UiKX0saC5zZXRUYXJnZXRpbmdGb3JBc3Q9ZnVuY3Rpb24oZSl7SS5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5zZXRUYXJnZXRpbmdGb3JBbiIsYXJndW1lbnRzKSxmLmEuaXNBcG50YWdEZWZpbmVkKCk/KGYuYS5zZXRUYXJnZXRpbmdGb3JBc3QoZSksQy5lbWl0KFUsZi5hLmdldEFsbFRhcmdldGluZygpKSk6SS5sb2dFcnJvcigid2luZG93LmFwbnRhZyBpcyBub3QgZGVmaW5lZCBvbiB0aGUgcGFnZSIpfSxoLnJlbmRlckFkPWZ1bmN0aW9uKGUsdCxuKXtJLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnJlbmRlckFkIixhcmd1bWVudHMpLEkubG9nTWVzc2FnZSgiQ2FsbGluZyByZW5kZXJBZCB3aXRoIGFkSWQgOiIrdCk7dmFyIHI9VC5iKCksaT1uJiZuLmlmcixvPXImJmkmJmkuc3JjJiZpLnNyYy5pbmNsdWRlcyhyKTtpZih0JiYoZXx8bykpdHJ5e3ZhciBhLGMsdSxzLGQsZixsLHAsZyxiLHYseSxoLG09RS5hLmZpbmRCaWRCeUFkSWQodCk7bT8obS5hZD1JLnJlcGxhY2VBdWN0aW9uUHJpY2UobS5hZCxtLmNwbSksbS5hZFVybD1JLnJlcGxhY2VBdWN0aW9uUHJpY2UobS5hZFVybCxtLmNwbSksbiYmbi5jbGlja1Rocm91Z2gmJihhPW4uY2xpY2tUaHJvdWdoLG0uYWQ9SS5yZXBsYWNlQ2xpY2tUaHJvdWdoKG0uYWQsYSksbS5hZFVybD1JLnJlcGxhY2VDbGlja1Rocm91Z2gobS5hZFVybCxhKSksRS5hLmFkZFdpbm5pbmdCaWQobSksQy5lbWl0KF8sbSksYz1tLmhlaWdodCx1PW0ud2lkdGgscz1tLmFkLGQ9bS5tZWRpYVR5cGUsZj1tLmFkVXJsLGw9bS5yZW5kZXJlcixPYmplY3QoTy5jKShsKT9PYmplY3QoTy5iKShsLG0pOmU9PT1kb2N1bWVudCYmIUkuaW5JZnJhbWUoKXx8InZpZGVvIj09PWQ/KHA9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gQWQgcmVuZGVyIGNhbGwgYWQgaWQgIi5jb25jYXQodCwiIHdhcyBwcmV2ZW50ZWQgZnJvbSB3cml0aW5nIHRvIHRoZSBtYWluIGRvY3VtZW50LiIpLEooe3JlYXNvbjprLG1lc3NhZ2U6cCxiaWQ6bSxpZDp0fSkpOnM/KG8/KHY9InRyeSB7IGlmICgiKyhnPW4mJm4uc2hvdWxkT3BlbkRvY3VtZW50KSsiKSB7IGRvY3VtZW50Lm9wZW4oJ3RleHQvaHRtbCcsICdyZXBsYWNlJyk7IH07IGRvY3VtZW50LndyaXRlKGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoYXRvYignIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzKSkpKyInKSkpKTsgZG9jdW1lbnQuY2xvc2UoKTsgfSBjYXRjaCAoZXJyb3IpIHsgfSIsaS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKHt0eXBlOiJldmFsIixjb2RlOnZ9LCIqIikpOihnJiZlLm9wZW4oInRleHQvaHRtbCIsInJlcGxhY2UiKSxlLndyaXRlKHMpLGUuY2xvc2UoKSksRyhpLHUsYyksSS5jYWxsQnVybChtKSk6Zj8oKGI9SS5jcmVhdGVJbnZpc2libGVJZnJhbWUoKSkuaGVpZ2h0PWMsYi53aWR0aD11LGIuc3R5bGUuZGlzcGxheT0iaW5saW5lIixiLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGIuc3JjPWYsbz8odj0idHJ5IHsgaWYgKCIrZysiKSB7IGRvY3VtZW50Lm9wZW4oJ3RleHQvaHRtbCcsICdyZXBsYWNlJyk7IH07IGRvY3VtZW50LndyaXRlKGRlY29kZVVSSUNvbXBvbmVudChlc2NhcGUoYXRvYignIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChiLm91dGVySFRNTCkpKSsiJykpKSk7IGRvY3VtZW50LmNsb3NlKCk7IH0gY2F0Y2ggKGVycm9yKSB7IH0iLGkuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZSh7dHlwZToiZXZhbCIsY29kZTp2fSwiKiIpKTpJLmluc2VydEVsZW1lbnQoYixlLCJib2R5IiksRyhpLHUsYyksSS5jYWxsQnVybChtKSk6KHk9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZC4gTm8gYWQgZm9yIGJpZCByZXNwb25zZSBpZDogIi5jb25jYXQodCksSih7cmVhc29uOk4sbWVzc2FnZTp5LGJpZDptLGlkOnR9KSkpOihoPSJFcnJvciB0cnlpbmcgdG8gd3JpdGUgYWQuIENhbm5vdCBmaW5kIGFkIGJ5IGdpdmVuIGlkIDogIi5jb25jYXQodCksSih7cmVhc29uOlAsbWVzc2FnZTpoLGlkOnR9KSl9Y2F0Y2goZSl7dmFyIFM9IkVycm9yIHRyeWluZyB0byB3cml0ZSBhZCBJZCA6Ii5jb25jYXQodCwiIHRvIHRoZSBwYWdlOiIpLmNvbmNhdChlLm1lc3NhZ2UpO0ooe3JlYXNvbjpELG1lc3NhZ2U6UyxpZDp0fSl9ZWxzZXt2YXIgQT0iRXJyb3IgdHJ5aW5nIHRvIHdyaXRlIGFkIElkIDoiLmNvbmNhdCh0LCIgdG8gdGhlIHBhZ2UuIE1pc3NpbmcgZG9jdW1lbnQgb3IgYWRJZCIpO0ooe3JlYXNvbjpNLG1lc3NhZ2U6QSxpZDp0fSl9fSxoLnJlbW92ZUFkVW5pdD1mdW5jdGlvbihlKXtJLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnJlbW92ZUFkVW5pdCIsYXJndW1lbnRzKSxlPyhJLmlzQXJyYXkoZSk/ZTpbZV0pLmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWguYWRVbml0cy5sZW5ndGgtMTswPD10O3QtLSloLmFkVW5pdHNbdF0uY29kZT09PWUmJmguYWRVbml0cy5zcGxpY2UodCwxKX0pOmguYWRVbml0cz1bXX0saC5yZXF1ZXN0Qmlkcz1PYmplY3QoYy5iKSgiYXN5bmMiLGZ1bmN0aW9uKCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9ZS5iaWRzQmFja0hhbmRsZXIsbj1lLnRpbWVvdXQscj1lLmFkVW5pdHMsaT1lLmFkVW5pdENvZGVzLG89ZS5sYWJlbHMsYT1lLmF1Y3Rpb25JZDtDLmVtaXQoQik7dmFyIGM9bnx8ZC5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLHI9cnx8aC5hZFVuaXRzO2lmKEkubG9nSW5mbygiSW52b2tpbmcgdXBianMucmVxdWVzdEJpZHMiLGFyZ3VtZW50cykscj1IKHIpLGkmJmkubGVuZ3RoP3I9ci5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShpLGUuY29kZSl9KTppPXImJnIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmNvZGV9KSxyLmZvckVhY2goZnVuY3Rpb24oaSl7dmFyIG89T2JqZWN0LmtleXMoaS5tZWRpYVR5cGVzfHx7YmFubmVyOiJiYW5uZXIifSksZT1pLmJpZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlcn0pLGE9Uy5iaWRkZXJSZWdpc3RyeSx0PWQuYi5nZXRDb25maWcoInMyc0NvbmZpZyIpLG49dCYmdC5iaWRkZXJzLHI9bj9lLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hbCgpKG4sZSl9KTplO2kudHJhbnNhY3Rpb25JZD1JLmdlbmVyYXRlVVVJRCgpLHIuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1hW3RdLG49ZSYmZS5nZXRTcGVjJiZlLmdldFNwZWMoKSxyPW4mJm4uc3VwcG9ydGVkTWVkaWFUeXBlc3x8WyJiYW5uZXIiXTtvLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGwoKShyLGUpfSk/cC5hLmluY3JlbWVudEJpZGRlclJlcXVlc3RzQ291bnRlcihpLmNvZGUsdCk6KEkubG9nV2FybihJLnVuc3VwcG9ydGVkQmlkZGVyTWVzc2FnZShpLHQpKSxpLmJpZHM9aS5iaWRzLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gZS5iaWRkZXIhPT10fSkpfSkscC5hLmluY3JlbWVudFJlcXVlc3RzQ291bnRlcihpLmNvZGUpfSksciYmMCE9PXIubGVuZ3RoKXt2YXIgdT1FLmEuY3JlYXRlQXVjdGlvbih7YWRVbml0czpyLGFkVW5pdENvZGVzOmksY2FsbGJhY2s6dCxjYlRpbWVvdXQ6YyxsYWJlbHM6byxhdWN0aW9uSWQ6YX0pLHM9ci5sZW5ndGg7MTU8cyYmSS5sb2dJbmZvKCJDdXJyZW50IGF1Y3Rpb24gIi5jb25jYXQodS5nZXRBdWN0aW9uSWQoKSwiIGNvbnRhaW5zICIpLmNvbmNhdChzLCIgYWRVbml0cy4iKSxyKSxpLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGYuYS5zZXRMYXRlc3RBdWN0aW9uRm9yQWRVbml0KGUsdS5nZXRBdWN0aW9uSWQoKSl9KSx1LmNhbGxCaWRzKCl9ZWxzZSBpZihJLmxvZ01lc3NhZ2UoIk5vIGFkVW5pdHMgY29uZmlndXJlZC4gTm8gYmlkcyByZXF1ZXN0ZWQuIiksImZ1bmN0aW9uIj09dHlwZW9mIHQpdHJ5e3QoKX1jYXRjaChlKXtJLmxvZ0Vycm9yKCJFcnJvciBleGVjdXRpbmcgYmlkc0JhY2tIYW5kbGVyIixudWxsLGUpfX0pLGgucmVxdWVzdEJpZHMuYmVmb3JlKFksNDkpLGguYWRkQWRVbml0cz1mdW5jdGlvbihlKXtJLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLmFkZEFkVW5pdHMiLGFyZ3VtZW50cyksSS5pc0FycmF5KGUpP2guYWRVbml0cy5wdXNoLmFwcGx5KGguYWRVbml0cyxlKToib2JqZWN0Ij09PXYoZSkmJmguYWRVbml0cy5wdXNoKGUpLEMuZW1pdChqKX0saC5vbkV2ZW50PWZ1bmN0aW9uKGUsdCxuKXtJLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLm9uRXZlbnQiLGFyZ3VtZW50cyksSS5pc0ZuKHQpPyFufHxxW2VdLmNhbGwobnVsbCxuKT9DLm9uKGUsdCxuKTpJLmxvZ0Vycm9yKCdUaGUgaWQgcHJvdmlkZWQgaXMgbm90IHZhbGlkIGZvciBldmVudCAiJytlKyciIGFuZCBubyBoYW5kbGVyIHdhcyBzZXQuJyk6SS5sb2dFcnJvcignVGhlIGV2ZW50IGhhbmRsZXIgcHJvdmlkZWQgaXMgbm90IGEgZnVuY3Rpb24gYW5kIHdhcyBub3Qgc2V0IG9uIGV2ZW50ICInK2UrJyIuJyl9LGgub2ZmRXZlbnQ9ZnVuY3Rpb24oZSx0LG4pe0kubG9nSW5mbygiSW52b2tpbmcgdXBianMub2ZmRXZlbnQiLGFyZ3VtZW50cyksbiYmIXFbZV0uY2FsbChudWxsLG4pfHxDLm9mZihlLHQsbil9LGguZ2V0RXZlbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIEkubG9nSW5mbygiSW52b2tpbmcgdXBianMuZ2V0RXZlbnRzIiksQy5nZXRFdmVudHMoKX0saC5yZWdpc3RlckJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0KXtJLmxvZ0luZm8oIkludm9raW5nIHVwYmpzLnJlZ2lzdGVyQmlkQWRhcHRlciIsYXJndW1lbnRzKTt0cnl7Uy5yZWdpc3RlckJpZEFkYXB0ZXIoZSgpLHQpfWNhdGNoKGUpe0kubG9nRXJyb3IoIkVycm9yIHJlZ2lzdGVyaW5nIGJpZGRlciBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0saC5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXI9ZnVuY3Rpb24oZSl7SS5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5yZWdpc3RlckFuYWx5dGljc0FkYXB0ZXIiLGFyZ3VtZW50cyk7dHJ5e1MucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyKGUpfWNhdGNoKGUpe0kubG9nRXJyb3IoIkVycm9yIHJlZ2lzdGVyaW5nIGFuYWx5dGljcyBhZGFwdGVyIDogIitlLm1lc3NhZ2UpfX0saC5jcmVhdGVCaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIEkubG9nSW5mbygiSW52b2tpbmcgdXBianMuY3JlYXRlQmlkIixhcmd1bWVudHMpLE9iamVjdChnLmEpKGUpfTt2YXIgUT1bXSwkPU9iamVjdChjLmIpKCJhc3luYyIsZnVuY3Rpb24oZSl7ZSYmIUkuaXNFbXB0eShlKT8oSS5sb2dJbmZvKCJJbnZva2luZyB1cGJqcy5lbmFibGVBbmFseXRpY3MgZm9yOiAiLGUpLFMuZW5hYmxlQW5hbHl0aWNzKGUpKTpJLmxvZ0Vycm9yKCJ1cGJqcy5lbmFibGVBbmFseXRpY3Mgc2hvdWxkIGJlIGNhbGxlZCB3aXRoIG9wdGlvbiB7fSIpfSwiZW5hYmxlQW5hbHl0aWNzQ2IiKTtmdW5jdGlvbiBYKGUpe2UuZm9yRWFjaChmdW5jdGlvbihlKXtpZih2b2lkIDA9PT1lLmNhbGxlZCl0cnl7ZS5jYWxsKCksZS5jYWxsZWQ9ITB9Y2F0Y2goZSl7SS5sb2dFcnJvcigiRXJyb3IgcHJvY2Vzc2luZyBjb21tYW5kIDoiLCJwcmViaWQuanMiLGUpfX0pfWguZW5hYmxlQW5hbHl0aWNzPWZ1bmN0aW9uKGUpe1EucHVzaCgkLmJpbmQodGhpcyxlKSl9LGguYWxpYXNCaWRkZXI9ZnVuY3Rpb24oZSx0LG4pe0kubG9nSW5mbygiSW52b2tpbmcgdXBianMuYWxpYXNCaWRkZXIiLGFyZ3VtZW50cyksZSYmdD9TLmFsaWFzQmlkQWRhcHRlcihlLHQsbik6SS5sb2dFcnJvcigiYmlkZGVyQ29kZSBhbmQgYWxpYXMgbXVzdCBiZSBwYXNzZWQgYXMgYXJndW1lbnRzIiwidXBianMuYWxpYXNCaWRkZXIiKX0saC5nZXRBbGxXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiBFLmEuZ2V0QWxsV2lubmluZ0JpZHMoKX0saC5nZXRBbGxQcmViaWRXaW5uaW5nQmlkcz1mdW5jdGlvbigpe3JldHVybiBFLmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN0YXR1cz09PW0uQklEX1NUQVRVUy5CSURfVEFSR0VUSU5HX1NFVH0pfSxoLmdldEhpZ2hlc3RDcG1CaWRzPWZ1bmN0aW9uKGUpe3JldHVybiBmLmEuZ2V0V2lubmluZ0JpZHMoZSl9LGgubWFya1dpbm5pbmdCaWRBc1VzZWQ9ZnVuY3Rpb24odCl7dmFyIGU9W107dC5hZFVuaXRDb2RlJiZ0LmFkSWQ/ZT1FLmEuZ2V0Qmlkc1JlY2VpdmVkKCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLmFkSWQ9PT10LmFkSWQmJmUuYWRVbml0Q29kZT09PXQuYWRVbml0Q29kZX0pOnQuYWRVbml0Q29kZT9lPWYuYS5nZXRXaW5uaW5nQmlkcyh0LmFkVW5pdENvZGUpOnQuYWRJZD9lPUUuYS5nZXRCaWRzUmVjZWl2ZWQoKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYWRJZD09PXQuYWRJZH0pOkkubG9nV2FybigiSW1wcm9wZXIgdXNlIG9mIG1hcmtXaW5uaW5nQmlkQXNVc2VkLiBJdCBuZWVkcyBhbiBhZFVuaXRDb2RlIG9yIGFuIGFkSWQgdG8gZnVuY3Rpb24uIiksMDxlLmxlbmd0aCYmKGVbMF0uc3RhdHVzPW0uQklEX1NUQVRVUy5SRU5ERVJFRCl9LGguZ2V0Q29uZmlnPWQuYi5nZXRDb25maWcsaC5zZXRDb25maWc9ZC5iLnNldENvbmZpZyxoLnNldEJpZGRlckNvbmZpZz1kLmIuc2V0QmlkZGVyQ29uZmlnLGgucXVlLnB1c2goZnVuY3Rpb24oKXtyZXR1cm4gT2JqZWN0KG8uYSkoKX0pLGguY21kLnB1c2g9ZnVuY3Rpb24oZSl7aWYoImZ1bmN0aW9uIj09dHlwZW9mIGUpdHJ5e2UuY2FsbCgpfWNhdGNoKGUpe0kubG9nRXJyb3IoIkVycm9yIHByb2Nlc3NpbmcgY29tbWFuZCA6IixlLm1lc3NhZ2UsZS5zdGFjayl9ZWxzZSBJLmxvZ0Vycm9yKCJDb21tYW5kcyB3cml0dGVuIGludG8gdXBianMuY21kLnB1c2ggbXVzdCBiZSB3cmFwcGVkIGluIGEgZnVuY3Rpb24iKX0saC5xdWUucHVzaD1oLmNtZC5wdXNoLGgucHJvY2Vzc1F1ZXVlPWZ1bmN0aW9uKCl7Yy5iLnJlYWR5KCksWChoLnF1ZSksWChoLmNtZCl9LHQuZGVmYXVsdD1ofSw3MTpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbih0LG4pe28uYWRTZXJ2ZXJzPW8uYWRTZXJ2ZXJzfHx7fSxvLmFkU2VydmVyc1t0XT1vLmFkU2VydmVyc1t0XXx8e30sT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbihlKXtvLmFkU2VydmVyc1t0XVtlXT9PYmplY3QoaS5sb2dXYXJuKSgiQXR0ZW1wdGluZyB0byBhZGQgYW4gYWxyZWFkeSByZWdpc3RlcmVkIGZ1bmN0aW9uIHByb3BlcnR5ICIuY29uY2F0KGUsIiBmb3IgQWRTZXJ2ZXIgIikuY29uY2F0KHQsIi4iKSk6by5hZFNlcnZlcnNbdF1bZV09bltlXX0pfTt2YXIgcj1uKDE5KSxpPW4oMCksbz1PYmplY3Qoci5hKSgpfSw3MjpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMSksaT1uKDQ5KSxvPSIiLnNwbGl0O2UuZXhwb3J0cz1yKGZ1bmN0aW9uKCl7cmV0dXJuIU9iamVjdCgieiIpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApfSk/ZnVuY3Rpb24oZSl7cmV0dXJuIlN0cmluZyI9PWkoZSk/by5jYWxsKGUsIiIpOk9iamVjdChlKX06T2JqZWN0fSw3MzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMCksaT1uKDMxKSxvPW4oNzQpO2UuZXhwb3J0cz0hciYmIWkoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KG8oImRpdiIpLCJhIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSkuYX0pfSw3NDpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNSksaT1uKDI2KSxvPXIuZG9jdW1lbnQsYT1pKG8pJiZpKG8uY3JlYXRlRWxlbWVudCk7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiBhP28uY3JlYXRlRWxlbWVudChlKTp7fX19LDc1OmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE2KSxpPW4oNzYpOyhlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gaVtlXXx8KGlbZV09dm9pZCAwIT09dD90Ont9KX0pKCJ2ZXJzaW9ucyIsW10pLnB1c2goe3ZlcnNpb246IjMuNi40Iixtb2RlOnI/InB1cmUiOiJnbG9iYWwiLGNvcHlyaWdodDoiwqkgMjAyMCBEZW5pcyBQdXNoa2FyZXYgKHpsb2lyb2NrLnJ1KSJ9KX0sNzY6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjUpLGk9bigxMDUpLG89Il9fY29yZS1qc19zaGFyZWRfXyIsYT1yW29dfHxpKG8se30pO2UuZXhwb3J0cz1hfSw3NzpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigzMSk7ZS5leHBvcnRzPSEhT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmIXIoZnVuY3Rpb24oKXtyZXR1cm4hU3RyaW5nKFN5bWJvbCgpKX0pfSw3ODpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcihjKXtyZXR1cm4gZnVuY3Rpb24oZSx0LG4pe3ZhciByLGk9dShlKSxvPXMoaS5sZW5ndGgpLGE9ZChuLG8pO2lmKGMmJnQhPXQpe2Zvcig7YTxvOylpZigocj1pW2ErK10pIT1yKXJldHVybiEwfWVsc2UgZm9yKDthPG87YSsrKWlmKChjfHxhIGluIGkpJiZpW2FdPT09dClyZXR1cm4gY3x8YXx8MDtyZXR1cm4hYyYmLTF9fXZhciB1PW4oNDgpLHM9big1MSksZD1uKDEwOSk7ZS5leHBvcnRzPXtpbmNsdWRlczpyKCEwKSxpbmRleE9mOnIoITEpfX0sNzk6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTEwKTtuKDEzMyksbigxMzUpLG4oMTM3KSxuKDEzOSksbigxNDEpLG4oMTQyKSxuKDE0MyksbigxNDQpLG4oMTQ1KSxuKDE0NiksbigxNDcpLG4oMTQ4KSxuKDE0OSksbigxNTApLG4oMTUxKSxuKDE1MiksbigxNTMpLG4oMTU0KSxlLmV4cG9ydHM9cn0sODpmdW5jdGlvbihlLHQsbil7ZnVuY3Rpb24gcigpe3JldHVybihyPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIGMsaSx1PW4oMCksbz1uKDUpLGE9QXJyYXkucHJvdG90eXBlLnNsaWNlLHM9QXJyYXkucHJvdG90eXBlLnB1c2gsZD11Ll9tYXAoby5FVkVOVFMsZnVuY3Rpb24oZSl7cmV0dXJuIGV9KSxmPW8uRVZFTlRfSURfUEFUSFMsbD1bXTtlLmV4cG9ydHM9KGM9e30sKGk9e30pLm9uPWZ1bmN0aW9uKGUsdCxuKXt2YXIgcixpO2k9ZSx1LmNvbnRhaW5zKGQsaSk/KHI9Y1tlXXx8e3F1ZTpbXX0sbj8ocltuXT1yW25dfHx7cXVlOltdfSxyW25dLnF1ZS5wdXNoKHQpKTpyLnF1ZS5wdXNoKHQpLGNbZV09cik6dS5sb2dFcnJvcigiV3JvbmcgZXZlbnQgbmFtZSA6ICIrZSsiIFZhbGlkIGV2ZW50IG5hbWVzIDoiK2QpfSxpLmVtaXQ9ZnVuY3Rpb24oZSl7IWZ1bmN0aW9uKGUsdCl7dS5sb2dNZXNzYWdlKCJFbWl0dGluZyBldmVudCBmb3I6ICIrZSk7dmFyIG49dFswXXx8e30scj1uW2ZbZV1dLGk9Y1tlXXx8e3F1ZTpbXX0sbz11Ll9tYXAoaSxmdW5jdGlvbihlLHQpe3JldHVybiB0fSksYT1bXTtsLnB1c2goe2V2ZW50VHlwZTplLGFyZ3M6bixpZDpyLGVsYXBzZWRUaW1lOnUuZ2V0UGVyZm9ybWFuY2VOb3coKX0pLHImJnUuY29udGFpbnMobyxyKSYmcy5hcHBseShhLGlbcl0ucXVlKSxzLmFwcGx5KGEsaS5xdWUpLHUuX2VhY2goYSxmdW5jdGlvbihlKXtpZihlKXRyeXtlLmFwcGx5KG51bGwsdCl9Y2F0Y2goZSl7dS5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGhhbmRsZXI6IiwiZXZlbnRzLmpzIixlKX19KX0oZSxhLmNhbGwoYXJndW1lbnRzLDEpKX0saS5vZmY9ZnVuY3Rpb24oZSxuLHIpe3ZhciBpPWNbZV07dS5pc0VtcHR5KGkpfHx1LmlzRW1wdHkoaS5xdWUpJiZ1LmlzRW1wdHkoaVtyXSl8fHImJih1LmlzRW1wdHkoaVtyXSl8fHUuaXNFbXB0eShpW3JdLnF1ZSkpfHwocj91Ll9lYWNoKGlbcl0ucXVlLGZ1bmN0aW9uKGUpe3ZhciB0PWlbcl0ucXVlO2U9PT1uJiZ0LnNwbGljZSh0LmluZGV4T2YoZSksMSl9KTp1Ll9lYWNoKGkucXVlLGZ1bmN0aW9uKGUpe3ZhciB0PWkucXVlO2U9PT1uJiZ0LnNwbGljZSh0LmluZGV4T2YoZSksMSl9KSxjW2VdPWkpfSxpLmdldD1mdW5jdGlvbigpe3JldHVybiBjfSxpLmdldEV2ZW50cz1mdW5jdGlvbigpe3ZhciBuPVtdO3JldHVybiB1Ll9lYWNoKGwsZnVuY3Rpb24oZSl7dmFyIHQ9cih7fSxlKTtuLnB1c2godCl9KSxufSxpKX0sODA6ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoZSl7YyhlLGQse3ZhbHVlOntvYmplY3RJRDoiTyIrICsrZix3ZWFrRGF0YTp7fX19KX12YXIgaT1uKDU0KSxvPW4oMjYpLGE9bigyNyksYz1uKDMzKS5mLHU9big2MCkscz1uKDExMyksZD11KCJtZXRhIiksZj0wLGw9T2JqZWN0LmlzRXh0ZW5zaWJsZXx8ZnVuY3Rpb24oKXtyZXR1cm4hMH0scD1lLmV4cG9ydHM9e1JFUVVJUkVEOiExLGZhc3RLZXk6ZnVuY3Rpb24oZSx0KXtpZighbyhlKSlyZXR1cm4ic3ltYm9sIj09dHlwZW9mIGU/ZTooInN0cmluZyI9PXR5cGVvZiBlPyJTIjoiUCIpK2U7aWYoIWEoZSxkKSl7aWYoIWwoZSkpcmV0dXJuIkYiO2lmKCF0KXJldHVybiJFIjtyKGUpfXJldHVybiBlW2RdLm9iamVjdElEfSxnZXRXZWFrRGF0YTpmdW5jdGlvbihlLHQpe2lmKCFhKGUsZCkpe2lmKCFsKGUpKXJldHVybiEwO2lmKCF0KXJldHVybiExO3IoZSl9cmV0dXJuIGVbZF0ud2Vha0RhdGF9LG9uRnJlZXplOmZ1bmN0aW9uKGUpe3JldHVybiBzJiZwLlJFUVVJUkVEJiZsKGUpJiYhYShlLGQpJiZyKGUpLGV9fTtpW2RdPSEwfSw4MTpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyMCksaT1uKDM5KSxvPXIoIml0ZXJhdG9yIiksYT1BcnJheS5wcm90b3R5cGU7ZS5leHBvcnRzPWZ1bmN0aW9uKGUpe3JldHVybiB2b2lkIDAhPT1lJiYoaS5BcnJheT09PWV8fGFbb109PT1lKX19LDgyOmZ1bmN0aW9uKGUsdCxuKXt2YXIgbz1uKDE1KTtlLmV4cG9ydHM9ZnVuY3Rpb24odCxlLG4scil7dHJ5e3JldHVybiByP2UobyhuKVswXSxuWzFdKTplKG4pfWNhdGNoKGUpe3ZhciBpPXQucmV0dXJuO3Rocm93IHZvaWQgMCE9PWkmJm8oaS5jYWxsKHQpKSxlfX19LDgzOmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCxuKXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBUeXBlRXJyb3IoIkluY29ycmVjdCAiKyhuP24rIiAiOiIiKSsiaW52b2NhdGlvbiIpO3JldHVybiBlfX0sODQ6ZnVuY3Rpb24oZSx0LG4pe2Z1bmN0aW9uIHIoKXt9ZnVuY3Rpb24gaShlKXtyZXR1cm4iPHNjcmlwdD4iK2UrIjwvIitnKyI+In12YXIgbyxhPW4oMTUpLGM9bigxMTgpLHU9big4NSkscz1uKDU0KSxkPW4oMTIxKSxmPW4oNzQpLGw9big2NikscD0icHJvdG90eXBlIixnPSJzY3JpcHQiLGI9bCgiSUVfUFJPVE8iKSx2PWZ1bmN0aW9uKCl7dHJ5e289ZG9jdW1lbnQuZG9tYWluJiZuZXcgQWN0aXZlWE9iamVjdCgiaHRtbGZpbGUiKX1jYXRjaChlKXt9dmFyIGUsdDt2PW8/ZnVuY3Rpb24oZSl7ZS53cml0ZShpKCIiKSksZS5jbG9zZSgpO3ZhciB0PWUucGFyZW50V2luZG93Lk9iamVjdDtyZXR1cm4gZT1udWxsLHR9KG8pOigodD1mKCJpZnJhbWUiKSkuc3R5bGUuZGlzcGxheT0ibm9uZSIsZC5hcHBlbmRDaGlsZCh0KSx0LnNyYz1TdHJpbmcoImphdmFzY3JpcHQ6IiksKGU9dC5jb250ZW50V2luZG93LmRvY3VtZW50KS5vcGVuKCksZS53cml0ZShpKCJkb2N1bWVudC5GPU9iamVjdCIpKSxlLmNsb3NlKCksZS5GKTtmb3IodmFyIG49dS5sZW5ndGg7bi0tOylkZWxldGUgdltwXVt1W25dXTtyZXR1cm4gdigpfTtzW2JdPSEwLGUuZXhwb3J0cz1PYmplY3QuY3JlYXRlfHxmdW5jdGlvbihlLHQpe3ZhciBuO3JldHVybiBudWxsIT09ZT8ocltwXT1hKGUpLG49bmV3IHIscltwXT1udWxsLG5bYl09ZSk6bj12KCksdm9pZCAwPT09dD9uOmMobix0KX19LDg1OmZ1bmN0aW9uKGUsdCl7ZS5leHBvcnRzPVsiY29uc3RydWN0b3IiLCJoYXNPd25Qcm9wZXJ0eSIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvTG9jYWxlU3RyaW5nIiwidG9TdHJpbmciLCJ2YWx1ZU9mIl19LDg2OmZ1bmN0aW9uKGUsdCxuKXt2YXIgaT1uKDMyKTtlLmV4cG9ydHM9ZnVuY3Rpb24oZSx0LG4scil7ciYmci5lbnVtZXJhYmxlP2VbdF09bjppKGUsdCxuKX19LDg3OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHIsaSxvLGE9big4OCksYz1uKDMyKSx1PW4oMjcpLHM9bigyMCksZD1uKDE2KSxmPXMoIml0ZXJhdG9yIiksbD0hMTtbXS5rZXlzJiYoIm5leHQiaW4obz1bXS5rZXlzKCkpPyhpPWEoYShvKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmKHI9aSk6bD0hMCksbnVsbD09ciYmKHI9e30pLGR8fHUocixmKXx8YyhyLGYsZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGUuZXhwb3J0cz17SXRlcmF0b3JQcm90b3R5cGU6cixCVUdHWV9TQUZBUklfSVRFUkFUT1JTOmx9fSw4ODpmdW5jdGlvbihlLHQsbil7dmFyIHI9bigyNyksaT1uKDU4KSxvPW4oNjYpLGE9bigxMjQpLGM9bygiSUVfUFJPVE8iKSx1PU9iamVjdC5wcm90b3R5cGU7ZS5leHBvcnRzPWE/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3JldHVybiBlPWkoZSkscihlLGMpP2VbY106ImZ1bmN0aW9uIj09dHlwZW9mIGUuY29uc3RydWN0b3ImJmUgaW5zdGFuY2VvZiBlLmNvbnN0cnVjdG9yP2UuY29uc3RydWN0b3IucHJvdG90eXBlOmUgaW5zdGFuY2VvZiBPYmplY3Q/dTpudWxsfX0sODk6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt2YXIgaT1uKDEyOSkuY2hhckF0LHI9big1NSksbz1uKDY3KSxhPSJTdHJpbmcgSXRlcmF0b3IiLGM9ci5zZXQsdT1yLmdldHRlckZvcihhKTtvKFN0cmluZywiU3RyaW5nIixmdW5jdGlvbihlKXtjKHRoaXMse3R5cGU6YSxzdHJpbmc6U3RyaW5nKGUpLGluZGV4OjB9KX0sZnVuY3Rpb24oKXt2YXIgZSx0PXUodGhpcyksbj10LnN0cmluZyxyPXQuaW5kZXg7cmV0dXJuIHI+PW4ubGVuZ3RoP3t2YWx1ZTp2b2lkIDAsZG9uZTohMH06KGU9aShuLHIpLHQuaW5kZXgrPWUubGVuZ3RoLHt2YWx1ZTplLGRvbmU6ITF9KX0pfSw5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJnZHByRGF0YUhhbmRsZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIFJ9KSxuLmQodCwidXNwRGF0YUhhbmRsZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIGt9KSx0LnNldFMyU1Rlc3RpbmdNb2R1bGU9ZnVuY3Rpb24oZSl7ST1lfTt2YXIgUz1uKDApLHA9big5MyksZz1uKDM3KSxsPW4oMSksaD1uKDQpLEE9bigzKSxyPW4oMTMpLGk9bigxMiksRT1uLm4oaSksbz1uKDEwKSxPPW4ubihvKSxiPW4oNjgpLFQ9bigyMSk7ZnVuY3Rpb24gbShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFN5bWJvbHx8IShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKSlyZXR1cm47dmFyIG49W10scj0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEsYz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKHI9KGE9Yy5uZXh0KCkpLmRvbmUpJiYobi5wdXNoKGEudmFsdWUpLCF0fHxuLmxlbmd0aCE9PXQpO3I9ITApO31jYXRjaChlKXtpPSEwLG89ZX1maW5hbGx5e3RyeXtyfHxudWxsPT1jLnJldHVybnx8Yy5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319cmV0dXJuIG59KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gYShlLHQpO3ZhciBuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PW4mJmUuY29uc3RydWN0b3ImJihuPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1ufHwiU2V0Ij09PW4pcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1ufHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSlyZXR1cm4gYShlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYShlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgbj0wLHI9bmV3IEFycmF5KHQpO248dDtuKyspcltuXT1lW25dO3JldHVybiByfWZ1bmN0aW9uIHYoKXtyZXR1cm4odj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgbj1hcmd1bWVudHNbdF07Zm9yKHZhciByIGluIG4pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4scikmJihlW3JdPW5bcl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBJLEM9bigwKSx3PW4oNSksaj1uKDgpLHk9e30sXz15LmJpZGRlclJlZ2lzdHJ5PXt9LEI9eS5hbGlhc1JlZ2lzdHJ5PXt9LFU9e307QS5iLmdldENvbmZpZygiczJzQ29uZmlnIixmdW5jdGlvbihlKXtVPWUuczJzQ29uZmlnfSk7dmFyIGM9e307dmFyIHg9T2JqZWN0KHIuYikoInN5bmMiLGZ1bmN0aW9uKGUpe3ZhciBpPWUuYmlkZGVyQ29kZSxzPWUuYXVjdGlvbklkLGQ9ZS5iaWRkZXJSZXF1ZXN0SWQsdD1lLmFkVW5pdHMsZj1lLmxhYmVscyxsPWUuc3JjO3JldHVybiB0LnJlZHVjZShmdW5jdGlvbihlLGMpe3ZhciB0PU9iamVjdChwLmIpKE9iamVjdChwLmEpKGMsZiksYy5tZWRpYVR5cGVzLGMuc2l6ZXMpLG49dC5hY3RpdmUsdT10Lm1lZGlhVHlwZXMscj10LmZpbHRlclJlc3VsdHM7cmV0dXJuIG4/ciYmQy5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZmlsdGVyZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyIgYmFubmVyIHNpemVzIGZyb20gJyksci5iZWZvcmUsInRvICIsci5hZnRlcik6Qy5sb2dJbmZvKCdTaXplIG1hcHBpbmcgZGlzYWJsZWQgYWRVbml0ICInLmNvbmNhdChjLmNvZGUsJyInKSksbiYmZS5wdXNoKGMuYmlkcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkZGVyPT09aX0pLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciBuPWMubmF0aXZlUGFyYW1zfHxDLmRlZXBBY2Nlc3MoYywibWVkaWFUeXBlcy5uYXRpdmUiKTtuJiYodD12KHt9LHQse25hdGl2ZVBhcmFtczpPYmplY3QoZy5nKShuKX0pKSx0PXYoe30sdCxPYmplY3QoUy5nZXREZWZpbmVkUGFyYW1zKShjLFsiZnBkIiwibWVkaWFUeXBlIiwicmVuZGVyZXIiLCJzdG9yZWRBdWN0aW9uUmVzcG9uc2UiXSkpO3ZhciByPU9iamVjdChwLmIpKE9iamVjdChwLmEpKHQsZiksdSksaT1yLmFjdGl2ZSxvPXIubWVkaWFUeXBlcyxhPXIuZmlsdGVyUmVzdWx0cztyZXR1cm4gaT9hJiZDLmxvZ0luZm8oJ1NpemUgbWFwcGluZyBmaWx0ZXJlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIiBiaWRkZXIgIicpLmNvbmNhdCh0LmJpZGRlciwnIiBiYW5uZXIgc2l6ZXMgZnJvbSAnKSxhLmJlZm9yZSwidG8gIixhLmFmdGVyKTpDLmxvZ0luZm8oJ1NpemUgbWFwcGluZyBkZWFjdGl2YXRlZCBhZFVuaXQgIicuY29uY2F0KGMuY29kZSwnIiBiaWRkZXIgIicpLmNvbmNhdCh0LmJpZGRlciwnIicpKSxDLmlzVmFsaWRNZWRpYVR5cGVzKG8pP3Q9dih7fSx0LHttZWRpYVR5cGVzOm99KTpDLmxvZ0Vycm9yKCJtZWRpYVR5cGVzIGlzIG5vdCBjb3JyZWN0bHkgY29uZmlndXJlZCBmb3IgYWR1bml0ICIuY29uY2F0KGMuY29kZSkpLGkmJmUucHVzaCh2KHt9LHQse2FkVW5pdENvZGU6Yy5jb2RlLHRyYW5zYWN0aW9uSWQ6Yy50cmFuc2FjdGlvbklkLHNpemVzOkMuZGVlcEFjY2VzcyhvLCJiYW5uZXIuc2l6ZXMiKXx8Qy5kZWVwQWNjZXNzKG8sInZpZGVvLnBsYXllclNpemUiKXx8W10sYmlkSWQ6dC5iaWRfaWR8fEMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGJpZGRlclJlcXVlc3RJZDpkLGF1Y3Rpb25JZDpzLHNyYzpsLGJpZFJlcXVlc3RzQ291bnQ6Yi5hLmdldFJlcXVlc3RzQ291bnRlcihjLmNvZGUpLGJpZGRlclJlcXVlc3RzQ291bnQ6Yi5hLmdldEJpZGRlclJlcXVlc3RzQ291bnRlcihjLmNvZGUsdC5iaWRkZXIpLGJpZGRlcldpbnNDb3VudDpiLmEuZ2V0QmlkZGVyV2luc0NvdW50ZXIoYy5jb2RlLHQuYmlkZGVyKX0pKSxlfSxbXSkpLGV9LFtdKS5yZWR1Y2UoUy5mbGF0dGVuLFtdKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIiIhPT1lfSl9LCJnZXRCaWRzIik7dmFyIFI9e2NvbnNlbnREYXRhOm51bGwsc2V0Q29uc2VudERhdGE6ZnVuY3Rpb24oZSl7Ui5jb25zZW50RGF0YT1lfSxnZXRDb25zZW50RGF0YTpmdW5jdGlvbigpe3JldHVybiBSLmNvbnNlbnREYXRhfX0saz17Y29uc2VudERhdGE6bnVsbCxzZXRDb25zZW50RGF0YTpmdW5jdGlvbihlKXtrLmNvbnNlbnREYXRhPWV9LGdldENvbnNlbnREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIGsuY29uc2VudERhdGF9fTtmdW5jdGlvbiBOKCl7cmV0dXJuIFUmJlUuZW5hYmxlZCYmVS50ZXN0aW5nJiZJfWZ1bmN0aW9uIHUodCxuLGUpe3RyeXt2YXIgcj1fW3RdLmdldFNwZWMoKTtyJiZyW25dJiYiZnVuY3Rpb24iPT10eXBlb2YgcltuXSYmKEMubG9nSW5mbygiSW52b2tpbmcgIi5jb25jYXQodCwiLiIpLmNvbmNhdChuKSksQS5iLnJ1bldpdGhCaWRkZXIodCxTLmJpbmQuY2FsbChyW25dLHIsZSkpKX1jYXRjaChlKXtDLmxvZ1dhcm4oIkVycm9yIGNhbGxpbmcgIi5jb25jYXQobiwiIG9mICIpLmNvbmNhdCh0KSl9fXkubWFrZUJpZFJlcXVlc3RzPU9iamVjdChyLmIpKCJzeW5jIixmdW5jdGlvbihlLGksbyxhLGMpe2ouZW1pdCh3LkVWRU5UUy5CRUZPUkVfUkVRVUVTVF9CSURTLGUpO3ZhciB1PVtdLHQ9T2JqZWN0KFMuZ2V0QmlkZGVyQ29kZXMpKGUpO0EuYi5nZXRDb25maWcoImJpZGRlclNlcXVlbmNlIik9PT1BLmEmJih0PU9iamVjdChTLnNodWZmbGUpKHQpKTt2YXIgbixyLHMsZCxmLGwscCxnPU9iamVjdChULmEpKCksYj10LHY9W107VS5lbmFibGVkJiYoTigpJiYodj1JLmdldFNvdXJjZUJpZGRlck1hcChlKVtJLkNMSUVOVF0pLG49VS5iaWRkZXJzLGI9dC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIUUoKShuLGUpfHxFKCkodixlKX0pLEJvb2xlYW4oTigpJiZVLnRlc3RTZXJ2ZXJPbmx5KSYmKHA9ZSxCb29sZWFuKE8oKShwLGZ1bmN0aW9uKGUpe3JldHVybiBPKCkoZS5iaWRzLGZ1bmN0aW9uKGUpe3JldHVybihlLmJpZFNvdXJjZXx8VS5iaWRkZXJDb250cm9sJiZVLmJpZGRlckNvbnRyb2xbZS5iaWRkZXJdKSYmZS5maW5hbFNvdXJjZT09PUkuU0VSVkVSfSl9KSkpJiYoYi5sZW5ndGg9MCksZD1lLGY9VS5iaWRkZXJzLChsPUMuZGVlcENsb25lKGQpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuYmlkcz1lLmJpZHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBFKCkoZixlLmJpZGRlcikmJighTigpfHxlLmZpbmFsU291cmNlIT09SS5DTElFTlQpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZF9pZD1DLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxlfSl9KSxyPWw9bC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIDAhPT1lLmJpZHMubGVuZ3RofSkscz1DLmdlbmVyYXRlVVVJRCgpLG4uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1DLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxuPXtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm8sYmlkZGVyUmVxdWVzdElkOnQsdGlkOnMsYmlkczp4KHtiaWRkZXJDb2RlOmUsYXVjdGlvbklkOm8sYmlkZGVyUmVxdWVzdElkOnQsYWRVbml0czpDLmRlZXBDbG9uZShyKSxsYWJlbHM6YyxzcmM6dy5TMlMuU1JDfSksYXVjdGlvblN0YXJ0OmksdGltZW91dDpVLnRpbWVvdXQsc3JjOncuUzJTLlNSQyxyZWZlcmVySW5mbzpnfTswIT09bi5iaWRzLmxlbmd0aCYmdS5wdXNoKG4pfSksci5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PWUuYmlkcy5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE8oKSh1LGZ1bmN0aW9uKGUpe3JldHVybiBPKCkoZS5iaWRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZElkPT09dC5iaWRfaWR9KX0pfSk7ZS5iaWRzPXR9KSx1LmZvckVhY2goZnVuY3Rpb24oZSl7ZS5hZFVuaXRzUzJTQ29weT1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMDxlLmJpZHMubGVuZ3RofSl9KSk7dmFyIHksaCxtPSh5PWUsKGg9Qy5kZWVwQ2xvbmUoeSkpLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5iaWRzPWUuYmlkcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIU4oKXx8ZS5maW5hbFNvdXJjZSE9PUkuU0VSVkVSfSl9KSxoPWguZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiAwIT09ZS5iaWRzLmxlbmd0aH0pKTtyZXR1cm4gYi5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PUMuZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLG49e2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6byxiaWRkZXJSZXF1ZXN0SWQ6dCxiaWRzOngoe2JpZGRlckNvZGU6ZSxhdWN0aW9uSWQ6byxiaWRkZXJSZXF1ZXN0SWQ6dCxhZFVuaXRzOkMuZGVlcENsb25lKG0pLGxhYmVsczpjLHNyYzoiY2xpZW50In0pLGF1Y3Rpb25TdGFydDppLHRpbWVvdXQ6YSxyZWZlcmVySW5mbzpnfSxyPV9bZV07cnx8Qy5sb2dFcnJvcigiVHJ5aW5nIHRvIG1ha2UgYSByZXF1ZXN0IGZvciBiaWRkZXIgdGhhdCBkb2VzIG5vdCBleGlzdDogIi5jb25jYXQoZSkpLHImJm4uYmlkcyYmMCE9PW4uYmlkcy5sZW5ndGgmJnUucHVzaChuKX0pLFIuZ2V0Q29uc2VudERhdGEoKSYmdS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UuZ2RwckNvbnNlbnQ9Ui5nZXRDb25zZW50RGF0YSgpfSksay5nZXRDb25zZW50RGF0YSgpJiZ1LmZvckVhY2goZnVuY3Rpb24oZSl7ZS51c3BDb25zZW50PWsuZ2V0Q29uc2VudERhdGEoKX0pLHV9LCJtYWtlQmlkUmVxdWVzdHMiKSx5LmNhbGxCaWRzPWZ1bmN0aW9uKGUsdCxpLG8sYSxjLHUpe3ZhciBuLHIscyxkLGYsbCxwLGcsYix2LHk7dC5sZW5ndGg/KHI9KG49bSh0LnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlW051bWJlcih2b2lkIDAhPT10LnNyYyYmdC5zcmM9PT13LlMyUy5TUkMpXS5wdXNoKHQpLGV9LFtbXSxbXV0pLDIpKVswXSwocz1uWzFdKS5sZW5ndGgmJihkPU9iamVjdChoLmIpKGMsYT97cmVxdWVzdDphLnJlcXVlc3QuYmluZChudWxsLCJzMnMiKSxkb25lOmEuZG9uZX06dm9pZCAwKSxmPVUuYmlkZGVycyxsPV9bVS5hZGFwdGVyXSxwPXNbMF0udGlkLGc9c1swXS5hZFVuaXRzUzJTQ29weSxsPyhiPXt0aWQ6cCxhZF91bml0czpnfSkuYWRfdW5pdHMubGVuZ3RoJiYodj1zLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5zdGFydD1PYmplY3QoUy50aW1lc3RhbXApKCksby5iaW5kKGUpfSkseT1iLmFkX3VuaXRzLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiBlLmNvbmNhdCgodC5iaWRzfHxbXSkucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY29uY2F0KHQuYmlkZGVyKX0sW10pKX0sW10pLEMubG9nTWVzc2FnZSgiQ0FMTElORyBTMlMgSEVBREVSIEJJRERFUlMgPT09PSAiLmNvbmNhdChmLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gRSgpKHksZSl9KS5qb2luKCIsIikpKSxzLmZvckVhY2goZnVuY3Rpb24oZSl7ai5lbWl0KHcuRVZFTlRTLkJJRF9SRVFVRVNURUQsZSl9KSxsLmNhbGxCaWRzKGIscyxmdW5jdGlvbihlLHQpe3ZhciBuPU9iamVjdChTLmdldEJpZGRlclJlcXVlc3QpKHMsdC5iaWRkZXJDb2RlLGUpO24mJmkuY2FsbChuLGUsdCl9LGZ1bmN0aW9uKCl7cmV0dXJuIHYuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZSgpfSl9LGQpKTpDLmxvZ0Vycm9yKCJtaXNzaW5nICIrVS5hZGFwdGVyKSksci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Quc3RhcnQ9T2JqZWN0KFMudGltZXN0YW1wKSgpO3ZhciBlPV9bdC5iaWRkZXJDb2RlXTtDLmxvZ01lc3NhZ2UoIkNBTExJTkcgQklEREVSID09PT09PT0gIi5jb25jYXQodC5iaWRkZXJDb2RlKSksai5lbWl0KHcuRVZFTlRTLkJJRF9SRVFVRVNURUQsdCk7dmFyIG49T2JqZWN0KGguYikoYyxhP3tyZXF1ZXN0OmEucmVxdWVzdC5iaW5kKG51bGwsdC5iaWRkZXJDb2RlKSxkb25lOmEuZG9uZX06dm9pZCAwKSxyPW8uYmluZCh0KTt0cnl7QS5iLnJ1bldpdGhCaWRkZXIodC5iaWRkZXJDb2RlLFMuYmluZC5jYWxsKGUuY2FsbEJpZHMsZSx0LGkuYmluZCh0KSxyLG4sdSxBLmIuY2FsbGJhY2tXaXRoQmlkZGVyKHQuYmlkZGVyQ29kZSkpKX1jYXRjaChlKXtDLmxvZ0Vycm9yKCIiLmNvbmNhdCh0LmJpZGRlckNvZGUsIiBCaWQgQWRhcHRlciBlbWl0dGVkIGFuIHVuY2F1Z2h0IGVycm9yIHdoZW4gcGFyc2luZyB0aGVpciBiaWRSZXF1ZXN0Iikse2U6ZSxiaWRSZXF1ZXN0OnR9KSxyKCl9fSkpOkMubG9nV2FybigiY2FsbEJpZHMgZXhlY3V0ZWQgd2l0aCBubyBiaWRSZXF1ZXN0cy4gIFdlcmUgdGhleSBmaWx0ZXJlZCBieSBsYWJlbHMgb3Igc2l6aW5nPyIpfSx5LnZpZGVvQWRhcHRlcnM9W10seS5yZWdpc3RlckJpZEFkYXB0ZXI9ZnVuY3Rpb24oZSx0KXt2YXIgbj0oMjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9KS5zdXBwb3J0ZWRNZWRpYVR5cGVzLHI9dm9pZCAwPT09bj9bXTpuO2UmJnQ/ImZ1bmN0aW9uIj09dHlwZW9mIGUuY2FsbEJpZHM/KF9bdF09ZSxFKCkociwidmlkZW8iKSYmeS52aWRlb0FkYXB0ZXJzLnB1c2godCksRSgpKHIsIm5hdGl2ZSIpJiZnLmUucHVzaCh0KSk6Qy5sb2dFcnJvcigiQmlkZGVyIGFkYXB0b3IgZXJyb3IgZm9yIGJpZGRlciBjb2RlOiAiK3QrImJpZGRlciBtdXN0IGltcGxlbWVudCBhIGNhbGxCaWRzKCkgZnVuY3Rpb24iKTpDLmxvZ0Vycm9yKCJiaWRBZGFwdG9yIG9yIGJpZGRlckNvZGUgbm90IHNwZWNpZmllZCIpfSx5LmFsaWFzQmlkQWRhcHRlcj1mdW5jdGlvbih0LGUsbil7dmFyIHIsaTtpZih2b2lkIDA9PT1fW2VdKXt2YXIgbz1fW3RdO2lmKHZvaWQgMD09PW8pe3ZhciBhPUEuYi5nZXRDb25maWcoInMyc0NvbmZpZyIpLGM9YSYmYS5iaWRkZXJzO2MmJkUoKShjLGUpP0JbZV09dDpDLmxvZ0Vycm9yKCdiaWRkZXJDb2RlICInK3QrJyIgaXMgbm90IGFuIGV4aXN0aW5nIGJpZGRlci4nLCJhZGFwdGVyTWFuYWdlci5hbGlhc0JpZEFkYXB0ZXIiKX1lbHNlIHRyeXt2YXIgdSxzLGQsZj0ocj10LGk9W10sRSgpKHkudmlkZW9BZGFwdGVycyxyKSYmaS5wdXNoKCJ2aWRlbyIpLEUoKShnLmUscikmJmkucHVzaCgibmF0aXZlIiksaSk7by5jb25zdHJ1Y3Rvci5wcm90b3R5cGUhPU9iamVjdC5wcm90b3R5cGU/KGQ9bmV3IG8uY29uc3RydWN0b3IpLnNldEJpZGRlckNvZGUoZSk6KHU9by5nZXRTcGVjKCkscz1uJiZuLmd2bGlkLGQ9T2JqZWN0KGwubmV3QmlkZGVyKSh2KHt9LHUse2NvZGU6ZSxndmxpZDpzfSkpLEJbZV09dCkseS5yZWdpc3RlckJpZEFkYXB0ZXIoZCxlLHtzdXBwb3J0ZWRNZWRpYVR5cGVzOmZ9KX1jYXRjaChlKXtDLmxvZ0Vycm9yKHQrIiBiaWRkZXIgZG9lcyBub3QgY3VycmVudGx5IHN1cHBvcnQgYWxpYXNpbmcuIiwiYWRhcHRlck1hbmFnZXIuYWxpYXNCaWRBZGFwdGVyIil9fWVsc2UgQy5sb2dNZXNzYWdlKCdhbGlhcyBuYW1lICInK2UrJyIgaGFzIGJlZW4gYWxyZWFkeSBzcGVjaWZpZWQuJyl9LHkucmVnaXN0ZXJBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe3ZhciB0PWUuYWRhcHRlcixuPWUuY29kZSxyPWUuZ3ZsaWQ7dCYmbj8iZnVuY3Rpb24iPT10eXBlb2YgdC5lbmFibGVBbmFseXRpY3M/KHQuY29kZT1uLGNbbl09e2FkYXB0ZXI6dCxndmxpZDpyfSk6Qy5sb2dFcnJvcignUHJlYmlkIEVycm9yOiBBbmFseXRpY3MgYWRhcHRvciBlcnJvciBmb3IgYW5hbHl0aWNzICInLmNvbmNhdChuLCciXG4gICAgICAgIGFuYWx5dGljcyBhZGFwdGVyIG11c3QgaW1wbGVtZW50IGFuIGVuYWJsZUFuYWx5dGljcygpIGZ1bmN0aW9uJykpOkMubG9nRXJyb3IoIlByZWJpZCBFcnJvcjogYW5hbHl0aWNzQWRhcHRlciBvciBhbmFseXRpY3NDb2RlIG5vdCBzcGVjaWZpZWQiKX0seS5lbmFibGVBbmFseXRpY3M9ZnVuY3Rpb24oZSl7Qy5pc0FycmF5KGUpfHwoZT1bZV0pLEMuX2VhY2goZSxmdW5jdGlvbihlKXt2YXIgdD1jW2UucHJvdmlkZXJdLmFkYXB0ZXI7dD90LmVuYWJsZUFuYWx5dGljcyhlKTpDLmxvZ0Vycm9yKCJQcmViaWQgRXJyb3I6IG5vIGFuYWx5dGljcyBhZGFwdGVyIGZvdW5kIGluIHJlZ2lzdHJ5IGZvclxuICAgICAgICAiLmNvbmNhdChlLnByb3ZpZGVyLCIuIikpfSl9LHkuZ2V0QmlkQWRhcHRlcj1mdW5jdGlvbihlKXtyZXR1cm4gX1tlXX0seS5nZXRBbmFseXRpY3NBZGFwdGVyPWZ1bmN0aW9uKGUpe3JldHVybiBjW2VdfSx5LmNhbGxUaW1lZE91dEJpZGRlcnM9ZnVuY3Rpb24odCxuLHIpe249bi5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zPUMuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXModCxlLmFkVW5pdENvZGUsZS5iaWRkZXIpLGUudGltZW91dD1yLGV9KSxuPUMuZ3JvdXBCeShuLCJiaWRkZXIiKSxPYmplY3Qua2V5cyhuKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3UoZSwib25UaW1lb3V0IixuW2VdKX0pfSx5LmNhbGxCaWRXb25CaWRkZXI9ZnVuY3Rpb24oZSx0LG4pe3QucGFyYW1zPUMuZ2V0VXNlckNvbmZpZ3VyZWRQYXJhbXMobix0LmFkVW5pdENvZGUsdC5iaWRkZXIpLGIuYS5pbmNyZW1lbnRCaWRkZXJXaW5zQ291bnRlcih0LmFkVW5pdENvZGUsdC5iaWRkZXIpLHUoZSwib25CaWRXb24iLHQpfSx5LmNhbGxTZXRUYXJnZXRpbmdCaWRkZXI9ZnVuY3Rpb24oZSx0KXt1KGUsIm9uU2V0VGFyZ2V0aW5nIix0KX0sdC5kZWZhdWx0PXl9LDkwOmZ1bmN0aW9uKGUsdCxuKXt2YXIgcj1uKDE1KSxpPW4oNjIpO2UuZXhwb3J0cz1mdW5jdGlvbihlKXt2YXIgdD1pKGUpO2lmKCJmdW5jdGlvbiIhPXR5cGVvZiB0KXRocm93IFR5cGVFcnJvcihTdHJpbmcoZSkrIiBpcyBub3QgaXRlcmFibGUiKTtyZXR1cm4gcih0LmNhbGwoZSkpfX0sOTE6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMTU1KTtlLmV4cG9ydHM9cn0sOTE2OmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big3MCl9LDkyOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dC5hPWZ1bmN0aW9uKGUpe3ZhciB0PWU7cmV0dXJue2NhbGxCaWRzOmZ1bmN0aW9uKCl7fSxzZXRCaWRkZXJDb2RlOmZ1bmN0aW9uKGUpe3Q9ZX0sZ2V0QmlkZGVyQ29kZTpmdW5jdGlvbigpe3JldHVybiB0fX19fSw5MzpmdW5jdGlvbihlLHQsbil7InVzZSBzdHJpY3QiO3QuYT1mdW5jdGlvbihlLHQpe2lmKGUubGFiZWxBbGwpcmV0dXJue2xhYmVsQWxsOiEwLGxhYmVsczplLmxhYmVsQWxsLGFjdGl2ZUxhYmVsczp0fTtyZXR1cm57bGFiZWxBbGw6ITEsbGFiZWxzOmUubGFiZWxBbnksYWN0aXZlTGFiZWxzOnR9fSx0LmM9ZnVuY3Rpb24oZSl7dmFyIHQ9digxPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06Yik7cmV0dXJuIXQuc2hvdWxkRmlsdGVyfHwhIXQuc2l6ZXNTdXBwb3J0ZWRbZV19LHQuYj1mdW5jdGlvbigpe3ZhciBlPTA8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWUubGFiZWxzLG49dm9pZCAwPT09dD9bXTp0LHI9ZS5sYWJlbEFsbCxpPXZvaWQgMCE9PXImJnIsbz1lLmFjdGl2ZUxhYmVscyxhPXZvaWQgMD09PW8/W106byxjPTE8YXJndW1lbnRzLmxlbmd0aD9hcmd1bWVudHNbMV06dm9pZCAwLHU9Mjxhcmd1bWVudHMubGVuZ3RoP2FyZ3VtZW50c1syXTp2b2lkIDAscz12KDM8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpiKTtjPU9iamVjdChwLmlzUGxhaW5PYmplY3QpKGMpP09iamVjdChwLmRlZXBDbG9uZSkoYyk6dT97YmFubmVyOntzaXplczp1fX06e307dmFyIGQ9T2JqZWN0KHAuZGVlcEFjY2VzcykoYywiYmFubmVyLnNpemVzIik7cy5zaG91bGRGaWx0ZXImJmQmJihjLmJhbm5lci5zaXplcz1kLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gcy5zaXplc1N1cHBvcnRlZFtlXX0pKTt2YXIgZj1PYmplY3Qua2V5cyhjKSxsPXthY3RpdmU6Zi5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIiE9PWV9KXx8Zi5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09ZX0pJiYwPE9iamVjdChwLmRlZXBBY2Nlc3MpKGMsImJhbm5lci5zaXplcy5sZW5ndGgiKSYmKDA9PT1uLmxlbmd0aHx8IWkmJihuLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIHMubGFiZWxzW2VdfSl8fG4uc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZygpKGEsZSl9KSl8fGkmJm4ucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU/cy5sYWJlbHNbdF18fGcoKShhLHQpOmV9LCEwKSksbWVkaWFUeXBlczpjfTtkJiZkLmxlbmd0aCE9PWMuYmFubmVyLnNpemVzLmxlbmd0aCYmKGwuZmlsdGVyUmVzdWx0cz17YmVmb3JlOmQsYWZ0ZXI6Yy5iYW5uZXIuc2l6ZXN9KTtyZXR1cm4gbH07dmFyIHI9bigzKSxwPW4oMCksaT1uKDEyKSxnPW4ubihpKTtmdW5jdGlvbiBvKGUpe3JldHVybihvPSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGI9W107ZnVuY3Rpb24gdihlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24obixyKXtpZigib2JqZWN0Ij09PW8ocikmJiJzdHJpbmciPT10eXBlb2Ygci5tZWRpYVF1ZXJ5KXt2YXIgdD0hMTtpZigiIj09PXIubWVkaWFRdWVyeSl0PSEwO2Vsc2UgdHJ5e3Q9T2JqZWN0KHAuZ2V0V2luZG93VG9wKSgpLm1hdGNoTWVkaWEoci5tZWRpYVF1ZXJ5KS5tYXRjaGVzfWNhdGNoKGUpe09iamVjdChwLmxvZ1dhcm4pKCJVbmZyaWVuZGx5IGlGcmFtZSBibG9ja3Mgc2l6ZUNvbmZpZyBmcm9tIGJlaW5nIGNvcnJlY3RseSBldmFsdWF0ZWQiKSx0PW1hdGNoTWVkaWEoci5tZWRpYVF1ZXJ5KS5tYXRjaGVzfXQmJihBcnJheS5pc0FycmF5KHIuc2l6ZXNTdXBwb3J0ZWQpJiYobi5zaG91bGRGaWx0ZXI9ITApLFsibGFiZWxzIiwic2l6ZXNTdXBwb3J0ZWQiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3JldHVybihyW3RdfHxbXSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gblt0XVtlXT0hMH0pfSkpfWVsc2UgT2JqZWN0KHAubG9nV2FybikoJ3NpemVDb25maWcgcnVsZSBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnR5ICJtZWRpYVF1ZXJ5IicpO3JldHVybiBufSx7bGFiZWxzOnt9LHNpemVzU3VwcG9ydGVkOnt9LHNob3VsZEZpbHRlcjohMX0pfXIuYi5nZXRDb25maWcoInNpemVDb25maWciLGZ1bmN0aW9uKGUpe3JldHVybiB0PWUuc2l6ZUNvbmZpZyx2b2lkKGI9dCk7dmFyIHR9KX0sOTQ6ZnVuY3Rpb24oZSx0LG4pe3ZhciByPW4oMjIwKTtlLmV4cG9ydHM9cn0sOTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmI9ZnVuY3Rpb24oZSx0LG4pe3ZhciByPXtwdXRzOmUubWFwKGMsbil9O09iamVjdChpLmEpKG8uYi5nZXRDb25maWcoImNhY2hlLnVybCIpLGZ1bmN0aW9uKG4pe3JldHVybntzdWNjZXNzOmZ1bmN0aW9uKGUpe3ZhciB0O3RyeXt0PUpTT04ucGFyc2UoZSkucmVzcG9uc2VzfWNhdGNoKGUpe3JldHVybiB2b2lkIG4oZSxbXSl9dD9uKG51bGwsdCk6bihuZXcgRXJyb3IoIlRoZSBjYWNoZSBzZXJ2ZXIgZGlkbid0IHJlc3BvbmQgd2l0aCBhIHJlc3BvbnNlcyBwcm9wZXJ0eS4iKSxbXSl9LGVycm9yOmZ1bmN0aW9uKGUsdCl7bihuZXcgRXJyb3IoIkVycm9yIHN0b3JpbmcgdmlkZW8gYWQgaW4gdGhlIGNhY2hlOiAiLmNvbmNhdChlLCI6ICIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0KSkpLFtdKX19fSh0KSxKU09OLnN0cmluZ2lmeShyKSx7Y29udGVudFR5cGU6InRleHQvcGxhaW4iLHdpdGhDcmVkZW50aWFsczohMH0pfSx0LmE9ZnVuY3Rpb24oZSl7cmV0dXJuIiIuY29uY2F0KG8uYi5nZXRDb25maWcoImNhY2hlLnVybCIpLCI/dXVpZD0iKS5jb25jYXQoZSl9O3ZhciBpPW4oNCksbz1uKDMpLGE9bigwKTtmdW5jdGlvbiBjKGUpe3ZhciB0LG4scixpPXt0eXBlOiJ4bWwiLHZhbHVlOmUudmFzdFhtbD9lLnZhc3RYbWw6KHQ9ZS52YXN0VXJsLG49ZS52YXN0SW1wVXJsLHI9bj8iPCFbQ0RBVEFbIi5jb25jYXQobiwiXV0+Iik6IiIsJzxWQVNUIHZlcnNpb249IjMuMCI+XG4gICAgPEFkPlxuICAgICAgPFdyYXBwZXI+XG4gICAgICAgIDxBZFN5c3RlbT5wcmViaWQub3JnIHdyYXBwZXI8L0FkU3lzdGVtPlxuICAgICAgICA8VkFTVEFkVGFnVVJJPjwhW0NEQVRBWycuY29uY2F0KHQsIl1dPjwvVkFTVEFkVGFnVVJJPlxuICAgICAgICA8SW1wcmVzc2lvbj4iKS5jb25jYXQociwiPC9JbXByZXNzaW9uPlxuICAgICAgICA8Q3JlYXRpdmVzPjwvQ3JlYXRpdmVzPlxuICAgICAgPC9XcmFwcGVyPlxuICAgIDwvQWQ+XG4gIDwvVkFTVD4iKSksdHRsc2Vjb25kczpOdW1iZXIoZS50dGwpfTtyZXR1cm4gby5iLmdldENvbmZpZygiY2FjaGUudmFzdHRyYWNrIikmJihpLmJpZGRlcj1lLmJpZGRlcixpLmJpZGlkPWUucmVxdWVzdElkLGEuaXNQbGFpbk9iamVjdCh0aGlzKSYmdGhpcy5oYXNPd25Qcm9wZXJ0eSgiYXVjdGlvblN0YXJ0IikmJihpLnRpbWVzdGFtcD10aGlzLmF1Y3Rpb25TdGFydCkpLCJzdHJpbmciPT10eXBlb2YgZS5jdXN0b21DYWNoZUtleSYmIiIhPT1lLmN1c3RvbUNhY2hlS2V5JiYoaS5rZXk9ZS5jdXN0b21DYWNoZUtleSksaX19LDk4OmZ1bmN0aW9uKGUsdCxuKXtuKDk5KTt2YXIgcj1uKDUzKTtlLmV4cG9ydHM9cigiQXJyYXkiLCJmaW5kIil9LDk5OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7dmFyIHI9bigxNCksaT1uKDU3KS5maW5kLG89big1MiksYT1uKDYxKSxjPSJmaW5kIix1PSEwLHM9YShjKTtjIGluW10mJkFycmF5KDEpLmZpbmQoZnVuY3Rpb24oKXt1PSExfSkscih7dGFyZ2V0OiJBcnJheSIscHJvdG86ITAsZm9yY2VkOnV8fCFzfSx7ZmluZDpmdW5jdGlvbihlLHQpe3JldHVybiBpKHRoaXMsZSwxPGFyZ3VtZW50cy5sZW5ndGg/dDp2b2lkIDApfX0pLG8oYyl9fSk7CnVwYmpzQ2h1bmsoWzM2NF0sezE2NDpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoMTY1KX0sMTY1OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBJfSk7dmFyIG49cigxKSxwPXIoMyksdT1yKDApLGw9cigyKTtmdW5jdGlvbiBmKCl7cmV0dXJuKGY9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9YXJndW1lbnRzW3RdO2Zvcih2YXIgbiBpbiByKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyLG4pJiYoZVtuXT1yW25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBhKHQsZSl7dmFyIHIsbj1PYmplY3Qua2V5cyh0KTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmKHI9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KSxlJiYocj1yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4scikpLG59ZnVuY3Rpb24gbShpKXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9hKE9iamVjdChvKSwhMCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxyLG47dD1pLG49b1tyPWVdLHIgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtyXT1ufSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6YShPYmplY3QobykpLmZvckVhY2goZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sZSkpfSl9cmV0dXJuIGl9dmFyIGk9IjMzYWNyb3NzIixjPSJodHRwczovL3NzYy4zM2Fjcm9zcy5jb20vYXBpL3YxL2hiIixiPSJodHRwczovL3NzYy1jbXMuMzNhY3Jvc3MuY29tL3BzLz9tPXhjaCZydD1odG1sJnJ1PWRlYiIsbz0iVVNEIixzPS9eW2EtekEtWjAtOV8tXXsyMn0kLyxoPXtTSUFCOiJzaWFiIixJTlZJRVc6ImludmlldyIsSU5TVFJFQU06Imluc3RyZWFtIn0sZz1bIm1pbWVzIiwibWluZHVyYXRpb24iLCJtYXhkdXJhdGlvbiIsInBsYWNlbWVudCIsInByb3RvY29scyIsInN0YXJ0ZGVsYXkiLCJza2lwIiwic2tpcGFmdGVyIiwibWluYml0cmF0ZSIsIm1heGJpdHJhdGUiLCJkZWxpdmVyeSIsInBsYXliYWNrbWV0aG9kIiwiYXBpIiwibGluZWFyaXR5Il0sZD17dW5pcXVlU2l0ZUlkczpbXX0seT0ibm0iO2Z1bmN0aW9uIHYoZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19ZnVuY3Rpb24gQShlKXt2YXIgdD1lLnBhcmFtcyxyPWUubWVkaWFUeXBlcyxuPXIuYmFubmVyLGk9ci52aWRlbztyZXR1cm4gaSYmIW4mJiJpbnN0cmVhbSI9PT1pLmNvbnRleHQ/aC5JTlNUUkVBTTp0LnByb2R1Y3RJZD09PWguSU5WSUVXP3QucHJvZHVjdElkOmguU0lBQn1mdW5jdGlvbiB3KGUsdCxyKXt2YXIgbj1lLmdldEZsb29yKHtjdXJyZW5jeTpvLG1lZGlhVHlwZTpyLHNpemU6W3Qudyx0LmhdfSk7aWYoIWlzTmFOKG4uZmxvb3IpJiZuLmN1cnJlbmN5PT09bylyZXR1cm4gbi5mbG9vcn12YXIgST17Tk9OX01FQVNVUkFCTEU6eSxjb2RlOmksc3VwcG9ydGVkTWVkaWFUeXBlczpbbC5iLGwuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuKG49ZSkuYmlkZGVyPT09aSYmdm9pZCAwIT09bi5wYXJhbXMmJiEhZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT0odS5kZWVwQWNjZXNzKGUsInBhcmFtcy5zaXRlSWQiLCIiKXx8IiIpLnRyaW0oKS5tYXRjaChzKX0obikmJih0PWUsdm9pZCAwPT09KHI9dS5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMuYmFubmVyIikpfHwhIUFycmF5LmlzQXJyYXkoci5zaXplcykpJiZmdW5jdGlvbihlKXt2YXIgdD11LmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpLHI9dS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIse30pO2lmKHZvaWQgMD09PXQpcmV0dXJuITA7aWYoIUFycmF5LmlzQXJyYXkodC5wbGF5ZXJTaXplKSlyZXR1cm4hMTtpZighdC5jb250ZXh0KXJldHVybiExO3ZhciBuPW0obSh7fSx0KSxyKTtyZXR1cm4hKCFBcnJheS5pc0FycmF5KG4ubWltZXMpfHwwPT09bi5taW1lcy5sZW5ndGgpJiYoISghQXJyYXkuaXNBcnJheShuLnByb3RvY29scyl8fDA9PT1uLnByb3RvY29scy5sZW5ndGgpJiYoKHZvaWQgMD09PW4ucGxhY2VtZW50fHwibnVtYmVyIj09dHlwZW9mIG4ucGxhY2VtZW50KSYmKCJpbnN0cmVhbSIhPT10LmNvbnRleHR8fHZvaWQgMD09PW4uc3RhcnRkZWxheXx8Im51bWJlciI9PXR5cGVvZiBuLnN0YXJ0ZGVsYXkpKSl9KGUpO3ZhciB0LHIsbn0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciByPWYoe2NvbnNlbnRTdHJpbmc6dm9pZCAwLGdkcHJBcHBsaWVzOiExfSx0JiZ0LmdkcHJDb25zZW50KSxuPXQmJnQudXNwQ29uc2VudCxpPXQmJnQucmVmZXJlckluZm8/dC5yZWZlcmVySW5mby5yZWZlcmVyOnZvaWQgMDtyZXR1cm4gZC51bmlxdWVTaXRlSWRzPWUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5zaXRlSWR9KS5maWx0ZXIodS51bmlxdWVzKSxlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5iaWRSZXF1ZXN0LHI9ZS5nZHByQ29uc2VudCxuPXZvaWQgMD09PXI/e306cixpPWUudXNwQ29uc2VudCxvPWUucGFnZVVybCxhPXt9LHM9dC5wYXJhbXM7YS5pbXA9W3t9XSx1LmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy5iYW5uZXIiKSYmKGEuaW1wWzBdLmJhbm5lcj1tKHt9LGZ1bmN0aW9uKG4pe3ZhciBlLHQ9dS5kZWVwQWNjZXNzKG4sIm1lZGlhVHlwZXMuYmFubmVyIix7fSkscj1mdW5jdGlvbihlKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSl8fGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZ1bmN0aW9uKGUpe2lmKHUuaXNHcHRQdWJhZHNEZWZpbmVkKCkpZm9yKHZhciB0PWdvb2dsZXRhZy5wdWJhZHMoKS5nZXRTbG90cygpLHI9dS5pc1Nsb3RNYXRjaGluZ0FkVW5pdENvZGUoZSksbj0wO248dC5sZW5ndGg7bisrKWlmKHIodFtuXSkpe3ZhciBpPXRbbl0uZ2V0U2xvdEVsZW1lbnRJZCgpO3JldHVybiB1LmxvZ0luZm8oIlszM0Fjcm9zcyBBZGFwdGVyXSBNYXAgYWQgdW5pdCBwYXRoIHRvIEhUTUwgZWxlbWVudCBpZDogJyIuY29uY2F0KGUsIicgLT4gIikuY29uY2F0KGkpKSxpfXJldHVybiB1LmxvZ1dhcm4oIlszM0Fjcm9zcyBBZGFwdGVyXSBVbmFibGUgdG8gbG9jYXRlIGVsZW1lbnQgZm9yIGFkIHVuaXQgY29kZTogJyIuY29uY2F0KGUsIiciKSksbnVsbH0oZSkpfShuLmFkVW5pdENvZGUpLGk9ZnVuY3Rpb24oZSl7cmV0dXJuIXUuaXNBcnJheShlKXx8MiE9PWUubGVuZ3RofHx1LmlzQXJyYXkoZVswXSk/ZS5tYXAodik6W3YoZSldfSh0LnNpemVzKTtlPSJmdW5jdGlvbiI9PXR5cGVvZiBuLmdldEZsb29yP2kubWFwKGZ1bmN0aW9uKGUpe3ZhciB0LHI9dyhuLGUsbC5iKTtyZXR1cm4gciYmKHQ9e2V4dDp7dHR4OntiaWRmbG9vcnM6W3JdfX19KSxmKHt9LGUsdCl9KTppO3ZhciBvPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiB0LmgqdC53PGUuaCplLnc/dDplfSl9KGkpLGE9ZnVuY3Rpb24oZSl7cmV0dXJue3R0eDp7dmlld2FiaWxpdHk6e2Ftb3VudDppc05hTihlKT9lOk1hdGgucm91bmQoZSl9fX19KGZ1bmN0aW9uKGUpe3JldHVybiFmdW5jdGlvbigpe3RyeXtyZXR1cm4gdS5nZXRXaW5kb3dTZWxmKCkhPT11LmdldFdpbmRvd1RvcCgpfWNhdGNoKGUpe3JldHVybiEwfX0oKSYmbnVsbCE9PWV9KHIpP2Z1bmN0aW9uKGUsdCl7dmFyIHI9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnt9LG49ci53LGk9ci5oO3JldHVybiJ2aXNpYmxlIj09PXQuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP2Z1bmN0aW9uKGUsdCl7dmFyIHIsbixpPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxvPWkudyxhPWkuaCxzPWZ1bmN0aW9uKGUpe3ZhciB0PTE8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fSxyPXQudyxuPXQuaCxpPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbz1pLndpZHRoLGE9aS5oZWlnaHQscz1pLmxlZnQsZD1pLnRvcCxjPWkucmlnaHQsdT1pLmJvdHRvbTsoMD09PW98fDA9PT1hKSYmciYmbiYmKGM9cysobz1yKSx1PWQrKGE9bikpO3JldHVybnt3aWR0aDpvLGhlaWdodDphLGxlZnQ6cyx0b3A6ZCxyaWdodDpjLGJvdHRvbTp1fX0oZSx7dzpvLGg6YX0pLGQ9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PXtsZWZ0OmVbMF0ubGVmdCxyaWdodDplWzBdLnJpZ2h0LHRvcDplWzBdLnRvcCxib3R0b206ZVswXS5ib3R0b219LHI9MTtyPGUubGVuZ3RoOysrcil7aWYodC5sZWZ0PU1hdGgubWF4KHQubGVmdCxlW3JdLmxlZnQpLHQucmlnaHQ9TWF0aC5taW4odC5yaWdodCxlW3JdLnJpZ2h0KSx0LmxlZnQ+PXQucmlnaHQpcmV0dXJuIG51bGw7aWYodC50b3A9TWF0aC5tYXgodC50b3AsZVtyXS50b3ApLHQuYm90dG9tPU1hdGgubWluKHQuYm90dG9tLGVbcl0uYm90dG9tKSx0LnRvcD49dC5ib3R0b20pcmV0dXJuIG51bGx9cmV0dXJuIHQud2lkdGg9dC5yaWdodC10LmxlZnQsdC5oZWlnaHQ9dC5ib3R0b20tdC50b3AsdH0oW3tsZWZ0OjAsdG9wOjAscmlnaHQ6dC5pbm5lcldpZHRoLGJvdHRvbTp0LmlubmVySGVpZ2h0fSxzXSk7cmV0dXJuIG51bGw9PT1kPzA6KHI9ZC53aWR0aCpkLmhlaWdodCxuPXMud2lkdGgqcy5oZWlnaHQsci9uKjEwMCl9KGUsdCx7dzpuLGg6aX0pOjB9KHIsdS5nZXRXaW5kb3dUb3AoKSxvKTp5KTtyZXR1cm57Zm9ybWF0OmUsZXh0OmF9fSh0KSkpO3UuZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvIikmJihhLmltcFswXS52aWRlbz1mdW5jdGlvbihlKXt2YXIgdD11LmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIse30pLHI9dS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIse30pLG49bShtKHt9LHQpLHIpLGk9e30sbz12KG4ucGxheWVyU2l6ZVswXSksYT1vLncscz1vLmg7aS53PWEsaS5oPXMsZy5mb3JFYWNoKGZ1bmN0aW9uKGUpe24uaGFzT3duUHJvcGVydHkoZSkmJihpW2VdPW5bZV0pfSk7dmFyIGQ9QShlKTtpLnBsYWNlbWVudD1pLnBsYWNlbWVudHx8MixkPT09aC5JTlNUUkVBTSYmKGkuc3RhcnRkZWxheT1pLnN0YXJ0ZGVsYXl8fDAsaS5wbGFjZW1lbnQ9MSk7e3ZhciBjOyJmdW5jdGlvbiIhPXR5cGVvZiBlLmdldEZsb29yfHwoYz13KGUse3c6aS53LGg6aS5ofSxsLmQpKSYmZihpLHtleHQ6e3R0eDp7YmlkZmxvb3JzOltjXX19fSl9cmV0dXJuIGl9KHQpKTthLmltcFswXS5leHQ9e3R0eDp7cHJvZDpBKHQpfX0sYS5zaXRlPXtpZDpzLnNpdGVJZH0sbyYmKGEuc2l0ZS5wYWdlPW8pO2EuaWQ9dC5iaWRJZCxhLnVzZXI9e2V4dDp7Y29uc2VudDpuLmNvbnNlbnRTdHJpbmd9fSxhLnJlZ3M9e2V4dDp7Z2RwcjohMD09PW4uZ2RwckFwcGxpZXM/MTowLHVzX3ByaXZhY3k6aXx8bnVsbH19LGEuZXh0PXt0dHg6e3ByZWJpZFN0YXJ0ZWRBdDpEYXRlLm5vdygpLGNhbGxlcjpbe25hbWU6InByZWJpZGpzIix2ZXJzaW9uOiI0LjE3LjAifV19fSx0LnNjaGFpbiYmKGEuc291cmNlPXtleHQ6e3NjaGFpbjp0LnNjaGFpbn19KTsxPT09cy50ZXN0JiYoYS50ZXN0PTEpO3ZhciBkPXAuYi5nZXRDb25maWcoInR0eFNldHRpbmdzIik7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOmQmJmQudXJsfHwiIi5jb25jYXQoYywiP2d1aWQ9IikuY29uY2F0KHMuc2l0ZUlkKSxkYXRhOkpTT04uc3RyaW5naWZ5KGEpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6ITB9fX0oe2JpZFJlcXVlc3Q6ZSxnZHByQ29uc2VudDpyLHVzcENvbnNlbnQ6bixwYWdlVXJsOml9KX0pfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPVtdO3JldHVybiAwPGUuYm9keS5zZWF0YmlkLmxlbmd0aCYmMDxlLmJvZHkuc2VhdGJpZFswXS5iaWQubGVuZ3RoJiZyLnB1c2goZnVuY3Rpb24oZSl7dmFyIHQ9e3JlcXVlc3RJZDplLmlkLGJpZGRlckNvZGU6aSxjcG06ZS5zZWF0YmlkWzBdLmJpZFswXS5wcmljZSx3aWR0aDplLnNlYXRiaWRbMF0uYmlkWzBdLncsaGVpZ2h0OmUuc2VhdGJpZFswXS5iaWRbMF0uaCxhZDplLnNlYXRiaWRbMF0uYmlkWzBdLmFkbSx0dGw6ZS5zZWF0YmlkWzBdLmJpZFswXS50dGx8fDYwLGNyZWF0aXZlSWQ6ZS5zZWF0YmlkWzBdLmJpZFswXS5jcmlkLG1lZGlhVHlwZTp1LmRlZXBBY2Nlc3MoZS5zZWF0YmlkWzBdLmJpZFswXSwiZXh0LnR0eC5tZWRpYVR5cGUiLGwuYiksY3VycmVuY3k6ZS5jdXIsbmV0UmV2ZW51ZTohMH07e3QubWVkaWFUeXBlPT09bC5kJiYoInhtbCI9PT11LmRlZXBBY2Nlc3MoZS5zZWF0YmlkWzBdLmJpZFswXSwiZXh0LnR0eC52YXN0VHlwZSIsInhtbCIpP3QudmFzdFhtbD10LmFkOnQudmFzdFVybD10LmFkKX1yZXR1cm4gdH0oZS5ib2R5KSkscn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPWUuaWZyYW1lRW5hYmxlZD9kLnVuaXF1ZVNpdGVJZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihlKXt2YXIgdD1lLnNpdGVJZCxyPXZvaWQgMD09PXQ/Inp6ejAwMDAwMDAwMDAwM3p6eiI6dCxuPWUuZ2RwckNvbnNlbnQsaT12b2lkIDA9PT1uP3t9Om4sbz1lLnVzcENvbnNlbnQsYT1wLmIuZ2V0Q29uZmlnKCJ0dHhTZXR0aW5ncyIpLHM9YSYmYS5zeW5jVXJsfHxiLGQ9aS5jb25zZW50U3RyaW5nLGM9aS5nZHByQXBwbGllcyx1PXt0eXBlOiJpZnJhbWUiLHVybDoiIi5jb25jYXQocywiJmlkPSIpLmNvbmNhdChyLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZCksIiZ1c19wcml2YWN5PSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobykpfTsiYm9vbGVhbiI9PXR5cGVvZiBjJiYodS51cmwrPSImZ2Rwcj0iLmNvbmNhdChOdW1iZXIoYykpKTtyZXR1cm4gdX0oe2dkcHJDb25zZW50OnIsdXNwQ29uc2VudDpuLHNpdGVJZDplfSl9KTpbXTtyZXR1cm4gZC51bmlxdWVTaXRlSWRzPVtdLGl9fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikoSSl9fSxbMTY0XSk7CnVwYmpzQ2h1bmsoWzM2MV0sezE3MDpmdW5jdGlvbihlLHIsYSl7ZS5leHBvcnRzPWEoMTcxKX0sMTcxOmZ1bmN0aW9uKGUscixhKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe2Q9ITF9LGEuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBofSksci5oYXNWYWxpZFN1cHBseUNoYWluUGFyYW1zPXQ7dmFyIGw9YSgwKSxuPWEoMSksZD0hMTt2YXIgaD17Y29kZToiYWFyZHZhcmsiLGd2bGlkOjUyLGFsaWFzZXM6WyJhZHNwYXJjIiwic2FmZXJlYWNoIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBlLnBhcmFtcy5haSYmISFlLnBhcmFtcy5haS5sZW5ndGgmJiJzdHJpbmciPT10eXBlb2YgZS5wYXJhbXMuc2MmJiEhZS5wYXJhbXMuc2MubGVuZ3RofSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsYSl7dmFyIG4sdD1bXSxzPVtdLGk9e30sbz1hLnJlZmVyZXJJbmZvLnJlZmVyZXIsZD1bXSxwPSIiLGM9d2luZG93LmlubmVyV2lkdGgsdT13aW5kb3cuaW5uZXJIZWlnaHQ7dHJ5e3ZhciByPWwuZ2V0V2luZG93VG9wKCk7ci5ydGtjYXRlZ29yaWVzJiZBcnJheS5pc0FycmF5KHIucnRrY2F0ZWdvcmllcykmJihkPXIucnRrY2F0ZWdvcmllcyksYz1yLmlubmVyV2lkdGgsdT1yLmlubmVySGVpZ2h0fWNhdGNoKGUpe31yZXR1cm4gbC5pc1N0cihsLmRlZXBBY2Nlc3MoZSwiMC51c2VySWQudGRpZCIpKSYmKHA9ZVswXS51c2VySWQudGRpZCksbj1oLnNlcmlhbGl6ZVN1cHBseUNoYWluKGwuZGVlcEFjY2VzcyhlLCIwLnNjaGFpbiIpKSxsLl9lYWNoKGUsZnVuY3Rpb24oZSl7dmFyIHI9aVtlLnBhcmFtcy5haV07cnx8KHI9e3Nob3J0Q29kZXM6W10scGF5bG9hZDp7dmVyc2lvbjoxLGpzb25wOiExLHJ0a3JlZmVyZXI6byx3OmMsaDp1fSxlbmRwb2ludDoiYmlkZGVyLnJ0ay5pbyJ9LHAmJihyLnBheWxvYWQudGRpZD1wKSxuJiYoci5wYXlsb2FkLnNjaGFpbj1uKSxkJiZkLmxlbmd0aCYmKHIucGF5bG9hZC5jYXRlZ29yaWVzPWQuc2xpY2UoMCkpLGUucGFyYW1zLmNhdGVnb3JpZXMmJmUucGFyYW1zLmNhdGVnb3JpZXMubGVuZ3RoJiYoci5wYXlsb2FkLmNhdGVnb3JpZXM9ci5wYXlsb2FkLmNhdGVnb3JpZXN8fFtdLGwuX2VhY2goZS5wYXJhbXMuY2F0ZWdvcmllcyxmdW5jdGlvbihlKXtyLnBheWxvYWQuY2F0ZWdvcmllcy5wdXNoKGUpfSkpLGEuZ2RwckNvbnNlbnQmJihyLnBheWxvYWQuZ2Rwcj0hMSwiYm9vbGVhbiI9PXR5cGVvZiBhLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzJiYoci5wYXlsb2FkLmdkcHI9YS5nZHByQ29uc2VudC5nZHByQXBwbGllcyksci5wYXlsb2FkLmdkcHImJihyLnBheWxvYWQuY29uc2VudD1hLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxpW2UucGFyYW1zLmFpXT1yLHQucHVzaChlLnBhcmFtcy5haSkpLGEudXNwQ29uc2VudCYmKHIucGF5bG9hZC51c19wcml2YWN5PWEudXNwQ29uc2VudCksci5zaG9ydENvZGVzLnB1c2goZS5wYXJhbXMuc2MpLHIucGF5bG9hZFtlLnBhcmFtcy5zY109ZS5iaWRJZCwic3RyaW5nIj09dHlwZW9mIGUucGFyYW1zLmhvc3QmJmUucGFyYW1zLmhvc3QubGVuZ3RoJiZlLnBhcmFtcy5ob3N0IT09ci5lbmRwb2ludCYmKHIuZW5kcG9pbnQ9ZS5wYXJhbXMuaG9zdCl9KSxsLl9lYWNoKHQsZnVuY3Rpb24oZSl7dmFyIHI9aVtlXTtzLnB1c2goe21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoci5lbmRwb2ludCwiLyIpLmNvbmNhdChlLCIvIikuY29uY2F0KHIuc2hvcnRDb2Rlcy5qb2luKCJfIiksIi9hYXJkdmFyayIpLGRhdGE6ci5wYXlsb2FkLGJpZGRlclJlcXVlc3Q6YX0pfSksc30saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIG49W107cmV0dXJuIEFycmF5LmlzQXJyYXkoZS5ib2R5KXx8KGUuYm9keT1bZS5ib2R5XSksbC5fZWFjaChlLmJvZHksZnVuY3Rpb24oZSl7dmFyIHI9KyhlLmNwbXx8MCk7aWYocil7dmFyIGE9e3JlcXVlc3RJZDplLmNpZCxjcG06cix3aWR0aDplLndpZHRofHwwLGhlaWdodDplLmhlaWdodHx8MCxjdXJyZW5jeTplLmN1cnJlbmN5P2UuY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohZS5uZXRSZXZlbnVlfHxlLm5ldFJldmVudWUsdHRsOmUudHRsP2UudHRsOjMwMCxjcmVhdGl2ZUlkOmUuY3JlYXRpdmVJZHx8MH07c3dpdGNoKGUuaGFzT3duUHJvcGVydHkoImRlYWxJZCIpJiYoYS5kZWFsSWQ9ZS5kZWFsSWQpLGUuaGFzT3duUHJvcGVydHkoImV4IikmJihhLmV4PWUuZXgpLGUubWVkaWEpe2Nhc2UiYmFubmVyIjphLmFkPWUuYWRtK2wuY3JlYXRlVHJhY2tQaXhlbEh0bWwoZGVjb2RlVVJJQ29tcG9uZW50KGUubnVybCkpO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIGwubG9nRXJyb3IoImJhZCBBYXJkdmFyayByZXNwb25zZSAobWVkaWEpIixlKX1uLnB1c2goYSl9fSksbn0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscixhLG4pe3ZhciB0PVtdLHM9W10saT0hMTtpZihhJiYiYm9vbGVhbiI9PXR5cGVvZiBhLmdkcHJBcHBsaWVzJiYoaT1hLmdkcHJBcHBsaWVzKSwhZS5pZnJhbWVFbmFibGVkKXJldHVybiBsLmxvZ1dhcm4oIkFhcmR2YXJrOiBQbGVhc2UgZW5hYmxlIGlmcmFtZSBiYXNlZCB1c2VyIHN5bmMuIiksdDtpZihkKXJldHVybiB0O2Q9ITAsaSYmKHMucHVzaChbImciLCIxIl0pLHMucHVzaChbImMiLGEuY29uc2VudFN0cmluZ10pKSxuJiZzLnB1c2goWyJ1c19wcml2YWN5IixuXSk7dmFyIG89IiI7cmV0dXJuIHMubGVuZ3RoJiYobz0iPyIrcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGVbMF0rIj0iK2VuY29kZVVSSUNvbXBvbmVudChlWzFdKX0pLmpvaW4oIiYiKSksdC5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdCgic3luYy5ydGsuaW8iLCIvY3MiKS5jb25jYXQobyl9KSx0fSxzZXJpYWxpemVTdXBwbHlDaGFpbjpmdW5jdGlvbihlKXtyZXR1cm4gdChlKT8iIi5jb25jYXQoZS52ZXIsIiwiKS5jb25jYXQoZS5jb21wbGV0ZSwiISIpLmNvbmNhdChoLnNlcmlhbGl6ZVN1cHBseUNoYWluTm9kZXMoZS5ub2RlcykpOiIifSxzZXJpYWxpemVTdXBwbHlDaGFpbk5vZGVzOmZ1bmN0aW9uKGUpe3ZhciBhPVsiYXNpIiwic2lkIiwiaHAiLCJyaWQiLCJuYW1lIiwiZG9tYWluIl07cmV0dXJuIGUubWFwKGZ1bmN0aW9uKHIpe3JldHVybiBhLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHJbZV18fCIiKX0pLmpvaW4oIiwiKX0pLmpvaW4oIiEiKX19O2Z1bmN0aW9uIHQoZSl7aWYoIWV8fCFlLm5vZGVzKXJldHVybiExO3ZhciBhPVsiYXNpIiwic2lkIiwiaHAiXSxyPWUubm9kZXMucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIGU/YS5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gcltlXX0pOmV9LCEwKTtyZXR1cm4gcnx8bC5sb2dFcnJvcigiQWFyZHZhcms6IHJlcXVpcmVkIHNjaGFpbiBwYXJhbXMgbWlzc2luZyIpLHJ9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKGgpfX0sWzE3MF0pOwp1cGJqc0NodW5rKFszNTddLHsxODY6ZnVuY3Rpb24oZSxyLG4pe2UuZXhwb3J0cz1uKDE4Nyl9LDE4NzpmdW5jdGlvbihlLHIsbil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gZH0pO3ZhciB0PW4oMSksST1uKDMpLGc9bigyKSxoPW4oMTEpLF89bigwKSxDPSJhZGZvcm0iLGQ9e2NvZGU6QyxndmxpZDo1MCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltnLmIsZy5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIWUucGFyYW1zLm1pZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe2Zvcih2YXIgbix0LGQscyxpLG8sdSxhLHA9SS5iLmdldENvbmZpZygiY3VycmVuY3kuYWRTZXJ2ZXJDdXJyZW5jeSIpLGM9ZnVuY3Rpb24oZSl7aWYoXy5pc0FycmF5KGUpJiYwPGUubGVuZ3RoKXt2YXIgcj1mdW5jdGlvbihlKXtyZXR1cm4gZS5yZWR1Y2UoZnVuY3Rpb24obixlKXt2YXIgdD1lLnNvdXJjZTtyZXR1cm4gblt0XT1uW3RdfHx7fSxlLnVpZHMuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1lLmlkKyIiO25bdF1bcl09blt0XVtyXXx8W10sblt0XVtyXS5wdXNoKGUuYXR5cGUpfSksbn0se30pfShlKTtyZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGJ0b2EoSlNPTi5zdHJpbmdpZnkocikpKX19KF8uZGVlcEFjY2VzcyhlLCIwLnVzZXJJZEFzRWlkcyIpKSxnPVtdLGg9W1siYWR4RG9tYWluIiwiYWR4LmFkZm9ybS5uZXQiXSxbImZkIiwxXSxbInVybCIsbnVsbF0sWyJ0aWQiLG51bGxdXSxmPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpLGw9ZlswXSYmZlswXS5iaWRkZXJ8fEMsdj0wLGI9Zi5sZW5ndGg7djxiO3YrKyl7Zm9yKCJuZXQiIT09KGQ9Zlt2XSkucGFyYW1zLnByaWNlVHlwZSYmIm5ldCIhPT1kLnBhcmFtcy5wdHx8KHU9Im5ldCIpLG49MCx0PWgubGVuZ3RoO248dDtuKyspKGk9ZFtzPWhbbl1bMF1dfHxkLnBhcmFtc1tzXSkmJihkW3NdPWQucGFyYW1zW3NdPW51bGwsaFtuXVsxXT1pKTsobz1kLnBhcmFtcykudHJhbnNhY3Rpb25JZD1kLnRyYW5zYWN0aW9uSWQsby5yY3VyPW8ucmN1cnx8cCxnLnB1c2goZnVuY3Rpb24oZSl7dmFyIHIsbj1bXTtmb3IociBpbiBlKWUuaGFzT3duUHJvcGVydHkocikmJmVbcl0mJm4ucHVzaChyLCI9IixlW3JdLCImIik7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChidG9hKG4uam9pbigiIikuc2xpY2UoMCwtMSkpKX0obykpfWcudW5zaGlmdCgiaHR0cHM6Ly8iK2hbMF1bMV0rIi9hZHgvP3JwPTQiKSx1PXV8fCJncm9zcyIsZy5wdXNoKCJwdD0iK3UpLGcucHVzaCgic3RpZD0iK2VbMF0uYXVjdGlvbklkKTt2YXIgbT1fLmRlZXBBY2Nlc3MociwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKSx5PV8uZGVlcEFjY2VzcyhyLCJnZHByQ29uc2VudC5jb25zZW50U3RyaW5nIik7Zm9yKHZvaWQgMCE9PW0mJihhPXtnZHByOm0sZ2Rwcl9jb25zZW50Onl9LGcucHVzaCgiZ2Rwcj0iKygxJm0pKSxnLnB1c2goImdkcHJfY29uc2VudD0iK3kpKSxyJiZyLnVzcENvbnNlbnQmJmcucHVzaCgidXNfcHJpdmFjeT0iK3IudXNwQ29uc2VudCksYyYmZy5wdXNoKCJlaWRzPSIrYyksdj0xLGI9aC5sZW5ndGg7djxiO3YrKylzPWhbdl1bMF0sKGk9aFt2XVsxXSkmJmcucHVzaChzKyI9IitlbmNvZGVVUklDb21wb25lbnQoaSkpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOmcuam9pbigiJiIpLGJpZHM6ZSxuZXRSZXZlbnVlOnUsYmlkZGVyOmwsZ2RwcjphfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXtmb3IodmFyIG4sdCxkLHMsaT17YmFubmVyOjEsdmFzdF9jb250ZW50OjEsdmFzdF91cmw6MX0sbz1bXSx1PXIuYmlkcyxhPWUuYm9keSxwPTA7cDxhLmxlbmd0aDtwKyspcz0iYmFubmVyIj09PSh0PWFbcF0pLnJlc3BvbnNlP2cuYjpnLmQsZD11W3BdLGlbdC5yZXNwb25zZV0mJihmdW5jdGlvbihlLHIpe2Zvcih2YXIgbj0wLHQ9ci5sZW5ndGg7bjx0O24rKylpZihlLndpZHRoPT1yW25dWzBdJiZlLmhlaWdodD09cltuXVsxXSlyZXR1cm4hMDtyZXR1cm4hMX0odCxfLmdldEFkVW5pdFNpemVzKGQpKXx8cz09PWcuZCkmJihuPXtyZXF1ZXN0SWQ6ZC5iaWRJZCxjcG06dC53aW5fYmlkLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0LGNyZWF0aXZlSWQ6ZC5iaWRJZCxkZWFsSWQ6dC5kZWFsX2lkLGN1cnJlbmN5OnQud2luX2N1cixuZXRSZXZlbnVlOiJncm9zcyIhPT1yLm5ldFJldmVudWUsdHRsOjM2MCxhZDp0LmJhbm5lcixiaWRkZXJDb2RlOnIuYmlkZGVyLHRyYW5zYWN0aW9uSWQ6ZC50cmFuc2FjdGlvbklkLHZhc3RVcmw6dC52YXN0X3VybCx2YXN0WG1sOnQudmFzdF9jb250ZW50LG1lZGlhVHlwZTpzfSxkLnJlbmRlcmVyfHxzIT09Zy5kfHwib3V0c3RyZWFtIiE9PV8uZGVlcEFjY2VzcyhkLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKXx8KG4ucmVuZGVyZXI9aC5hLmluc3RhbGwoe2lkOmQuYmlkSWQsdXJsOiJodHRwczovL3MyLmFkZm9ybS5uZXQvYmFubmVycy9zY3JpcHRzL3ZpZGVvL291dHN0cmVhbS9yZW5kZXIuanMifSksbi5yZW5kZXJlci5zZXRSZW5kZXIoYykpLHIuZ2RwciYmKG4uZ2Rwcj1yLmdkcHIuZ2RwcixuLmdkcHJfY29uc2VudD1yLmdkcHIuZ2Rwcl9jb25zZW50KSxvLnB1c2gobikpO3JldHVybiBvO2Z1bmN0aW9uIGMoZSl7ZS5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7d2luZG93LkFkZm9ybS5yZW5kZXJPdXRzdHJlYW0oZSl9KX19fTtPYmplY3QodC5yZWdpc3RlckJpZGRlcikoZCl9fSxbMTg2XSk7CnVwYmpzQ2h1bmsoWzMyOF0sezI1NjpmdW5jdGlvbihlLG4scil7ZS5leHBvcnRzPXIoMjU3KX0sMjU3OmZ1bmN0aW9uKGUsbixyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZChuLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBhfSk7dmFyIG89cigwKSx0PXIoMSksZD1yKDMpLGk9cigxMCkscz1yLm4oaSksYT17Y29kZToiYWR5b3VsaWtlIixhbGlhc2VzOlsiYXlsIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIG49dShjKGUpKTtyZXR1cm4hIShlLnBhcmFtcyYmZS5wYXJhbXMucGxhY2VtZW50JiZuLndpZHRoJiZuLmhlaWdodCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXt2YXIgcj17VmVyc2lvbjoiMS4wIixCaWRzOmUucmVkdWNlKGZ1bmN0aW9uKGUsbil7dmFyIHI9YyhuKSx0PXUocik7cmV0dXJuIGVbbi5iaWRJZF09e30sZVtuLmJpZElkXS5QbGFjZW1lbnRJRD1uLnBhcmFtcy5wbGFjZW1lbnQsZVtuLmJpZElkXS5UcmFuc2FjdGlvbklEPW4udHJhbnNhY3Rpb25JZCxlW24uYmlkSWRdLldpZHRoPXQud2lkdGgsZVtuLmJpZElkXS5IZWlnaHQ9dC5oZWlnaHQsZVtuLmJpZElkXS5BdmFpbGFibGVTaXplcz1yLmpvaW4oIiwiKSxlfSx7fSksUGFnZVJlZnJlc2hlZDpmdW5jdGlvbigpe3RyeXtpZihwZXJmb3JtYW5jZSYmcGVyZm9ybWFuY2UubmF2aWdhdGlvbilyZXR1cm4gcGVyZm9ybWFuY2UubmF2aWdhdGlvbi50eXBlPT09cGVyZm9ybWFuY2UubmF2aWdhdGlvbi5UWVBFX1JFTE9BRH1jYXRjaChlKXt9cmV0dXJuITF9KCl9O24mJm4uZ2RwckNvbnNlbnQmJihyLmdkcHJDb25zZW50PXtjb25zZW50U3RyaW5nOm4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyxjb25zZW50UmVxdWlyZWQ6ImJvb2xlYW4iPT10eXBlb2Ygbi5nZHByQ29uc2VudC5nZHByQXBwbGllcz9uLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzOm51bGx9KSxuJiZuLnVzcENvbnNlbnQmJihyLnVzcENvbnNlbnQ9bi51c3BDb25zZW50KTt2YXIgdCxpLGE9SlNPTi5zdHJpbmdpZnkocik7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOih0PW4saT1mdW5jdGlvbihlKXt2YXIgbj1zKCkoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMuREN9KTtpZihuKXJldHVybiItIituLnBhcmFtcy5EQztyZXR1cm4iIn0oZSksby5idWlsZFVybCh7cHJvdG9jb2w6Imh0dHBzIixob3N0OiIiLmNvbmNhdCgiaGItYXBpIikuY29uY2F0KGksIi5vbW5pdGFnanMuY29tIikscGF0aG5hbWU6Ii9oYi1hcGkvcHJlYmlkL3YxIixzZWFyY2g6ZnVuY3Rpb24oZSl7dmFyIG4scj17fTshZXx8KG49ZS5yZWZlcmVySW5mbykmJihyLlJlZmVyZXJVcmw9ZW5jb2RlVVJJQ29tcG9uZW50KG4ucmVmZXJlciksMDxuLm51bUlmcmFtZXMmJihyLlNhZmVGcmFtZT0hMCkpO3ZhciB0PWZ1bmN0aW9uKCl7dmFyIGU7aWYod2luZG93LnNlbGYhPT13aW5kb3cudG9wKXRyeXtlPXdpbmRvdy50b3AuZG9jdW1lbnQuaGVhZC5xdWVyeVNlbGVjdG9yKCdsaW5rW3JlbD0iY2Fub25pY2FsIl1baHJlZl0nKX1jYXRjaChlKXt9ZWxzZSBlPWRvY3VtZW50LmhlYWQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9ImNhbm9uaWNhbCJdW2hyZWZdJyk7cmV0dXJuIGU/ZS5ocmVmOiIifSgpO3QmJihyLkNhbm9uaWNhbFVybD1lbmNvZGVVUklDb21wb25lbnQodCkpO3ZhciBpPWQuYi5nZXRDb25maWcoInB1Ymxpc2hlckRvbWFpbiIpO3JldHVybiBpJiYoci5QdWJsaXNoZXJEb21haW49ZW5jb2RlVVJJQ29tcG9uZW50KGkpKSxyfSh0KX0pKSxkYXRhOmEsb3B0aW9uczp7d2l0aENyZWRlbnRpYWxzOiEwfX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7dmFyIHI9W10sdD17fTt0cnl7dD1KU09OLnBhcnNlKG4uZGF0YSkuQmlkc31jYXRjaChlKXt9cmV0dXJuIGUuYm9keS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBuPWZ1bmN0aW9uKGUsbil7aWYoIWV8fCFlLkFkKXJldHVybjtuJiZuW2UuQmlkSURdJiYoZS5XaWR0aCYmIjAiIT09ZS5XaWR0aHx8KGUuV2lkdGg9bltlLkJpZElEXS5XaWR0aCksZS5IZWlnaHQmJiIwIiE9PWUuSGVpZ2h0fHwoZS5IZWlnaHQ9bltlLkJpZElEXS5IZWlnaHQpKTtyZXR1cm57cmVxdWVzdElkOmUuQmlkSUQsd2lkdGg6ZS5XaWR0aCxoZWlnaHQ6ZS5IZWlnaHQsYWQ6ZS5BZCx0dGw6MzYwMCxjcmVhdGl2ZUlkOmUuQ3JlYXRpdmVJRCxjcG06ZS5QcmljZSxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifX0oZSx0KTtuJiZyLnB1c2gobil9KSxyfX07ZnVuY3Rpb24gYyhlKXt2YXIgbj1lLnNpemVzO3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJihuPWUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpLG8ucGFyc2VTaXplc0lucHV0KG4pfWZ1bmN0aW9uIHUoZSl7dmFyIG49e30scj1lWzBdO2lmKCJzdHJpbmciIT10eXBlb2YgcilyZXR1cm4gbjt2YXIgdD1yLnRvVXBwZXJDYXNlKCkuc3BsaXQoIlgiKSxpPXBhcnNlSW50KHRbMF0sMTApO2kmJihuLndpZHRoPWkpO3ZhciBhPXBhcnNlSW50KHRbMV0sMTApO3JldHVybiBhJiYobi5oZWlnaHQ9YSksbn1PYmplY3QodC5yZWdpc3RlckJpZGRlcikoYSl9fSxbMjU2XSk7CnVwYmpzQ2h1bmsoWzMyNl0sezI2MDpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMjYxKX0sMjYxOmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJCSURERVJfQ09ERSIsZnVuY3Rpb24oKXtyZXR1cm4gaX0pLGUuZCh0LCJFTkdJTkVfQkFTRV9VUkwiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KSxlLmQodCwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gY30pLHQucmVzZXRVc2VyU3luYz1mdW5jdGlvbigpe3M9ITF9O2UoMCk7dmFyIHI9ZSgxKSxhPWUoMik7ZnVuY3Rpb24gdShuLHQsZSl7cmV0dXJuIHQgaW4gbj9PYmplY3QuZGVmaW5lUHJvcGVydHkobix0LHt2YWx1ZTplLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6blt0XT1lLG59dmFyIGk9ImFtYXpvbkFBWCIsbz0iaHR0cHM6Ly9jLmFtYXpvbi1hZHN5c3RlbS5jb20vZS9kdGIvYmlkIixmPVtdLHM9ITEsZD1bImh0dHBzOi8vYWF4LWV1LmFtYXpvbi1hZHN5c3RlbS5jb20vcy9pdTM/Y20zcHBkPTEmZD1kdGItcHViJmNzaWY9dCJdO3ZhciBjPXtjb2RlOmksc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbigpe3JldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKG4sdCl7Zm9yKHZhciBlPTA7ZTxuLmxlbmd0aDtlKyspe3ZhciByPW5bZV07Zi5wdXNoKHIpfXZhciBhPVtdLGk9ZnVuY3Rpb24obix0KXtmb3IodmFyIGUscj1bXSxhPXQmJnQuZ2RwckNvbnNlbnQsaT0wO2k8bi5sZW5ndGg7aSsrKXtmb3IodmFyIG89e30scz1uW2ldLnNpemVzLGQ9W10sYz0wO2M8cy5sZW5ndGg7YysrKWQucHVzaChzW2NdWzBdKyJ4IitzW2NdWzFdKTtvLnNkPWwudG9TdHJpbmcoKSxvLnM9ZCxvLnNuPW5baV0ucGFyYW1zLmFkVW5pdEdQVFBhdGgsci5wdXNoKG8pLGwrK312YXIgbT0tMTxuWzBdLnBhcmFtcy5wdWJJRC5pbmRleE9mKCItIikscD0odShlPXt9LCJzcmMiLG0/IjYwMCI6blswXS5wYXJhbXMucHViSUQpLHUoZSwicHViaWQiLG5bMF0ucGFyYW1zLnB1YklEKSx1KGUsInUiLHdpbmRvdy5sb2NhdGlvbi5ocmVmKSx1KGUsInBpZCIsZnVuY3Rpb24obil7Zm9yKHZhciB0PSJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSIsZT1uZXcgQXJyYXkobikscj0wO3I8bjtyKyspZVtyXT10W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp0Lmxlbmd0aCldO3JldHVybiBlLmpvaW4oIiIpfSgxMykpLHUoZSwicHIiLGRvY3VtZW50LnJlZmVycmVyKSx1KGUsImNiIiwwKSx1KGUsIndzIiwod2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCkrIngiKyh3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0KSksdShlLCJ2IiwiNy40Ny4wMCIpLHUoZSwic2xvdHMiLEpTT04uc3RyaW5naWZ5KHIpKSx1KGUsInQiLDNlMyksZSk7YSYmInN0cmluZyI9PXR5cGVvZiBhLmNvbnNlbnRTdHJpbmc/ImJvb2xlYW4iPT10eXBlb2YgYS5nZHByQXBwbGllcz8ocC5nZHByZT0iMSIscC5nZHByYz0iIi5jb25jYXQoYS5jb25zZW50U3RyaW5nKSxwLmdkcHJsPUpTT04uc3RyaW5naWZ5KHtsc1N0YXR1czoicHJlc2VudCIsc3RhdHVzOiJjbXAtc3VjY2VzcyIscnRpbWVzOlsxXSxjYzoiMCJ9KSk6cC5nZHBybD1KU09OLnN0cmluZ2lmeSh1KHtzdGF0dXM6InByZXNlbnQifSwic3RhdHVzIiwiY21wLXN1Y2Nlc3MiKSk6cC5nZHBybD1KU09OLnN0cmluZ2lmeSh7c3RhdHVzOiJjbXAtZXJyb3IifSk7cmV0dXJuIHB9KG4sdCk7cmV0dXJuIGEucHVzaCh7bWV0aG9kOiJHRVQiLHVybDpvLGRhdGE6aX0pLGF9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKG4pe3ZhciB0PVtdLGU9bmV3IFJlZ0V4cCgiYXBzdGFnXFwuXFx3K1xcKCguKj8pXFwpIiwiZ20iKSxyPW4uYm9keSxhPWUuZXhlYyhyKTtpZihhJiYwPGEubGVuZ3RoKXRyeXt2YXIgaSxvPUpTT04ucGFyc2UoYVsxXSk7by5jbXA7aWYoIW8uc2xvdHMpcmV0dXJuIHQ7aT1vLmhvc3Q7Zm9yKHZhciBzPW8uc2xvdHMsZD0wO2Q8cy5sZW5ndGg7ZCsrKXtmb3IodmFyIGMsbSxwLHU9dm9pZCAwLGw9c1tkXSxnPTA7ZzxmLmxlbmd0aDtnKyspaWYoZy50b1N0cmluZygpPT09bC5zbG90SUQpe3U9ZltnXTticmVha312b2lkIDAhPT11JiYoYz0wLG09IiIrTWF0aC5yb3VuZCgxZTEyKk1hdGgucmFuZG9tKCkpK0RhdGUubm93KCkscD1pKyIvZS9kdGIvYWRtaT9iPSIrbC5hbXpuaWlkKyImcm5kPSIrbSsiJnBwPSIrbC5hbXpuYmlkKyImcD0iK2wuYW16bnArIiZjcmlkPSIrbC5jcmlkLHdpbmRvdy51cG9fYW16biYmd2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0JiZ3aW5kb3cudXBvX2Ftem4uYW1hem9uQ1BNQ2hhcnRbbC5hbXpuYmlkXSYmKGM9d2luZG93LnVwb19hbXpuLmFtYXpvbkNQTUNoYXJ0W2wuYW16bmJpZF0pLHQucHVzaCh7cmVxdWVzdElkOnUuYmlkSWQsY3BtOmMsd2lkdGg6bC5hbXpuc3ouc3BsaXQoIngiKVswXSxoZWlnaHQ6bC5hbXpuc3ouc3BsaXQoIngiKVsxXSxhZFRhcmdldGluZzoneyJhbXpuaWlkIjoiJytsLmFtem5paWQrJyIsImFtem5wIjoiJytsLmFtem5wKyciLCJhbXpuYmlkIjoiJytsLmFtem5iaWQrJyIsImFtem5zeiI6IicrbC5hbXpuc3orJyJ9JyxhZDoiIixhZEh0bWw6Jzxib2R5IGxlZnRtYXJnaW49IjAiIHRvcG1hcmdpbj0iMCIgbWFyZ2lud2lkdGg9IjAiIG1hcmdpbmhlaWdodD0iMCI+PGlmcmFtZSBmcmFtZWJvcmRlcj0iMCIgbWFyZ2luaGVpZ2h0PSIwIiBtYXJnaW53aWR0aD0iMCIgc2Nyb2xsaW5nPSJubyIgd2lkdGg9IicrbC5hbXpuc3ouc3BsaXQoIngiKVswXSsncHgiIGhlaWdodD0iJytsLmFtem5zei5zcGxpdCgieCIpWzFdKydweCIgaWQ9ImFtem5hZDcwMzUyIiBzYW5kYm94PSJhbGxvdy1mb3JtcyBhbGxvdy1wb2ludGVyLWxvY2sgYWxsb3ctcG9wdXBzIGFsbG93LXBvcHVwcy10by1lc2NhcGUtc2FuZGJveCBhbGxvdy1zYW1lLW9yaWdpbiBhbGxvdy1zY3JpcHRzIGFsbG93LXRvcC1uYXZpZ2F0aW9uLWJ5LXVzZXItYWN0aXZhdGlvbiIgc3JjPSInK3ArJyI+PC9pZnJhbWU+PHNjcmlwdD52YXIgYW16ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7YW16LnNyYyA9ICIvL2MuYW1hem9uLWFkc3lzdGVtLmNvbS9iYW8tY3NtL2RpcmVjdC9jc20uanMiO2Ftei5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixmdW5jdGlvbigpe3ZhciBjc21GdW5jID0gbnVsbDsgaWYod2luZG93LmFtem5jc20gJiYgd2luZG93LmFtem5jc20ucm1EKXtjc21GdW5jID0gd2luZG93LmFtem5jc20ucm1EO30gZWxzZSBpZiAod2luZG93LmFtem5jc20pIHtjc21GdW5jID0gd2luZG93LmFtem5jc21bT2JqZWN0LmtleXMod2luZG93LmFtem5jc20pWzBdXX07IHZhciBhZElmcmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCdpZnJhbWVbc3JjKj0iYW1hem9uLWFkc3lzdGVtLmNvbS9lL2R0Yi9hZG1pXCcpO2NzbUZ1bmMoYWRJZnJhbWUsICInK2wuYW16bmlpZCsnIiwgd2luZG93LCBkb2N1bWVudCwgIicrdS5wYXJhbXMucHViSUQrJyIpO30pOyhkb2N1bWVudC5ib2R5fHxkb2N1bWVudC5oZWFkfHxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKGFteik7PFwvc2NyaXB0PjwvYm9keT4nLGFkVXJsOnAsdHRsOjkwMCxjcmVhdGl2ZUlkOmwuY3JpZCxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifSkpfX1jYXRjaChuKXt9cmV0dXJuIHR9LGdldFVzZXJTeW5jczpmdW5jdGlvbihuLHQsZSl7aWYoIXMpe2UmJiJzdHJpbmciPT10eXBlb2YgZS5jb25zZW50U3RyaW5nJiYoImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQXBwbGllcz8iP2dkcHI9Ii5jb25jYXQoTnVtYmVyKGUuZ2RwckFwcGxpZXMpLCImZ2Rwcl9jb25zZW50PSIpLmNvbmNhdChlLmNvbnNlbnRTdHJpbmcpOiI/Z2Rwcl9jb25zZW50PSIuY29uY2F0KGUuY29uc2VudFN0cmluZykpLHM9ITA7Zm9yKHZhciByPVtdLGE9MDthPGQubGVuZ3RoO2ErKylyLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOmRbYV19KTtyZXR1cm4gcn19fTt2YXIgbD0wO09iamVjdChyLnJlZ2lzdGVyQmlkZGVyKShjKX19LFsyNjBdKTsKdXBianNDaHVuayhbMzIzXSx7MjY2OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cigyNjcpfSwyNjc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIE19KTt2YXIgcz1yKDApLG49cigxKSxpPXIoMik7ZnVuY3Rpb24gYSgpe3JldHVybihhPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPWFyZ3VtZW50c1t0XTtmb3IodmFyIG4gaW4gcilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixuKSYmKGVbbl09cltuXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gYyhlKXtyZXR1cm4oYz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIG8oKXt2YXIgZT1wKFsiZGNuPSIsIiZwb3M9IiwiJmNtZD1iaWQiLCIiXSk7cmV0dXJuIG89ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX1mdW5jdGlvbiB1KCl7dmFyIGU9cChbIiIsIi9iaWRSZXF1ZXN0PyJdKTtyZXR1cm4gdT1mdW5jdGlvbigpe3JldHVybiBlfSxlfWZ1bmN0aW9uIGQoKXt2YXIgZT1wKFsiIiwiL3B1YmFwaS8zLjAvIiwiLyIsIi8iLCIvIiwiL0FEVEVDSDt2PTI7Y21kPWJpZDtjb3JzPXllczthbGlhcz0iLCI7bWlzYz0iLCI7IiwiO3Vwb25pdD10cnVlJnVwYXBpPXRydWUiXSk7cmV0dXJuIGQ9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sZX1mdW5jdGlvbiBwKGUsdCl7cmV0dXJuIHQ9dHx8ZS5zbGljZSgwKSxPYmplY3QuZnJlZXplKE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUse3Jhdzp7dmFsdWU6T2JqZWN0LmZyZWV6ZSh0KX19KSl9dmFyIGw9e0FPTDoiYW9sIixWRVJJWk9OOiJ2ZXJpem9uIixPTkVNT0JJTEU6Im9uZW1vYmlsZSIsT05FRElTUExBWToib25lZGlzcGxheSJ9LG09e0dFVDoiZGlzcGxheS1nZXQifSxmPXtHRVQ6Im1vYmlsZS1nZXQiLFBPU1Q6Im1vYmlsZS1wb3N0In0sYj17VEFHOiJpZnJhbWUiLFRZUEU6ImlmcmFtZSJ9LHY9e1RBRzoiaW1nIixUWVBFOiJpbWFnZSJ9LGg9WyJhZHNlcnZlci5vcmciLCJjcml0ZW8uY29tIiwiaWQ1LXN5bmMuY29tIiwiaW50ZW50aXEuY29tIiwibGl2ZWludGVudC5jb20iLCJxdWFudGNhc3QuY29tIiwidmVyaXpvbm1lZGlhLmNvbSIsImxpdmVyYW1wLmNvbSJdLGc9UyhkKCksImhvc3QiLCJuZXR3b3JrIiwicGxhY2VtZW50IiwicGFnZWlkIiwic2l6ZWlkIiwiYWxpYXMiLCJtaXNjIiwiZHluYW1pY1BhcmFtcyIpLHk9Uyh1KCksImhvc3QiKSxPPVMobygpLCJkY24iLCJwb3MiLCJkeW5hbWljUGFyYW1zIiksRT17dXM6ImFkc2VydmVyLXVzLmFkdGVjaC5hZHZlcnRpc2luZy5jb20iLGV1OiJhZHNlcnZlci1ldS5hZHRlY2guYWR2ZXJ0aXNpbmcuY29tIixhczoiYWRzZXJ2ZXItYXMuYWR0ZWNoLmFkdmVydGlzaW5nLmNvbSJ9LEk9Imh0dHBzIixQPTE7ZnVuY3Rpb24gUyhhKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheSgxPGU/ZS0xOjApLHQ9MTt0PGU7dCsrKXJbdC0xXT1hcmd1bWVudHNbdF07cmV0dXJuIGZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZSksdD0wO3Q8ZTt0Kyspblt0XT1hcmd1bWVudHNbdF07dmFyIGk9bltuLmxlbmd0aC0xXXx8e30sbz1bYVswXV07cmV0dXJuIHIuZm9yRWFjaChmdW5jdGlvbihlLHQpe3ZhciByPXMuaXNJbnRlZ2VyKGUpP25bZV06aVtlXTtvLnB1c2gocixhW3QrMV0pfSksby5qb2luKCIiKX19ZnVuY3Rpb24gVChlKXtyZXR1cm4gZT09PWwuQU9MfHxlPT09bC5WRVJJWk9OfHxlPT09bC5PTkVNT0JJTEV9ZnVuY3Rpb24geChlKXtpZihUKGUuYmlkZGVyKSYmZS5wYXJhbXMuaWQmJmUucGFyYW1zLmltcCYmZS5wYXJhbXMuaW1wWzBdKXt2YXIgdD1lLnBhcmFtcy5pbXBbMF07cmV0dXJuIHQuaWQmJnQudGFnaWQmJih0LmJhbm5lciYmdC5iYW5uZXIudyYmdC5iYW5uZXIuaHx8dC52aWRlbyYmdC52aWRlby5taW1lcyYmdC52aWRlby5taW5kdXJhdGlvbiYmdC52aWRlby5tYXhkdXJhdGlvbil9fWZ1bmN0aW9uIFIoZSl7cmV0dXJuIFQoZS5iaWRkZXIpJiZlLnBhcmFtcy5kY24mJmUucGFyYW1zLnBvc31mdW5jdGlvbiBDKGUpe3JldHVybigodD1lLmJpZGRlcik9PT1sLkFPTHx8dD09PWwuVkVSSVpPTnx8dD09PWwuT05FRElTUExBWSkmJmUucGFyYW1zLnBsYWNlbWVudCYmZS5wYXJhbXMubmV0d29yazt2YXIgdH1mdW5jdGlvbiBBKGUpe3JldHVybiBlLnVzZXJJZEFzRWlkcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuLTEhPT1oLmluZGV4T2YoZS5zb3VyY2UpfSl9dmFyIE09e2NvZGU6bC5BT0wsZ3ZsaWQ6MjUsYWxpYXNlczpbbC5PTkVNT0JJTEUsbC5PTkVESVNQTEFZLGwuVkVSSVpPTl0sc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4gQyhlKXx8KFIodD1lKXx8eCh0KSk7dmFyIHR9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSx0KXt2YXIgbj10aGlzLGk9e307cmV0dXJuIHQmJihpLmdkcHI9dC5nZHByQ29uc2VudCxpLnVzcENvbnNlbnQ9dC51c3BDb25zZW50KSxlLm1hcChmdW5jdGlvbihlKXt2YXIgdCxyPVIodD1lKT9mLkdFVDp4KHQpP2YuUE9TVDpDKHQpP20uR0VUOnZvaWQgMDtpZihyKXJldHVybiBuLmZvcm1hdEJpZFJlcXVlc3QocixlLGkpfSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5ib2R5O2lmKHIpe3ZhciBuPXRoaXMuX3BhcnNlQmlkUmVzcG9uc2Uocix0KTtpZihuKXJldHVybiBufWVsc2Ugcy5sb2dFcnJvcigiRW1wdHkgYmlkIHJlc3BvbnNlIix0LmJpZGRlckNvZGUscil9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3ZhciByPSFzLmlzRW1wdHkodCkmJnRbMF0uYm9keTtyZXR1cm4gciYmci5leHQmJnIuZXh0LnBpeGVscz90aGlzLnBhcnNlUGl4ZWxJdGVtcyhyLmV4dC5waXhlbHMpOltdfSxmb3JtYXRCaWRSZXF1ZXN0OmZ1bmN0aW9uKGUsdCxyKXt2YXIgbjtzd2l0Y2goZSl7Y2FzZSBtLkdFVDpuPXt1cmw6dGhpcy5idWlsZE1hcmtldHBsYWNlVXJsKHQsciksbWV0aG9kOiJHRVQiLHR0bDo2MH07YnJlYWs7Y2FzZSBmLkdFVDpuPXt1cmw6dGhpcy5idWlsZE9uZU1vYmlsZUdldFVybCh0LHIpLG1ldGhvZDoiR0VUIix0dGw6MzYwMH07YnJlYWs7Y2FzZSBmLlBPU1Q6bj17dXJsOnRoaXMuYnVpbGRPbmVNb2JpbGVCYXNlVXJsKHQpLG1ldGhvZDoiUE9TVCIsdHRsOjM2MDAsZGF0YTp0aGlzLmJ1aWxkT3BlblJ0YlJlcXVlc3REYXRhKHQsciksb3B0aW9uczp7Y29udGVudFR5cGU6ImFwcGxpY2F0aW9uL2pzb24iLGN1c3RvbUhlYWRlcnM6eyJ4LW9wZW5ydGItdmVyc2lvbiI6IjIuMiJ9fX19cmV0dXJuIG4uYmlkZGVyQ29kZT10LmJpZGRlcixuLmJpZElkPXQuYmlkSWQsbi51c2VyU3luY09uPXQucGFyYW1zLnVzZXJTeW5jT24sbn0sYnVpbGRNYXJrZXRwbGFjZVVybDpmdW5jdGlvbihlLHQpe3ZhciByLG49ZS5wYXJhbXMsaT1uLnNlcnZlcixvPW4ucmVnaW9ufHwidXMiO3JldHVybiBFLmhhc093blByb3BlcnR5KG8pfHwocy5sb2dXYXJuKCJVbmtub3duIHJlZ2lvbiAnIi5jb25jYXQobywiJyBmb3IgQU9MIGJpZGRlci4iKSksbz0idXMiKSxyPWl8fEVbb10sbi5yZWdpb249byx0aGlzLmFwcGx5UHJvdG9jb2woZyh7aG9zdDpyLG5ldHdvcms6bi5uZXR3b3JrLHBsYWNlbWVudDpwYXJzZUludChuLnBsYWNlbWVudCkscGFnZWlkOm4ucGFnZUlkfHwwLHNpemVpZDpuLnNpemVJZHx8MCxhbGlhczpuLmFsaWFzfHxzLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxtaXNjOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGR5bmFtaWNQYXJhbXM6dGhpcy5mb3JtYXRNYXJrZXRwbGFjZUR5bmFtaWNQYXJhbXMobix0KX0pKX0sYnVpbGRPbmVNb2JpbGVHZXRVcmw6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLnBhcmFtcyxuPXIuZGNuLGk9ci5wb3Msbz1yLmV4dDsib2JqZWN0Ij09PWMoZS51c2VySWQpJiYobz1vfHx7fSxBKGUpLmZvckVhY2goZnVuY3Rpb24oZSl7b1siZWlkIitlLnNvdXJjZV09ZS51aWRzWzBdLmlkfSkpO3ZhciBhLHM9dGhpcy5idWlsZE9uZU1vYmlsZUJhc2VVcmwoZSk7cmV0dXJuIG4mJmkmJihhPXRoaXMuZm9ybWF0T25lTW9iaWxlRHluYW1pY1BhcmFtcyhvLHQpLHMrPU8oe2RjbjpuLHBvczppLGR5bmFtaWNQYXJhbXM6YX0pKSxzfSxidWlsZE9uZU1vYmlsZUJhc2VVcmw6ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuYXBwbHlQcm90b2NvbCh5KHtob3N0OmUucGFyYW1zLmhvc3R8fCJjMnNoYi5zc3AueWFob28uY29tIn0pKX0sYXBwbHlQcm90b2NvbDpmdW5jdGlvbihlKXtyZXR1cm4vXmh0dHBzPzpcL1wvL2kudGVzdChlKT9lOjA9PT1lLmluZGV4T2YoIi8vIik/IiIuY29uY2F0KEksIjoiKS5jb25jYXQoZSk6IiIuY29uY2F0KEksIjovLyIpLmNvbmNhdChlKX0sZm9ybWF0TWFya2V0cGxhY2VEeW5hbWljUGFyYW1zOmZ1bmN0aW9uKGUsdCl7dmFyIHI9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6e30sbj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDp7fSxpPXt9O3IuYmlkRmxvb3ImJihpLmJpZGZsb29yPXIuYmlkRmxvb3IpLGEoaSx0aGlzLmZvcm1hdEtleVZhbHVlcyhyLmtleVZhbHVlcykpLGEoaSx0aGlzLmZvcm1hdENvbnNlbnREYXRhKG4pKTt2YXIgbz0iIjtyZXR1cm4gcy5fZWFjaChpLGZ1bmN0aW9uKGUsdCl7bys9IiIuY29uY2F0KHQsIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGUpLCI7Iil9KSxvfSxmb3JtYXRPbmVNb2JpbGVEeW5hbWljUGFyYW1zOmZ1bmN0aW9uKGUsdCl7dmFyIHI9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6e30sbj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PXQ/dDp7fTt0aGlzLmlzU2VjdXJlUHJvdG9jb2woKSYmKHIuc2VjdXJlPVApLGEocix0aGlzLmZvcm1hdENvbnNlbnREYXRhKG4pKTt2YXIgaT0iIjtyZXR1cm4gcy5fZWFjaChyLGZ1bmN0aW9uKGUsdCl7aSs9IiYiLmNvbmNhdCh0LCI9IikuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlKSl9KSxpfSxidWlsZE9wZW5SdGJSZXF1ZXN0RGF0YTpmdW5jdGlvbihlLHQpe3ZhciByLG49MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6e30saT17aWQ6ZS5wYXJhbXMuaWQsaW1wOmUucGFyYW1zLmltcH07cmV0dXJuIHRoaXMuaXNFVUNvbnNlbnRSZXF1aXJlZChuKSYmKHMuZGVlcFNldFZhbHVlKGksInJlZ3MuZXh0LmdkcHIiLFApLG4uZ2Rwci5jb25zZW50U3RyaW5nJiZzLmRlZXBTZXRWYWx1ZShpLCJ1c2VyLmV4dC5jb25zZW50IixuLmdkcHIuY29uc2VudFN0cmluZykpLG4udXNwQ29uc2VudCYmcy5kZWVwU2V0VmFsdWUoaSwicmVncy5leHQudXNfcHJpdmFjeSIsbi51c3BDb25zZW50KSwib2JqZWN0Ij09PWMoZS51c2VySWQpJiYoaS51c2VyPWkudXNlcnx8e30saS51c2VyLmV4dD1pLnVzZXIuZXh0fHx7fSwwPChyPUEoZSkpLmxlbmd0aCYmKGkudXNlci5leHQuZWlkcz1yKSksaX0saXNFVUNvbnNlbnRSZXF1aXJlZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLmdkcHImJmUuZ2Rwci5nZHByQXBwbGllcyl9LGZvcm1hdEtleVZhbHVlczpmdW5jdGlvbihlKXt2YXIgcj17fTtyZXR1cm4gcy5fZWFjaChlLGZ1bmN0aW9uKGUsdCl7clsia3YiLmNvbmNhdCh0KV09ZX0pLHJ9LGZvcm1hdENvbnNlbnREYXRhOmZ1bmN0aW9uKGUpe3ZhciB0PXt9O3JldHVybiB0aGlzLmlzRVVDb25zZW50UmVxdWlyZWQoZSkmJih0LmdkcHI9UCxlLmdkcHIuY29uc2VudFN0cmluZyYmKHQuZXVjb25zZW50PWUuZ2Rwci5jb25zZW50U3RyaW5nKSksZS51c3BDb25zZW50JiYodC51c19wcml2YWN5PWUudXNwQ29uc2VudCksdH0scGFyc2VQaXhlbEl0ZW1zOmZ1bmN0aW9uKGUpe3ZhciB0LG49L1x3Kig/PVxzKS8saT0vc3JjPSgifCcpKC4qPylcMS8sbz1bXTtyZXR1cm4hZXx8KHQ9ZS5tYXRjaCgvKGltZ3xpZnJhbWUpW1xzXFNdKj9zcmNccyo9XHMqKCJ8JykoLio/KVwyL2dpKSkmJnQuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKG4pWzBdLHI9ZS5tYXRjaChpKVsyXTt0JiZ0JiZvLnB1c2goe3R5cGU6dD09PXYuVEFHP3YuVFlQRTpiLlRZUEUsdXJsOnJ9KX0pLG99LF9wYXJzZUJpZFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsbjt0cnl7cj1lLnNlYXRiaWRbMF0uYmlkWzBdfWNhdGNoKGUpe3JldHVybn1pZihyLmV4dCYmci5leHQuZW5jcCluPXIuZXh0LmVuY3A7ZWxzZSBpZihudWxsPT09KG49ci5wcmljZSl8fGlzTmFOKG4pKXJldHVybiB2b2lkIHMubG9nRXJyb3IoIkludmFsaWQgcHJpY2UgaW4gYmlkIHJlc3BvbnNlIixsLkFPTCxyKTtyZXR1cm57YmlkZGVyQ29kZTp0LmJpZGRlckNvZGUscmVxdWVzdElkOnQuYmlkSWQsYWQ6ci5hZG0sY3BtOm4sd2lkdGg6ci53LGhlaWdodDpyLmgsY3JlYXRpdmVJZDpyLmNyaWR8fDAscHViYXBpSWQ6ZS5pZCxjdXJyZW5jeTplLmN1cnx8IlVTRCIsZGVhbElkOnIuZGVhbGlkLG5ldFJldmVudWU6ITAsdHRsOnQudHRsfX0saXNPbmVNb2JpbGVCaWRkZXI6VCxpc1NlY3VyZVByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuImh0dHBzOiI9PT1kb2N1bWVudC5sb2NhdGlvbi5wcm90b2NvbH19O09iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShNKX19LFsyNjZdKTsKdXBianNDaHVuayhbMzIwXSx7Mjc2OmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSgyNzcpfSwyNzc6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGt9KTt2YXIgZj1hKDExKSx3PWEoMCksQT1hKDMpLHY9YSgxKSx5PWEoMikscD1hKDI0KSx0PWEoMTApLHg9YS5uKHQpLG49YSgxMiksQz1hLm4obiksZz1hKDI5KSxpPWEoNyk7ZnVuY3Rpb24gcyhlKXtyZXR1cm4ocz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIGIoKXtyZXR1cm4oYj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgYT1hcmd1bWVudHNbcl07Zm9yKHZhciB0IGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsdCkmJihlW3RdPWFbdF0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIFMoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIG8oZSl9KGUpfHxmdW5jdGlvbihlKXtpZigidW5kZWZpbmVkIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSlyZXR1cm4gQXJyYXkuZnJvbShlKX0oZSl8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbyhlLHIpO3ZhciBhPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PWEmJmUuY29uc3RydWN0b3ImJihhPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1hfHwiU2V0Ij09PWEpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1hfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChhKSlyZXR1cm4gbyhlLHIpfShlKXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZS5cbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC4iKX0oKX1mdW5jdGlvbiBvKGUscil7KG51bGw9PXJ8fHI+ZS5sZW5ndGgpJiYocj1lLmxlbmd0aCk7Zm9yKHZhciBhPTAsdD1uZXcgQXJyYXkocik7YTxyO2ErKyl0W2FdPWVbYV07cmV0dXJuIHR9dmFyIGQ9ImFwcG5leHVzIixUPSJodHRwczovL2liLmFkbnhzLmNvbS91dC92My9wcmViaWQiLGM9WyJpZCIsIm1pbmR1cmF0aW9uIiwibWF4ZHVyYXRpb24iLCJza2lwcGFibGUiLCJwbGF5YmFja19tZXRob2QiLCJmcmFtZXdvcmtzIiwiY29udGV4dCIsInNraXBvZmZzZXQiXSxFPVsiYWdlIiwiZXh0ZXJuYWxVaWQiLCJzZWdtZW50cyIsImdlbmRlciIsImRudCIsImxhbmd1YWdlIl0sTz1bImdlbyIsImRldmljZV9pZCJdLFI9WyJlbmFibGVkIiwiZG9uZ2xlIiwibWVtYmVyX2lkIiwiZGVidWdfdGltZW91dCJdLHU9e3BsYXliYWNrX21ldGhvZDp7dW5rbm93bjowLGF1dG9fcGxheV9zb3VuZF9vbjoxLGF1dG9fcGxheV9zb3VuZF9vZmY6MixjbGlja190b19wbGF5OjMsbW91c2Vfb3Zlcjo0LGF1dG9fcGxheV9zb3VuZF91bmtub3duOjV9LGNvbnRleHQ6e3Vua25vd246MCxwcmVfcm9sbDoxLG1pZF9yb2xsOjIscG9zdF9yb2xsOjMsb3V0c3RyZWFtOjQsImluLWJhbm5lciI6NX19LG09e2JvZHk6ImRlc2NyaXB0aW9uIixib2R5MjoiZGVzYzIiLGN0YToiY3RhdGV4dCIsaW1hZ2U6e3NlcnZlck5hbWU6Im1haW5faW1hZ2UiLHJlcXVpcmVkUGFyYW1zOntyZXF1aXJlZDohMH19LGljb246e3NlcnZlck5hbWU6Imljb24iLHJlcXVpcmVkUGFyYW1zOntyZXF1aXJlZDohMH19LHNwb25zb3JlZEJ5OiJzcG9uc29yZWRfYnkiLHByaXZhY3lMaW5rOiJwcml2YWN5X2xpbmsiLHNhbGVQcmljZToic2FsZXByaWNlIixkaXNwbGF5VXJsOiJkaXNwbGF5dXJsIn0sbD0iPHNjcmlwdCIsaD0vXC9cL2NkblwuYWRueHNcLmNvbVwvdi8sXz0idHJrLmpzIixqPU9iamVjdChpLmIpKDMyLGQpLGs9e2NvZGU6ZCxndmxpZDozMixhbGlhc2VzOlt7Y29kZToiYXBwbmV4dXNBc3QiLGd2bGlkOjMyfSx7Y29kZToiYnJlYWx0aW1lIn0se2NvZGU6ImVteGRpZ2l0YWwiLGd2bGlkOjE4M30se2NvZGU6InBhZ2VzY2llbmNlIn0se2NvZGU6ImRlZnltZWRpYSJ9LHtjb2RlOiJnb3VybWV0YWRzIn0se2NvZGU6Im1hdG9teSJ9LHtjb2RlOiJmZWF0dXJlZm9yd2FyZCJ9LHtjb2RlOiJvZnRtZWRpYSJ9LHtjb2RlOiJkaXN0cmljdG0iLGd2bGlkOjE0NH0se2NvZGU6ImFkYXN0YSJ9LHtjb2RlOiJiZWludG9vIixndmxpZDo2MTh9XSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlt5LmIseS5kLHkuY10saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMucGxhY2VtZW50SWR8fGUucGFyYW1zLm1lbWJlciYmZS5wYXJhbXMuaW52Q29kZSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdD1lLm1hcChOKSxhPXgoKShlLE0pLG49e307ITA9PT1BLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYobj17Y29wcGE6ITB9KSxhJiZPYmplY3Qua2V5cyhhLnBhcmFtcy51c2VyKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIEMoKShFLGUpfSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj13LmNvbnZlcnRDYW1lbFRvVW5kZXJzY29yZShlKTtuW3JdPWEucGFyYW1zLnVzZXJbZV19KTt2YXIgaSxzPXgoKShlLEQpO3MmJnMucGFyYW1zJiZzLnBhcmFtcy5hcHAmJihpPXt9LE9iamVjdC5rZXlzKHMucGFyYW1zLmFwcCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBDKCkoTyxlKX0pLmZvckVhY2goZnVuY3Rpb24oZSl7cmV0dXJuIGlbZV09cy5wYXJhbXMuYXBwW2VdfSkpO3ZhciBvLGQ9eCgpKGUsQik7ZCYmZC5wYXJhbXMmJnMucGFyYW1zLmFwcCYmcy5wYXJhbXMuYXBwLmlkJiYobz17YXBwaWQ6ZC5wYXJhbXMuYXBwLmlkfSk7dmFyIHA9e30sYz17fSx1PWouZ2V0Q29va2llKCJhcG5fcHJlYmlkX2RlYnVnIil8fG51bGw7aWYodSl0cnl7cD1KU09OLnBhcnNlKHUpfWNhdGNoKGUpe3cubG9nRXJyb3IoIkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gQ29va2llIEVycm9yOlxuXG4iK2UpfWVsc2V7dmFyIG09eCgpKGUsVik7bSYmbS5kZWJ1ZyYmKHA9bS5kZWJ1Zyl9cCYmcC5lbmFibGVkJiZPYmplY3Qua2V5cyhwKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIEMoKShSLGUpfSkuZm9yRWFjaChmdW5jdGlvbihlKXtjW2VdPXBbZV19KTt2YXIgbCxmPXgoKShlLHopLHY9Zj9wYXJzZUludChmLnBhcmFtcy5tZW1iZXIsMTApOjAseT1lWzBdLnNjaGFpbixnPXgoKShlLFcpLGI9e3RhZ3M6Uyh0KSx1c2VyOm4sc2RrOntzb3VyY2U6InBianMiLHZlcnNpb246IjQuMTcuMCJ9LHNjaGFpbjp5fTtnJiYoYi5pYWJfc3VwcG9ydD17b21pZHBuOiJBcHBuZXh1cyIsb21pZHB2OiI0LjE3LjAifSksMDx2JiYoYi5tZW1iZXJfaWQ9dikscyYmKGIuZGV2aWNlPWkpLGQmJihiLmFwcD1vKSxBLmIuZ2V0Q29uZmlnKCJhZHBvZC5icmFuZENhdGVnb3J5RXhjbHVzaW9uIikmJihiLmJyYW5kX2NhdGVnb3J5X3VuaXF1ZW5lc3M9ITApLGMuZW5hYmxlZCYmKGIuZGVidWc9Yyx3LmxvZ0luZm8oIkFwcE5leHVzIERlYnVnIEF1Y3Rpb24gU2V0dGluZ3M6XG5cbiIrSlNPTi5zdHJpbmdpZnkoYyxudWxsLDQpKSksciYmci5nZHByQ29uc2VudCYmKGIuZ2Rwcl9jb25zZW50PXtjb25zZW50X3N0cmluZzpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsY29uc2VudF9yZXF1aXJlZDpyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksciYmci51c3BDb25zZW50JiYoYi51c19wcml2YWN5PXIudXNwQ29uc2VudCksciYmci5yZWZlcmVySW5mbyYmKGw9e3JkX3JlZjplbmNvZGVVUklDb21wb25lbnQoci5yZWZlcmVySW5mby5yZWZlcmVyKSxyZF90b3A6ci5yZWZlcmVySW5mby5yZWFjaGVkVG9wLHJkX2lmczpyLnJlZmVyZXJJbmZvLm51bUlmcmFtZXMscmRfc3RrOnIucmVmZXJlckluZm8uc3RhY2subWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSl9KS5qb2luKCIsIil9LGIucmVmZXJyZXJfZGV0ZWN0aW9uPWwpLHgoKShlLEopJiZlLmZpbHRlcihKKS5mb3JFYWNoKGZ1bmN0aW9uKHIpe3ZhciBlPWZ1bmN0aW9uKGUscil7dmFyIGE9ci5tZWRpYVR5cGVzLnZpZGVvLHQ9YS5kdXJhdGlvblJhbmdlU2VjLG49YS5yZXF1aXJlRXhhY3REdXJhdGlvbixpPWZ1bmN0aW9uKGUpe3ZhciByPWUuYWRQb2REdXJhdGlvblNlYyxhPWUuZHVyYXRpb25SYW5nZVNlYyx0PWUucmVxdWlyZUV4YWN0RHVyYXRpb24sbj13LmdldE1pblZhbHVlRnJvbUFycmF5KGEpLGk9TWF0aC5mbG9vcihyL24pO3JldHVybiB0P01hdGgubWF4KGksYS5sZW5ndGgpOml9KHIubWVkaWFUeXBlcy52aWRlbykscz13LmdldE1heFZhbHVlRnJvbUFycmF5KHQpLG89ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXVpZD09PXIuYmlkSWR9KSxkPXcuZmlsbC5hcHBseSh3LFMobykuY29uY2F0KFtpXSkpO3t2YXIgcCxjO24/KHA9TWF0aC5jZWlsKGkvdC5sZW5ndGgpLGM9dy5jaHVuayhkLHApLHQuZm9yRWFjaChmdW5jdGlvbihyLGUpe2NbZV0ubWFwKGZ1bmN0aW9uKGUpe0YoZSwibWluZHVyYXRpb24iLHIpLEYoZSwibWF4ZHVyYXRpb24iLHIpfSl9KSk6ZC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEYoZSwibWF4ZHVyYXRpb24iLHMpfSl9cmV0dXJuIGR9KHQsciksYT1iLnRhZ3MuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBlLnV1aWQhPT1yLmJpZElkfSk7Yi50YWdzPVtdLmNvbmNhdChTKGEpLFMoZSkpfSk7dmFyIGgsXz13LmRlZXBBY2Nlc3MoZVswXSwidXNlcklkLmNyaXRlb0lkIik7XyYmKChoPVtdKS5wdXNoKHtwcm92aWRlcjoiY3JpdGVvIix1c2VyX2lkOl99KSxiLnRwdWlkcz1oKTt2YXIgaz1bXSxJPXcuZGVlcEFjY2VzcyhlWzBdLCJ1c2VySWQudGRpZCIpO3JldHVybiBJJiZrLnB1c2goe3NvdXJjZToiYWRzZXJ2ZXIub3JnIixpZDpJLHJ0aV9wYXJ0bmVyOiJURElEIn0pLGsubGVuZ3RoJiYoYi5laWRzPWspLHRbMF0ucHVibGlzaGVyX2lkJiYoYi5wdWJsaXNoZXJfaWQ9dFswXS5wdWJsaXNoZXJfaWQpLGZ1bmN0aW9uKGUsYSl7dmFyIHQ9W10sbj17fTshZnVuY3Rpb24oZSl7dmFyIHI9ITA7ZSYmZS5nZHByQ29uc2VudCYmZS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmMj09PWUuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbiYmKHI9ISghMCE9PXcuZGVlcEFjY2VzcyhlLmdkcHJDb25zZW50LCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKSk7cmV0dXJuIHJ9KGEpJiYobj17d2l0aENyZWRlbnRpYWxzOiExfSk7e3ZhciBpLHI7MTU8ZS50YWdzLmxlbmd0aD8oaT13LmRlZXBDbG9uZShlKSx3LmNodW5rKGUudGFncywxNSkuZm9yRWFjaChmdW5jdGlvbihlKXtpLnRhZ3M9ZTt2YXIgcj1KU09OLnN0cmluZ2lmeShpKTt0LnB1c2goe21ldGhvZDoiUE9TVCIsdXJsOlQsZGF0YTpyLGJpZGRlclJlcXVlc3Q6YSxvcHRpb25zOm59KX0pKToocj1KU09OLnN0cmluZ2lmeShlKSx0PXttZXRob2Q6IlBPU1QiLHVybDpULGRhdGE6cixiaWRkZXJSZXF1ZXN0OmEsb3B0aW9uczpufSl9cmV0dXJuIHR9KGIscil9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIGk9dGhpcyxzPXIuYmlkZGVyUmVxdWVzdDtlPWUuYm9keTt2YXIgYSxvPVtdO2lmKGUmJiFlLmVycm9yKXJldHVybiBlLnRhZ3MmJmUudGFncy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByLGEsdCxuPShyPWUpJiZyLmFkcyYmci5hZHMubGVuZ3RoJiZ4KCkoci5hZHMsZnVuY3Rpb24oZSl7cmV0dXJuIGUucnRifSk7biYmMCE9PW4uY3BtJiZDKCkoaS5zdXBwb3J0ZWRNZWRpYVR5cGVzLG4uYWRfdHlwZSkmJigoYT1mdW5jdGlvbihyLGUsYSl7dmFyIHQ9dy5nZXRCaWRSZXF1ZXN0KHIudXVpZCxbYV0pLG49e3JlcXVlc3RJZDpyLnV1aWQsY3BtOmUuY3BtLGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZV9pZCxkZWFsSWQ6ZS5kZWFsX2lkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjMwMCxhZFVuaXRDb2RlOnQuYWRVbml0Q29kZSxhcHBuZXh1czp7YnV5ZXJNZW1iZXJJZDplLmJ1eWVyX21lbWJlcl9pZCxkZWFsUHJpb3JpdHk6ZS5kZWFsX3ByaW9yaXR5LGRlYWxDb2RlOmUuZGVhbF9jb2RlfX07ZS5hZHZlcnRpc2VyX2lkJiYobi5tZXRhPWIoe30sbi5tZXRhLHthZHZlcnRpc2VySWQ6ZS5hZHZlcnRpc2VyX2lkfSkpO2lmKGUucnRiLnZpZGVvKXt2YXIgaSxzO3N3aXRjaChiKG4se3dpZHRoOmUucnRiLnZpZGVvLnBsYXllcl93aWR0aCxoZWlnaHQ6ZS5ydGIudmlkZW8ucGxheWVyX2hlaWdodCx2YXN0SW1wVXJsOmUubm90aWZ5X3VybCx0dGw6MzYwMH0pLHcuZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSl7Y2FzZSB5LmE6dmFyIG89T2JqZWN0KHYuZ2V0SWFiU3ViQ2F0ZWdvcnkpKHQuYmlkZGVyLGUuYnJhbmRfY2F0ZWdvcnlfaWQpO24ubWV0YT1iKHt9LG4ubWV0YSx7cHJpbWFyeUNhdElkOm99KTt2YXIgZD1lLmRlYWxfcHJpb3JpdHk7bi52aWRlbz17Y29udGV4dDp5LmEsZHVyYXRpb25TZWNvbmRzOk1hdGguZmxvb3IoZS5ydGIudmlkZW8uZHVyYXRpb25fbXMvMWUzKSxkZWFsVGllcjpkfSxuLnZhc3RVcmw9ZS5ydGIudmlkZW8uYXNzZXRfdXJsO2JyZWFrO2Nhc2UgZy5iOm4uYWRSZXNwb25zZT1yLG4uYWRSZXNwb25zZS5hZD1uLmFkUmVzcG9uc2UuYWRzWzBdLG4uYWRSZXNwb25zZS5hZC52aWRlbz1uLmFkUmVzcG9uc2UuYWQucnRiLnZpZGVvLG4udmFzdFhtbD1lLnJ0Yi52aWRlby5jb250ZW50LGUucmVuZGVyZXJfdXJsJiYoaT14KCkoYS5iaWRzLGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZElkPT09ci51dWlkfSkscz13LmRlZXBBY2Nlc3MoaSwicmVuZGVyZXIub3B0aW9ucyIpLG4ucmVuZGVyZXI9ZnVuY3Rpb24oZSxyKXt2YXIgYT0yPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sdD1mLmEuaW5zdGFsbCh7aWQ6ci5yZW5kZXJlcl9pZCx1cmw6ci5yZW5kZXJlcl91cmwsY29uZmlnOmEsbG9hZGVkOiExLGFkVW5pdENvZGU6ZX0pO3RyeXt0LnNldFJlbmRlcihMKX1jYXRjaChlKXt3LmxvZ1dhcm4oIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIHQuc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiB3LmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiB3LmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXt3LmxvZ01lc3NhZ2UoIkFwcE5leHVzIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpLGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiMiLmNvbmNhdChlKSkuc3R5bGUuZGlzcGxheT0ibm9uZSJ9fSksdH0obi5hZFVuaXRDb2RlLGUscykpO2JyZWFrO2Nhc2UgZy5hOm4udmFzdFVybD1lLm5vdGlmeV91cmwrIiZyZWRpcj0iK2VuY29kZVVSSUNvbXBvbmVudChlLnJ0Yi52aWRlby5hc3NldF91cmwpfX1lbHNlIGlmKGUucnRiW3kuY10pe3ZhciBwPWUucnRiW3kuY10sYz1lLnZpZXdhYmlsaXR5LmNvbmZpZy5yZXBsYWNlKCJzcmM9IiwiZGF0YS1zcmM9IiksdT1wLmphdmFzY3JpcHRfdHJhY2tlcnM7bnVsbD09dT91PWM6dy5pc1N0cih1KT91PVt1LGNdOnUucHVzaChjKSxuW3kuY109e3RpdGxlOnAudGl0bGUsYm9keTpwLmRlc2MsYm9keTI6cC5kZXNjMixjdGE6cC5jdGF0ZXh0LHJhdGluZzpwLnJhdGluZyxzcG9uc29yZWRCeTpwLnNwb25zb3JlZCxwcml2YWN5TGluazpwLnByaXZhY3lfbGluayxhZGRyZXNzOnAuYWRkcmVzcyxkb3dubG9hZHM6cC5kb3dubG9hZHMsbGlrZXM6cC5saWtlcyxwaG9uZTpwLnBob25lLHByaWNlOnAucHJpY2Usc2FsZVByaWNlOnAuc2FsZXByaWNlLGNsaWNrVXJsOnAubGluay51cmwsZGlzcGxheVVybDpwLmRpc3BsYXl1cmwsY2xpY2tUcmFja2VyczpwLmxpbmsuY2xpY2tfdHJhY2tlcnMsaW1wcmVzc2lvblRyYWNrZXJzOnAuaW1wcmVzc2lvbl90cmFja2VycyxqYXZhc2NyaXB0VHJhY2tlcnM6dX0scC5tYWluX2ltZyYmKG4ubmF0aXZlLmltYWdlPXt1cmw6cC5tYWluX2ltZy51cmwsaGVpZ2h0OnAubWFpbl9pbWcuaGVpZ2h0LHdpZHRoOnAubWFpbl9pbWcud2lkdGh9KSxwLmljb24mJihuLm5hdGl2ZS5pY29uPXt1cmw6cC5pY29uLnVybCxoZWlnaHQ6cC5pY29uLmhlaWdodCx3aWR0aDpwLmljb24ud2lkdGh9KX1lbHNle2Iobix7d2lkdGg6ZS5ydGIuYmFubmVyLndpZHRoLGhlaWdodDplLnJ0Yi5iYW5uZXIuaGVpZ2h0LGFkOmUucnRiLmJhbm5lci5jb250ZW50fSk7dHJ5e3ZhciBtLGw7ZS5ydGIudHJhY2tlcnMmJihtPWUucnRiLnRyYWNrZXJzWzBdLmltcHJlc3Npb25fdXJsc1swXSxsPXcuY3JlYXRlVHJhY2tQaXhlbEh0bWwobSksbi5hZCs9bCl9Y2F0Y2goZSl7dy5sb2dFcnJvcigiRXJyb3IgYXBwZW5kaW5nIHRyYWNraW5nIHBpeGVsIixlKX19cmV0dXJuIG59KGUsbixzKSkubWVkaWFUeXBlPSh0PW4uYWRfdHlwZSk9PT15LmQ/eS5kOnQ9PT15LmM/eS5jOnkuYixvLnB1c2goYSkpfSksZS5kZWJ1ZyYmZS5kZWJ1Zy5kZWJ1Z19pbmZvJiYoYT0oYT0iQXBwTmV4dXMgRGVidWcgQXVjdGlvbiBmb3IgUHJlYmlkXG5cbiIrZS5kZWJ1Zy5kZWJ1Z19pbmZvKS5yZXBsYWNlKC8oPHRkPnw8dGg+KS9nbSwiXHQiKS5yZXBsYWNlKC8oPFwvdGQ+fDxcL3RoPikvZ20sIlxuIikucmVwbGFjZSgvXjxicj4vZ20sIiIpLnJlcGxhY2UoLyg8YnI+XG58PGJyPikvZ20sIlxuIikucmVwbGFjZSgvPGgxPiguKik8XC9oMT4vZ20sIlxuXG49PT09PSAkMSA9PT09PVxuXG4iKS5yZXBsYWNlKC88aFsyLTZdPiguKik8XC9oWzItNl0+L2dtLCJcblxuKioqICQxICoqKlxuXG4iKS5yZXBsYWNlKC8oPChbXj5dKyk+KS9naW0sIiIpLHcubG9nTWVzc2FnZSgiaHR0cHM6Ly9jb25zb2xlLmFwcG5leHVzLmNvbS9kb2NzL3VuZGVyc3RhbmRpbmctdGhlLWRlYnVnLWF1Y3Rpb24iKSx3LmxvZ01lc3NhZ2UoYSkpLG87dmFyIHQ9ImluIHJlc3BvbnNlIGZvciAiLmNvbmNhdChzLmJpZGRlckNvZGUsIiBhZGFwdGVyIik7cmV0dXJuIGUmJmUuZXJyb3ImJih0Kz0iOiAiLmNvbmNhdChlLmVycm9yKSksdy5sb2dFcnJvcih0KSxvfSxnZXRNYXBwaW5nRmlsZUluZm86ZnVuY3Rpb24oKXtyZXR1cm57dXJsOiJodHRwczovL2FjZG4uYWRueHMuY29tL3ByZWJpZC9hcHBuZXh1cy1tYXBwaW5nL21hcHBpbmdzLmpzb24iLHJlZnJlc2hJbkRheXM6Mn19LGdldFVzZXJTeW5jczpmdW5jdGlvbihlKXtpZihlLmlmcmFtZUVuYWJsZWQpcmV0dXJuW3t0eXBlOiJpZnJhbWUiLHVybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS9kbXAvYXN5bmNfdXNlcnN5bmMuaHRtbCJ9XX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGEsZSl7cmV0dXJuIGE9dy5jb252ZXJ0VHlwZXMoe21lbWJlcjoic3RyaW5nIixpbnZDb2RlOiJzdHJpbmciLHBsYWNlbWVudElkOiJudW1iZXIiLGtleXdvcmRzOncudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyxwdWJsaXNoZXJJZDoibnVtYmVyIn0sYSksZSYmKGEudXNlX3BtdF9ydWxlPSJib29sZWFuIj09dHlwZW9mIGEudXNlUGF5bWVudFJ1bGUmJmEudXNlUGF5bWVudFJ1bGUsYS51c2VQYXltZW50UnVsZSYmZGVsZXRlIGEudXNlUGF5bWVudFJ1bGUsSShhLmtleXdvcmRzKSYmYS5rZXl3b3Jkcy5mb3JFYWNoKFApLE9iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dy5jb252ZXJ0Q2FtZWxUb1VuZGVyc2NvcmUoZSk7ciE9PWUmJihhW3JdPWFbZV0sZGVsZXRlIGFbZV0pfSkpLGF9LG9uQmlkV29uOmZ1bmN0aW9uKGUpe2UubmF0aXZlJiZmdW5jdGlvbihlKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgcjtpZih3LmlzU3RyKGUpJiZVKGUpKXI9ZTtlbHNlIGlmKHcuaXNBcnJheShlKSlmb3IodmFyIGE9MDthPGUubGVuZ3RoO2ErKyl7dmFyIHQ9ZVthXTtVKHQpJiYocj10KX1yZXR1cm4gcn0oZS5uYXRpdmUuamF2YXNjcmlwdFRyYWNrZXJzKTtpZihyKWZvcih2YXIgYT0icGJqc19hZGlkPSIrZS5hZElkKyI7cGJqc19hdWM9IitlLmFkVW5pdENvZGUsdD1mdW5jdGlvbihlKXt2YXIgcj1lLmluZGV4T2YoJ3NyYz0iJykrNSxhPWUuaW5kZXhPZignIicscik7cmV0dXJuIGUuc3Vic3RyaW5nKHIsYSl9KHIpLG49dC5yZXBsYWNlKCJkb21faWQ9JW5hdGl2ZV9kb21faWQlIixhKSxpPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpZnJhbWUiKSxzPSExLG89MDtvPGkubGVuZ3RoJiYhcztvKyspe3ZhciBkPWlbb107dHJ5e3ZhciBwPWQuY29udGVudERvY3VtZW50fHxkLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7aWYocClmb3IodmFyIGM9cC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksdT0wO3U8Yy5sZW5ndGgmJiFzO3UrKyl7dmFyIG09Y1t1XTttLmdldEF0dHJpYnV0ZSgiZGF0YS1zcmMiKT09dCYmKG0uc2V0QXR0cmlidXRlKCJzcmMiLG4pLG0uc2V0QXR0cmlidXRlKCJkYXRhLXNyYyIsIiIpLG0ucmVtb3ZlQXR0cmlidXRlJiZtLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1zcmMiKSxzPSEwKX19Y2F0Y2goZSl7aWYoIShlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uJiYiU2VjdXJpdHlFcnJvciI9PT1lLm5hbWUpKXRocm93IGV9fX0oZSl9fTtmdW5jdGlvbiBJKGUpe3JldHVybiB3LmlzQXJyYXkoZSkmJjA8ZS5sZW5ndGh9ZnVuY3Rpb24gUChlKXtJKGUudmFsdWUpJiYiIj09PWUudmFsdWVbMF0mJmRlbGV0ZSBlLnZhbHVlfWZ1bmN0aW9uIFUoZSl7dmFyIHI9ZS5tYXRjaChoKSxhPW51bGwhPXImJjE8PXIubGVuZ3RoLHQ9ZS5tYXRjaChfKSxuPW51bGwhPXQmJjE8PXQubGVuZ3RoO3JldHVybiBlLnN0YXJ0c1dpdGgobCkmJm4mJmF9ZnVuY3Rpb24gTihhKXt2YXIgZSxyLG4saSx0PXt9O3Quc2l6ZXM9cShhLnNpemVzKSx0LnByaW1hcnlfc2l6ZT10LnNpemVzWzBdLHQuYWRfdHlwZXM9W10sdC51dWlkPWEuYmlkSWQsYS5wYXJhbXMucGxhY2VtZW50SWQ/dC5pZD1wYXJzZUludChhLnBhcmFtcy5wbGFjZW1lbnRJZCwxMCk6dC5jb2RlPWEucGFyYW1zLmludkNvZGUsdC5hbGxvd19zbWFsbGVyX3NpemVzPWEucGFyYW1zLmFsbG93U21hbGxlclNpemVzfHwhMSx0LnVzZV9wbXRfcnVsZT1hLnBhcmFtcy51c2VQYXltZW50UnVsZXx8ITEsdC5wcmViaWQ9ITAsdC5kaXNhYmxlX3BzYT0hMCxhLnBhcmFtcy5yZXNlcnZlJiYodC5yZXNlcnZlPWEucGFyYW1zLnJlc2VydmUpLGEucGFyYW1zLnBvc2l0aW9uJiYodC5wb3NpdGlvbj17YWJvdmU6MSxiZWxvdzoyfVthLnBhcmFtcy5wb3NpdGlvbl18fDApLGEucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlJiYodC50cmFmZmljX3NvdXJjZV9jb2RlPWEucGFyYW1zLnRyYWZmaWNTb3VyY2VDb2RlKSxhLnBhcmFtcy5wcml2YXRlU2l6ZXMmJih0LnByaXZhdGVfc2l6ZXM9cShhLnBhcmFtcy5wcml2YXRlU2l6ZXMpKSxhLnBhcmFtcy5zdXBwbHlUeXBlJiYodC5zdXBwbHlfdHlwZT1hLnBhcmFtcy5zdXBwbHlUeXBlKSxhLnBhcmFtcy5wdWJDbGljayYmKHQucHViY2xpY2s9YS5wYXJhbXMucHViQ2xpY2spLGEucGFyYW1zLmV4dEludkNvZGUmJih0LmV4dF9pbnZfY29kZT1hLnBhcmFtcy5leHRJbnZDb2RlKSxhLnBhcmFtcy5wdWJsaXNoZXJJZCYmKHQucHVibGlzaGVyX2lkPXBhcnNlSW50KGEucGFyYW1zLnB1Ymxpc2hlcklkLDEwKSksYS5wYXJhbXMuZXh0ZXJuYWxJbXBJZCYmKHQuZXh0ZXJuYWxfaW1wX2lkPWEucGFyYW1zLmV4dGVybmFsSW1wSWQpLHcuaXNFbXB0eShhLnBhcmFtcy5rZXl3b3Jkcyl8fCgwPChlPXcudHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyhhLnBhcmFtcy5rZXl3b3JkcykpLmxlbmd0aCYmZS5mb3JFYWNoKFApLHQua2V5d29yZHM9ZSksYS5tZWRpYVR5cGUhPT15LmMmJiF3LmRlZXBBY2Nlc3MoYSwibWVkaWFUeXBlcy4iLmNvbmNhdCh5LmMpKXx8KHQuYWRfdHlwZXMucHVzaCh5LmMpLDA9PT10LnNpemVzLmxlbmd0aCYmKHQuc2l6ZXM9cShbMSwxXSkpLGEubmF0aXZlUGFyYW1zJiYobj1hLm5hdGl2ZVBhcmFtcyxpPXt9LE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHIsYT1tW2VdJiZtW2VdLnNlcnZlck5hbWV8fG1bZV18fGUsdD1tW2VdJiZtW2VdLnJlcXVpcmVkUGFyYW1zO2lbYV09Yih7fSx0LG5bZV0pLGEhPT1tLmltYWdlLnNlcnZlck5hbWUmJmEhPT1tLmljb24uc2VydmVyTmFtZXx8IWlbYV0uc2l6ZXN8fChyPWlbYV0uc2l6ZXMsKHcuaXNBcnJheU9mTnVtcyhyKXx8dy5pc0FycmF5KHIpJiYwPHIubGVuZ3RoJiZyLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiB3LmlzQXJyYXlPZk51bXMoZSl9KSkmJihpW2FdLnNpemVzPXEoaVthXS5zaXplcykpKSxhPT09bS5wcml2YWN5TGluayYmKGkucHJpdmFjeV9zdXBwb3J0ZWQ9ITApfSkscj1pLHRbeS5jXT17bGF5b3V0czpbcl19KSk7dmFyIHM9dy5kZWVwQWNjZXNzKGEsIm1lZGlhVHlwZXMuIi5jb25jYXQoeS5kKSksbz13LmRlZXBBY2Nlc3MoYSwibWVkaWFUeXBlcy52aWRlby5jb250ZXh0Iik7dC5oYl9zb3VyY2U9cyYmImFkcG9kIj09PW8/NzoxLGEubWVkaWFUeXBlIT09eS5kJiYhc3x8dC5hZF90eXBlcy5wdXNoKHkuZCksKGEubWVkaWFUeXBlPT09eS5kfHxzJiYib3V0c3RyZWFtIiE9PW8pJiYodC5yZXF1aXJlX2Fzc2V0X3VybD0hMCksYS5wYXJhbXMudmlkZW8mJih0LnZpZGVvPXt9LE9iamVjdC5rZXlzKGEucGFyYW1zLnZpZGVvKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIEMoKShjLGUpfSkuZm9yRWFjaChmdW5jdGlvbihlKXtzd2l0Y2goZSl7Y2FzZSJjb250ZXh0IjpjYXNlInBsYXliYWNrX21ldGhvZCI6dmFyIHI9YS5wYXJhbXMudmlkZW9bZV0scj13LmlzQXJyYXkocik/clswXTpyO3QudmlkZW9bZV09dVtlXVtyXTticmVhaztjYXNlImZyYW1ld29ya3MiOmJyZWFrO2RlZmF1bHQ6dC52aWRlb1tlXT1hLnBhcmFtcy52aWRlb1tlXX19KSxhLnBhcmFtcy52aWRlby5mcmFtZXdvcmtzJiZ3LmlzQXJyYXkoYS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcykmJih0LnZpZGVvX2ZyYW1ld29ya3M9YS5wYXJhbXMudmlkZW8uZnJhbWV3b3JrcykpLGEucmVuZGVyZXImJih0LnZpZGVvPWIoe30sdC52aWRlbyx7Y3VzdG9tX3JlbmRlcmVyX3ByZXNlbnQ6ITB9KSksYS5wYXJhbXMuZnJhbWV3b3JrcyYmdy5pc0FycmF5KGEucGFyYW1zLmZyYW1ld29ya3MpJiYodC5iYW5uZXJfZnJhbWV3b3Jrcz1hLnBhcmFtcy5mcmFtZXdvcmtzKTt2YXIgZD14KCkocC5hLmdldEFkVW5pdHMoKSxmdW5jdGlvbihlKXtyZXR1cm4gYS50cmFuc2FjdGlvbklkPT09ZS50cmFuc2FjdGlvbklkfSk7cmV0dXJuIGQmJmQubWVkaWFUeXBlcyYmZC5tZWRpYVR5cGVzLmJhbm5lciYmdC5hZF90eXBlcy5wdXNoKHkuYiksMD09PXQuYWRfdHlwZXMubGVuZ3RoJiZkZWxldGUgdC5hZF90eXBlcyx0fWZ1bmN0aW9uIHEoZSl7dmFyIHI9W10sYT17fTtpZih3LmlzQXJyYXkoZSkmJjI9PT1lLmxlbmd0aCYmIXcuaXNBcnJheShlWzBdKSlhLndpZHRoPXBhcnNlSW50KGVbMF0sMTApLGEuaGVpZ2h0PXBhcnNlSW50KGVbMV0sMTApLHIucHVzaChhKTtlbHNlIGlmKCJvYmplY3QiPT09cyhlKSlmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIG49ZVt0XTsoYT17fSkud2lkdGg9cGFyc2VJbnQoblswXSwxMCksYS5oZWlnaHQ9cGFyc2VJbnQoblsxXSwxMCksci5wdXNoKGEpfXJldHVybiByfWZ1bmN0aW9uIE0oZSl7cmV0dXJuISFlLnBhcmFtcy51c2VyfWZ1bmN0aW9uIHooZSl7cmV0dXJuISFwYXJzZUludChlLnBhcmFtcy5tZW1iZXIsMTApfWZ1bmN0aW9uIEQoZSl7aWYoZS5wYXJhbXMpcmV0dXJuISFlLnBhcmFtcy5hcHB9ZnVuY3Rpb24gQihlKXtyZXR1cm4gZS5wYXJhbXMmJmUucGFyYW1zLmFwcD8hIWUucGFyYW1zLmFwcC5pZDohIWUucGFyYW1zLmFwcH1mdW5jdGlvbiBWKGUpe3JldHVybiEhZS5kZWJ1Z31mdW5jdGlvbiBKKGUpe3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy52aWRlbyYmZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQ9PT15LmF9ZnVuY3Rpb24gVyhlKXt2YXIgcj0hMSxhPWUucGFyYW1zLHQ9ZS5wYXJhbXMudmlkZW87cmV0dXJuIGEuZnJhbWV3b3JrcyYmdy5pc0FycmF5KGEuZnJhbWV3b3JrcykmJihyPUMoKShlLnBhcmFtcy5mcmFtZXdvcmtzLDYpKSwhciYmdCYmdC5mcmFtZXdvcmtzJiZ3LmlzQXJyYXkodC5mcmFtZXdvcmtzKSYmKHI9QygpKGUucGFyYW1zLnZpZGVvLmZyYW1ld29ya3MsNikpLHJ9ZnVuY3Rpb24gRihlLHIsYSl7dy5pc0VtcHR5KGUudmlkZW8pJiYoZS52aWRlbz17fSksZS52aWRlb1tyXT1hfWZ1bmN0aW9uIEwoZSl7dmFyIHIsYTtyPWUuYWRVbml0Q29kZSwoYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChyKS5xdWVyeVNlbGVjdG9yQWxsKCJkaXZbaWRePSdnb29nbGVfYWRzJ10iKSlbMF0mJmFbMF0uc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCJub25lIiksZS5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3RhZ0lkOmUuYWRSZXNwb25zZS50YWdfaWQsc2l6ZXM6W2UuZ2V0U2l6ZSgpLnNwbGl0KCJ4IildLHRhcmdldElkOmUuYWRVbml0Q29kZSx1dWlkOmUuYWRSZXNwb25zZS51dWlkLGFkUmVzcG9uc2U6ZS5hZFJlc3BvbnNlLHJlbmRlcmVyT3B0aW9uczplLnJlbmRlcmVyLmdldENvbmZpZygpfSxmdW5jdGlvbihlLHIsYSl7ZS5yZW5kZXJlci5oYW5kbGVWaWRlb0V2ZW50KHtpZDpyLGV2ZW50TmFtZTphfSl9LmJpbmQobnVsbCxlKSl9KX1PYmplY3Qodi5yZWdpc3RlckJpZGRlcikoayl9fSxbMjc2XSk7CnVwYmpzQ2h1bmsoWzI4NV0sezM1NDpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMzU1KX0sMzU1OmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJhbGxvd0F1Y3Rpb24iLGZ1bmN0aW9uKCl7cmV0dXJuIHl9KSxlLmQodCwidXNlckNNUCIsZnVuY3Rpb24oKXtyZXR1cm4gZH0pLGUuZCh0LCJjb25zZW50VGltZW91dCIsZnVuY3Rpb24oKXtyZXR1cm4gdX0pLGUuZCh0LCJnZHByU2NvcGUiLGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSxlLmQodCwic3RhdGljQ29uc2VudERhdGEiLGZ1bmN0aW9uKCl7cmV0dXJuIGd9KSx0LnJlcXVlc3RCaWRzSG9vaz1oLHQucmVzZXRDb25zZW50RGF0YT1mdW5jdGlvbigpe0M9dm9pZCAwLGQ9dm9pZCAwLHc9MCxhLmdkcHJEYXRhSGFuZGxlci5zZXRDb25zZW50RGF0YShudWxsKX0sdC5zZXRDb25zZW50Q29uZmlnPV87dmFyIGw9ZSgwKSxvPWUoMyksYT1lKDkpLGk9ZSgxMikscj1lLm4oaSkscz1lKDM1NiksZj1lLm4ocyk7ZnVuY3Rpb24gYyhuKXtyZXR1cm4oYz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0pKG4pfXZhciBkLHUscCxnLEMsbT0iaWFiIix2PTFlNCxiPSEwLHk9e3ZhbHVlOmIsZGVmaW5lZEluQ29uZmlnOiExfSx3PTAsRD0hMSxrPXtpYWI6ZnVuY3Rpb24obyxlLHIpe2Z1bmN0aW9uIG4obix0KXtsLmxvZ0luZm8oIlJlY2VpdmVkIGEgcmVzcG9uc2UgZnJvbSBDTVAiLG4pLHQ/ITEhPT1uLmdkcHJBcHBsaWVzJiYidGNsb2FkZWQiIT09bi5ldmVudFN0YXR1cyYmInVzZXJhY3Rpb25jb21wbGV0ZSIhPT1uLmV2ZW50U3RhdHVzfHxvKG4scik6ZSgiQ01QIHVuYWJsZSB0byByZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbi4gIFBsZWFzZSBjaGVjayBDTVAgc2V0dXAuIixyKX12YXIgdD1mdW5jdGlvbigpe3ZhciB0PXt9O2Z1bmN0aW9uIGUoKXt0LmdldENvbnNlbnREYXRhJiZ0LmdldFZlbmRvckNvbnNlbnRzJiYobC5sb2dJbmZvKCJSZWNlaXZlZCBhbGwgcmVxdWVzdGVkIHJlc3BvbnNlcyBmcm9tIENNUCIsdCksbyh0LHIpKX1yZXR1cm57Y29uc2VudERhdGFDYWxsYmFjazpmdW5jdGlvbihuKXt0LmdldENvbnNlbnREYXRhPW4sZSgpfSx2ZW5kb3JDb25zZW50c0NhbGxiYWNrOmZ1bmN0aW9uKG4pe3QuZ2V0VmVuZG9yQ29uc2VudHM9bixlKCl9fX0oKSx1PXt9LGE9ZnVuY3Rpb24oKXtmb3IodmFyIG4sdCxlPXdpbmRvdzshbjspe3RyeXtpZigiZnVuY3Rpb24iPT10eXBlb2YgZS5fX3RjZmFwaXx8ImZ1bmN0aW9uIj09dHlwZW9mIGUuX19jbXApe3Q9ImZ1bmN0aW9uIj09dHlwZW9mIGUuX190Y2ZhcGk/KHc9MixlLl9fdGNmYXBpKToodz0xLGUuX19jbXApLG49ZTticmVha319Y2F0Y2gobil7fXRyeXtpZihlLmZyYW1lcy5fX3RjZmFwaUxvY2F0b3Ipe3c9MixuPWU7YnJlYWt9fWNhdGNoKG4pe310cnl7aWYoZS5mcmFtZXMuX19jbXBMb2NhdG9yKXt3PTEsbj1lO2JyZWFrfX1jYXRjaChuKXt9aWYoZT09PXdpbmRvdy50b3ApYnJlYWs7ZT1lLnBhcmVudH1yZXR1cm57Y21wRnJhbWU6bixjbXBGdW5jdGlvbjp0fX0oKSxpPWEuY21wRnJhbWUscz1hLmNtcEZ1bmN0aW9uO2lmKCFpKXJldHVybiBlKCJDTVAgbm90IGZvdW5kLiIscik7bC5pc0ZuKHMpPyhsLmxvZ0luZm8oIkRldGVjdGVkIENNUCBBUEkgaXMgZGlyZWN0bHkgYWNjZXNzaWJsZSwgY2FsbGluZyBpdCBub3cuLi4iKSwxPT09dz8ocygiZ2V0Q29uc2VudERhdGEiLG51bGwsdC5jb25zZW50RGF0YUNhbGxiYWNrKSxzKCJnZXRWZW5kb3JDb25zZW50cyIsbnVsbCx0LnZlbmRvckNvbnNlbnRzQ2FsbGJhY2spKToyPT09dyYmcygiYWRkRXZlbnRMaXN0ZW5lciIsdyxuKSk6MT09PXcmJndpbmRvdy4kc2YmJndpbmRvdy4kc2YuZXh0JiYiZnVuY3Rpb24iPT10eXBlb2Ygd2luZG93LiRzZi5leHQuY21wPyhsLmxvZ0luZm8oIkRldGVjdGVkIFByZWJpZC5qcyBpcyBlbmNhc2VkIGluIGEgU2FmZUZyYW1lIGFuZCBDTVAgaXMgcmVnaXN0ZXJlZCwgY2FsbGluZyBpdCBub3cuLi4iKSxjKCJnZXRDb25zZW50RGF0YSIsdC5jb25zZW50RGF0YUNhbGxiYWNrKSxjKCJnZXRWZW5kb3JDb25zZW50cyIsdC52ZW5kb3JDb25zZW50c0NhbGxiYWNrKSk6KGwubG9nSW5mbygiRGV0ZWN0ZWQgQ01QIGlzIG91dHNpZGUgdGhlIGN1cnJlbnQgaWZyYW1lIHdoZXJlIFByZWJpZC5qcyBpcyBsb2NhdGVkLCBjYWxsaW5nIGl0IG5vdy4uLiIpLDE9PT13PyhkKCJnZXRDb25zZW50RGF0YSIsaSx0LmNvbnNlbnREYXRhQ2FsbGJhY2spLGQoImdldFZlbmRvckNvbnNlbnRzIixpLHQudmVuZG9yQ29uc2VudHNDYWxsYmFjaykpOjI9PT13JiZkKCJhZGRFdmVudExpc3RlbmVyIixpLG4pKTtmdW5jdGlvbiBjKG8sYSl7dmFyIG4sdD1yLmFkVW5pdHMsZT0xLGk9MTtBcnJheS5pc0FycmF5KHQpJiYwPHQubGVuZ3RoJiYoZT0obj1sLmdldEFkVW5pdFNpemVzKHRbMF0pKVswXVswXSxpPW5bMF1bMV0pLHdpbmRvdy4kc2YuZXh0LnJlZ2lzdGVyKGUsaSxmdW5jdGlvbihuLHQpe3ZhciBlOyJjbXBSZXR1cm4iPT09biYmKGU9ImdldENvbnNlbnREYXRhIj09PW8/dC52ZW5kb3JDb25zZW50RGF0YTp0LnZlbmRvckNvbnNlbnRzLGEoZSkpfSksd2luZG93LiRzZi5leHQuY21wKG8pfWZ1bmN0aW9uIGQobixkLHQpe3ZhciBsPTI9PT13PyJfX3RjZmFwaSI6Il9fY21wIjt3aW5kb3dbbF09ZnVuY3Rpb24obix0LGUpe3ZhciBvLGEsaSxyPU1hdGgucmFuZG9tKCkrIiIscz0iIi5jb25jYXQobCwiQ2FsbCIpLGM9KGk9e2NvbW1hbmQ6bixwYXJhbWV0ZXI6dCxjYWxsSWQ6cn0sKGE9cylpbihvPXt9KT9PYmplY3QuZGVmaW5lUHJvcGVydHkobyxhLHt2YWx1ZTppLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6b1thXT1pLG8pOzEhPT13JiYoY1tzXS52ZXJzaW9uPXcpLHVbcl09ZSxkLnBvc3RNZXNzYWdlKGMsIioiKX0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKG4pe3ZhciB0PSIiLmNvbmNhdChsLCJSZXR1cm4iKSxlPSJzdHJpbmciPT10eXBlb2Ygbi5kYXRhJiZmKCkobi5kYXRhLHQpP0pTT04ucGFyc2Uobi5kYXRhKTpuLmRhdGE7e3ZhciBvO2VbdF0mJmVbdF0uY2FsbElkJiYobz1lW3RdLHZvaWQgMCE9PXVbby5jYWxsSWRdJiZ1W28uY2FsbElkXShvLnJldHVyblZhbHVlLG8uc3VjY2VzcykpfX0sITEpLHdpbmRvd1tsXShuLHZvaWQgMCx0KX19LHN0YXRpYzpmdW5jdGlvbihuLHQsZSl7bihnLGUpfX07ZnVuY3Rpb24gaChuLHQpe3ZhciBlPXtjb250ZXh0OnRoaXMsYXJnczpbdF0sbmV4dEZuOm4sYWRVbml0czp0LmFkVW5pdHN8fHVwYmpzLmFkVW5pdHMsYmlkc0JhY2tIYW5kbGVyOnQuYmlkc0JhY2tIYW5kbGVyLGhhdmVFeGl0ZWQ6ITEsdGltZXI6bnVsbH07cmV0dXJuIEM/KGwubG9nSW5mbygiVXNlciBjb25zZW50IGluZm9ybWF0aW9uIGFscmVhZHkga25vd24uICBQdWxsaW5nIGludGVybmFsbHkgc3RvcmVkIGluZm9ybWF0aW9uLi4uIiksUyhudWxsLGUpKTpyKCkoT2JqZWN0LmtleXMoayksZCk/KGtbZF0uY2FsbCh0aGlzLE0sQSxlKSx2b2lkKGUuaGF2ZUV4aXRlZHx8KDA9PT11P00odm9pZCAwLGUpOmUudGltZXI9c2V0VGltZW91dChmdW5jdGlvbihuKXtBKCJDTVAgd29ya2Zsb3cgZXhjZWVkZWQgdGltZW91dCB0aHJlc2hvbGQuIixuKX0uYmluZChudWxsLGUpLHUpKSkpOihsLmxvZ1dhcm4oIkNNUCBmcmFtZXdvcmsgKCIuY29uY2F0KGQsIikgaXMgbm90IGEgc3VwcG9ydGVkIGZyYW1ld29yay4gIEFib3J0aW5nIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBhbmQgcmVzdW1pbmcgYXVjdGlvbi4iKSksZS5uZXh0Rm4uYXBwbHkoZS5jb250ZXh0LGUuYXJncykpfWZ1bmN0aW9uIE0oZSxuKXsic3RhdGljIj09PWQmJjI9PT0odz1lLmdldENvbnNlbnREYXRhPzE6ZS5nZXRUQ0RhdGE/MjowKSYmKGU9ZS5nZXRUQ0RhdGEpO3ZhciB0PTE9PT13P2Z1bmN0aW9uKG4pe3ZhciB0PW4mJm4uZ2V0Q29uc2VudERhdGEmJm4uZ2V0Q29uc2VudERhdGEuZ2RwckFwcGxpZXM7cmV0dXJuISgiYm9vbGVhbiI9PXR5cGVvZiB0JiYoITAhPT10fHxsLmlzU3RyKG4uZ2V0Q29uc2VudERhdGEuY29uc2VudERhdGEpJiZsLmlzUGxhaW5PYmplY3Qobi5nZXRWZW5kb3JDb25zZW50cykmJjE8T2JqZWN0LmtleXMobi5nZXRWZW5kb3JDb25zZW50cykubGVuZ3RoKSl9OjI9PT13P2Z1bmN0aW9uKCl7dmFyIG49ZSYmImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQXBwbGllcz9lLmdkcHJBcHBsaWVzOnAsdD1lJiZlLnRjU3RyaW5nO3JldHVybiEoImJvb2xlYW4iPT10eXBlb2YgbiYmKCEwIT09bnx8bC5pc1N0cih0KSkpfTpudWxsO3kuZGVmaW5lZEluQ29uZmlnJiYyPT09dz9sLmxvZ1dhcm4oIidhbGxvd0F1Y3Rpb25XaXRob3V0Q29uc2VudCcgaWdub3JlZCBmb3IgVENGIDIiKTp5LmRlZmluZWRJbkNvbmZpZ3x8MSE9PXd8fGwubG9nSW5mbygiJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyB1c2luZyBzeXN0ZW0gZGVmYXVsdDogKCIuY29uY2F0KGIsIikuIikpLGwuaXNGbih0KT90KGUpP0EoIkNNUCByZXR1cm5lZCB1bmV4cGVjdGVkIHZhbHVlIGR1cmluZyBsb29rdXAgcHJvY2Vzcy4iLG4sZSk6KGNsZWFyVGltZW91dChuLnRpbWVyKSxQKGUpLFMobnVsbCxuKSk6QSgiVW5hYmxlIHRvIGRlcml2ZSBDTVAgdmVyc2lvbiB0byBwcm9jZXNzIGRhdGEuICBDb25zZW50IG9iamVjdCBkb2VzIG5vdCBjb25mb3JtIHRvIFRDRiB2MSBvciB2MiBzcGVjcy4iLG4sZSl9ZnVuY3Rpb24gQShuLHQsZSl7Y2xlYXJUaW1lb3V0KHQudGltZXIpLHkudmFsdWUmJjE9PT13JiZQKHZvaWQgMCksUyhuLHQsZSl9ZnVuY3Rpb24gUChuKXsxPT09dz9DPXtjb25zZW50U3RyaW5nOm4/bi5nZXRDb25zZW50RGF0YS5jb25zZW50RGF0YTp2b2lkIDAsdmVuZG9yRGF0YTpuP24uZ2V0VmVuZG9yQ29uc2VudHM6dm9pZCAwLGdkcHJBcHBsaWVzOm4/bi5nZXRDb25zZW50RGF0YS5nZHByQXBwbGllczpwfTooQz17Y29uc2VudFN0cmluZzpuP24udGNTdHJpbmc6dm9pZCAwLHZlbmRvckRhdGE6bnx8dm9pZCAwLGdkcHJBcHBsaWVzOm4mJiJib29sZWFuIj09dHlwZW9mIG4uZ2RwckFwcGxpZXM/bi5nZHByQXBwbGllczpwfSxuJiZuLmFkZHRsQ29uc2VudCYmbC5pc1N0cihuLmFkZHRsQ29uc2VudCkmJihDLmFkZHRsQ29uc2VudD1uLmFkZHRsQ29uc2VudCkpLEMuYXBpVmVyc2lvbj13LGEuZ2RwckRhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKEMpfWZ1bmN0aW9uIFMobix0LGUpe3ZhciBvLGEsaTshMT09PXQuaGF2ZUV4aXRlZCYmKHQuaGF2ZUV4aXRlZD0hMCxvPXQuY29udGV4dCxhPXQuYXJncyxpPXQubmV4dEZuLG4/eS52YWx1ZSYmMT09PXc/KGwubG9nV2FybihuKyIgJ2FsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JyBhY3RpdmF0ZWQuIixlKSxpLmFwcGx5KG8sYSkpOihsLmxvZ0Vycm9yKG4rIiBDYW5jZWxpbmcgYXVjdGlvbiBhcyBwZXIgY29uc2VudE1hbmFnZW1lbnQgY29uZmlnLiIsZSksImZ1bmN0aW9uIj09dHlwZW9mIHQuYmlkc0JhY2tIYW5kbGVyP3QuYmlkc0JhY2tIYW5kbGVyKCk6bC5sb2dFcnJvcigiRXJyb3IgZXhlY3V0aW5nIGJpZHNCYWNrSGFuZGxlciIpKTppLmFwcGx5KG8sYSkpfWZ1bmN0aW9uIF8obil7KG49biYmKG4uZ2Rwcnx8bi51c3A/bi5nZHByOm4pKSYmIm9iamVjdCI9PT1jKG4pPyhsLmlzU3RyKG4uY21wQXBpKT9kPW4uY21wQXBpOihkPW0sbC5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgZGlkIG5vdCBzcGVjaWZ5IGNtcC4gIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KG0sIikuIikpKSxsLmlzTnVtYmVyKG4udGltZW91dCk/dT1uLnRpbWVvdXQ6KHU9dixsLmxvZ0luZm8oImNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgdGltZW91dC4gIFVzaW5nIHN5c3RlbSBkZWZhdWx0IHNldHRpbmcgKCIuY29uY2F0KHYsIikuIikpKSwiYm9vbGVhbiI9PXR5cGVvZiBuLmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50JiYoeS52YWx1ZT1uLmFsbG93QXVjdGlvbldpdGhvdXRDb25zZW50LHkuZGVmaW5lZEluQ29uZmlnPSEwKSxwPSEwPT09bi5kZWZhdWx0R2RwclNjb3BlLGwubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09ZCYmKGwuaXNQbGFpbk9iamVjdChuLmNvbnNlbnREYXRhKT8oZz1uLmNvbnNlbnREYXRhLHU9MCk6bC5sb2dFcnJvcigiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIHdpdGggY21wQXBpOiAnc3RhdGljJyBkaWQgbm90IHNwZWNpZnkgY29uc2VudERhdGEuIE5vIGNvbnNlbnRzIHdpbGwgYmUgYXZhaWxhYmxlIHRvIGFkYXB0ZXJzLiIpKSxEfHx1cGJqcy5yZXF1ZXN0Qmlkcy5iZWZvcmUoaCw1MCksRD0hMCk6bC5sb2dXYXJuKCJjb25zZW50TWFuYWdlbWVudCBjb25maWcgbm90IGRlZmluZWQsIGV4aXRpbmcgY29uc2VudCBtYW5hZ2VyIil9by5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQiLGZ1bmN0aW9uKG4pe3JldHVybiBfKG4uY29uc2VudE1hbmFnZW1lbnQpfSl9fSxbMzU0XSk7CnVwYmpzQ2h1bmsoWzI4NF0sezM2MjpmdW5jdGlvbihuLHQsZSl7bi5leHBvcnRzPWUoMzYzKX0sMzYzOmZ1bmN0aW9uKG4sdCxlKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGUuZCh0LCJjb25zZW50QVBJIixmdW5jdGlvbigpe3JldHVybiBjfSksZS5kKHQsImNvbnNlbnRUaW1lb3V0IixmdW5jdGlvbigpe3JldHVybiByfSksZS5kKHQsInN0YXRpY0NvbnNlbnREYXRhIixmdW5jdGlvbigpe3JldHVybiB1fSksdC5yZXF1ZXN0Qmlkc0hvb2s9bSx0LnJlc2V0Q29uc2VudERhdGE9ZnVuY3Rpb24oKXtsPXZvaWQgMCxjPXZvaWQgMCxvLnVzcERhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKG51bGwpfSx0LnNldENvbnNlbnRDb25maWc9UDt2YXIgcz1lKDApLGE9ZSgzKSxvPWUoOSk7ZnVuY3Rpb24gaShuKXtyZXR1cm4oaT0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihuKXtyZXR1cm4gdHlwZW9mIG59OmZ1bmN0aW9uKG4pe3JldHVybiBuJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZuLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZuIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2Ygbn0pKG4pfXZhciBjLHIsdSxsLGQ9ImlhYiIscD01MCxmPSExLGc9e2lhYjpmdW5jdGlvbihhLG8saSl7dmFyIHQsZT1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybntjb25zZW50RGF0YUNhbGxiYWNrOmZ1bmN0aW9uKG4sdCl7dCYmbi51c3BTdHJpbmcmJihlLnVzUHJpdmFjeT1uLnVzcFN0cmluZyksZS51c1ByaXZhY3k/YShlLGkpOm8oIlVuYWJsZSB0byBnZXQgVVNQIGNvbnNlbnQgc3RyaW5nLiIsaSl9fX0oKSxzPXt9O3RyeXt3aW5kb3cuX191c3BhcGkoImdldFVTUERhdGEiLDEsZS5jb25zZW50RGF0YUNhbGxiYWNrKX1jYXRjaChuKXtmb3IodmFyIGM9d2luZG93OyF0Oyl7dHJ5e2MuZnJhbWVzLl9fdXNwYXBpTG9jYXRvciYmKHQ9Yyl9Y2F0Y2gobil7fWlmKGM9PT13aW5kb3cudG9wKWJyZWFrO2M9Yy5wYXJlbnR9aWYoIXQpcmV0dXJuIG8oIlVTUCBDTVAgbm90IGZvdW5kLiIsaSk7IWZ1bmN0aW9uKG4saSxlKXtmdW5jdGlvbiBhKG4pe3ZhciB0PW4mJm4uZGF0YSYmbi5kYXRhLl9fdXNwYXBpUmV0dXJuO3QmJnQuY2FsbElkJiZ2b2lkIDAhPT1zW3QuY2FsbElkXSYmKHNbdC5jYWxsSWRdKHQucmV0dXJuVmFsdWUsdC5zdWNjZXNzKSxkZWxldGUgc1t0LmNhbGxJZF0pfXdpbmRvdy5fX3VzcGFwaT1mdW5jdGlvbihuLHQsZSl7dmFyIGE9TWF0aC5yYW5kb20oKSsiIixvPXtfX3VzcGFwaUNhbGw6e2NvbW1hbmQ6bix2ZXJzaW9uOnQsY2FsbElkOmF9fTtzW2FdPWUsaS5wb3N0TWVzc2FnZShvLCIqIil9LHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJtZXNzYWdlIixhLCExKSx3aW5kb3cuX191c3BhcGkobiwxLGZ1bmN0aW9uKG4sdCl7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGEsITEpLGUobix0KX0pfSgiZ2V0VVNQRGF0YSIsdCxlLmNvbnNlbnREYXRhQ2FsbGJhY2spfX0sc3RhdGljOmZ1bmN0aW9uKG4sdCxlKXtuKHUsZSl9fTtmdW5jdGlvbiBtKG4sdCl7dmFyIGU9e2NvbnRleHQ6dGhpcyxhcmdzOlt0XSxuZXh0Rm46bixhZFVuaXRzOnQuYWRVbml0c3x8dXBianMuYWRVbml0cyxiaWRzQmFja0hhbmRsZXI6dC5iaWRzQmFja0hhbmRsZXIsaGF2ZUV4aXRlZDohMSx0aW1lcjpudWxsfTtpZighZ1tjXSlyZXR1cm4gcy5sb2dXYXJuKCJVU1AgZnJhbWV3b3JrICgiLmNvbmNhdChjLCIpIGlzIG5vdCBhIHN1cHBvcnRlZCBmcmFtZXdvcmsuIEFib3J0aW5nIGNvbnNlbnRNYW5hZ2VtZW50IG1vZHVsZSBhbmQgcmVzdW1pbmcgYXVjdGlvbi4iKSksZS5uZXh0Rm4uYXBwbHkoZS5jb250ZXh0LGUuYXJncyk7Z1tjXS5jYWxsKHRoaXMsdixiLGUpLGUuaGF2ZUV4aXRlZHx8KDA9PT1yP3Yodm9pZCAwLGUpOmUudGltZXI9c2V0VGltZW91dChmdW5jdGlvbihuKXtiKCJVU1BBUEkgd29ya2Zsb3cgZXhjZWVkZWQgdGltZW91dCB0aHJlc2hvbGQuIixuKX0uYmluZChudWxsLGUpLHIpKX1mdW5jdGlvbiB2KG4sdCl7dmFyIGU7IW58fCFuLnVzUHJpdmFjeT9iKCJVU1BBUEkgcmV0dXJuZWQgdW5leHBlY3RlZCB2YWx1ZSBkdXJpbmcgbG9va3VwIHByb2Nlc3MuIix0LG4pOihjbGVhclRpbWVvdXQodC50aW1lciksKGU9bikmJmUudXNQcml2YWN5JiYobD1lLnVzUHJpdmFjeSxvLnVzcERhdGFIYW5kbGVyLnNldENvbnNlbnREYXRhKGwpKSx5KG51bGwsdCkpfWZ1bmN0aW9uIGIobix0LGUpe2NsZWFyVGltZW91dCh0LnRpbWVyKSx5KG4sdCxlKX1mdW5jdGlvbiB5KG4sdCxlKXt2YXIgYSxvLGk7ITE9PT10LmhhdmVFeGl0ZWQmJih0LmhhdmVFeGl0ZWQ9ITAsYT10LmNvbnRleHQsbz10LmFyZ3MsaT10Lm5leHRGbixuJiZzLmxvZ1dhcm4obisiIFJlc3VtaW5nIGF1Y3Rpb24gd2l0aG91dCBjb25zZW50IGRhdGEgYXMgcGVyIGNvbnNlbnRNYW5hZ2VtZW50IGNvbmZpZy4iLGUpLGkuYXBwbHkoYSxvKSl9ZnVuY3Rpb24gUChuKXsobj1uJiZuLnVzcCkmJiJvYmplY3QiPT09aShuKT8ocy5pc1N0cihuLmNtcEFwaSk/Yz1uLmNtcEFwaTooYz1kLHMubG9nSW5mbygiY29uc2VudE1hbmFnZW1lbnQudXNwIGNvbmZpZyBkaWQgbm90IHNwZWNpZnkgY21wQXBpLiBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdChkLCIpLiIpKSkscy5pc051bWJlcihuLnRpbWVvdXQpP3I9bi50aW1lb3V0OihyPXAscy5sb2dJbmZvKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIGRpZCBub3Qgc3BlY2lmeSB0aW1lb3V0LiBVc2luZyBzeXN0ZW0gZGVmYXVsdCBzZXR0aW5nICgiLmNvbmNhdChwLCIpLiIpKSkscy5sb2dJbmZvKCJVU1BBUEkgY29uc2VudE1hbmFnZW1lbnQgbW9kdWxlIGhhcyBiZWVuIGFjdGl2YXRlZC4uLiIpLCJzdGF0aWMiPT09YyYmKHMuaXNQbGFpbk9iamVjdChuLmNvbnNlbnREYXRhKSYmcy5pc1BsYWluT2JqZWN0KG4uY29uc2VudERhdGEuZ2V0VVNQRGF0YSk/KG4uY29uc2VudERhdGEuZ2V0VVNQRGF0YS51c3BTdHJpbmcmJih1PXt1c1ByaXZhY3k6bi5jb25zZW50RGF0YS5nZXRVU1BEYXRhLnVzcFN0cmluZ30pLHI9MCk6cy5sb2dFcnJvcigiY29uc2VudE1hbmFnZW1lbnQgY29uZmlnIHdpdGggY21wQXBpOiAnc3RhdGljJyBkaWQgbm90IHNwZWNpZnkgY29uc2VudERhdGEuIE5vIGNvbnNlbnRzIHdpbGwgYmUgYXZhaWxhYmxlIHRvIGFkYXB0ZXJzLiIpKSxmfHx1cGJqcy5yZXF1ZXN0Qmlkcy5iZWZvcmUobSw1MCksZj0hMCk6cy5sb2dXYXJuKCJjb25zZW50TWFuYWdlbWVudC51c3AgY29uZmlnIG5vdCBkZWZpbmVkLCBleGl0aW5nIHVzcCBjb25zZW50IG1hbmFnZXIiKX1hLmIuZ2V0Q29uZmlnKCJjb25zZW50TWFuYWdlbWVudCIsZnVuY3Rpb24obil7cmV0dXJuIFAobi5jb25zZW50TWFuYWdlbWVudCl9KX19LFszNjJdKTsKdXBianNDaHVuayhbMjgzXSx7MzY0OmZ1bmN0aW9uKGUscixuKXtlLmV4cG9ydHM9bigzNjUpfSwzNjU6ZnVuY3Rpb24oZSxyLG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHN9KTt2YXIgYz1uKDApLHQ9bigxKTtmdW5jdGlvbiBpKCl7cmV0dXJuKGk9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIG49YXJndW1lbnRzW3JdO2Zvcih2YXIgdCBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHQpJiYoZVt0XT1uW3RdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgYT0wLGQ9ImNvbnN1bWFibGUiLHM9e2NvZGU6ImNvbnN1bWFibGUiLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUucGFyYW1zLm5ldHdvcmtJZCYmZS5wYXJhbXMuc2l0ZUlkJiZlLnBhcmFtcy51bml0SWQmJmUucGFyYW1zLnVuaXROYW1lKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHIpe3ZhciBuPXttZXRob2Q6IlBPU1QiLHVybDoiIixkYXRhOiIiLGJpZFJlcXVlc3Q6W119O2lmKGUubGVuZ3RoPDEpcmV0dXJuIG47YT1lWzBdLnBhcmFtcy5zaXRlSWQsZD1lWzBdLmJpZGRlcjt2YXIgcz1pKHtwbGFjZW1lbnRzOltdLHRpbWU6RGF0ZS5ub3coKSx1cmw6ci5yZWZlcmVySW5mby5yZWZlcmVyLHJlZmVycmVyOmRvY3VtZW50LnJlZmVycmVyLHNvdXJjZTpbe25hbWU6InByZWJpZGpzIix2ZXJzaW9uOiI0LjE3LjAifV19LGVbMF0ucGFyYW1zKTtyZXR1cm4gciYmci5nZHByQ29uc2VudCYmKHMuZ2Rwcj17Y29uc2VudDpyLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsYXBwbGllczoiYm9vbGVhbiIhPXR5cGVvZiByLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfHxyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfSksciYmci51c3BDb25zZW50JiYocy5jY3BhPXIudXNwQ29uc2VudCksZS5tYXAoZnVuY3Rpb24oZSl7dmFyIG4scj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXN8fGUuc2l6ZXN8fFtdLHQ9aSh7ZGl2TmFtZTplLmJpZElkLGFkVHlwZXM6ZS5hZFR5cGVzfHwobj1bXSxyLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI9dS5pbmRleE9mKGVbMF0rIngiK2VbMV0pOzA8PXImJm4ucHVzaChyKX0pLG4pfSxlLnBhcmFtcyk7dC5uZXR3b3JrSWQmJnQuc2l0ZUlkJiZ0LnVuaXRJZCYmdC51bml0TmFtZSYmcy5wbGFjZW1lbnRzLnB1c2godCl9KSxuLmRhdGE9SlNPTi5zdHJpbmdpZnkocyksbi5iaWRSZXF1ZXN0PWUsbi5iaWRkZXJSZXF1ZXN0PXIsbi51cmw9Imh0dHBzOi8vZS5zZXJ2ZXJiaWQuY29tL2FwaS92MiIsbn0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXt2YXIgbj1bXSx0PXIuYmlkUmVxdWVzdDtlPShlfHx7fSkuYm9keTtmb3IodmFyIHMsaT0wO2k8dC5sZW5ndGg7aSsrKXt2YXIgYSxkLHUscD17fSxvPSh1PXRbaV0pLmJpZElkO2UmJihkPShhPWUuZGVjaXNpb25zJiZlLmRlY2lzaW9uc1tvXSkmJmEucHJpY2luZyYmYS5wcmljaW5nLmNsZWFyUHJpY2UsYSYmZCYmKHAucmVxdWVzdElkPW8scC5jcG09ZCxwLndpZHRoPWEud2lkdGgscC5oZWlnaHQ9YS5oZWlnaHQscC51bml0SWQ9dS5wYXJhbXMudW5pdElkLHAudW5pdE5hbWU9dS5wYXJhbXMudW5pdE5hbWUscC5hZD0ocz1hLHAudW5pdElkLHAudW5pdE5hbWUscy5jb250ZW50cyYmcy5jb250ZW50c1swXSYmcy5jb250ZW50c1swXS5ib2R5K2MuY3JlYXRlVHJhY2tQaXhlbEh0bWwocy5pbXByZXNzaW9uVXJsKSkscC5jdXJyZW5jeT0iVVNEIixwLmNyZWF0aXZlSWQ9YS5hZElkLHAudHRsPTMwLHAubmV0UmV2ZW51ZT0hMCxwLnJlZmVycmVyPXIuYmlkZGVyUmVxdWVzdC5yZWZlcmVySW5mby5yZWZlcmVyLG4ucHVzaChwKSkpfXJldHVybiBufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vc3luYy5zZXJ2ZXJiaWQuY29tL3NzLyIrYSsiLmh0bWwifV06ZS5waXhlbEVuYWJsZWQmJjA8ci5sZW5ndGg/clswXS5ib2R5LnBpeGVsczp2b2lkIGMubG9nV2FybihkKyI6IFBsZWFzZSBlbmFibGUgaWZyYW1lIGJhc2VkIHVzZXIgc3luY2luZy4iKX19LHU9W251bGwsIjEyMHg5MCIsIjEyMHg5MCIsIjQ2OHg2MCIsIjcyOHg5MCIsIjMwMHgyNTAiLCIxNjB4NjAwIiwiMTIweDYwMCIsIjMwMHgxMDAiLCIxODB4MTUwIiwiMzM2eDI4MCIsIjI0MHg0MDAiLCIyMzR4NjAiLCI4OHgzMSIsIjEyMHg2MCIsIjEyMHgyNDAiLCIxMjV4MTI1IiwiMjIweDI1MCIsIjI1MHgyNTAiLCIyNTB4OTAiLCIweDAiLCIyMDB4OTAiLCIzMDB4NTAiLCIzMjB4NTAiLCIzMjB4NDgwIiwiMTg1eDE4NSIsIjYyMHg0NSIsIjMwMHgxMjUiLCI4MDB4MjUwIl07dVs3N109Ijk3MHg5MCIsdVsxMjNdPSI5NzB4MjUwIix1WzQzXT0iMzAweDYwMCIsdVsyODZdPSI5NzB4NjYiLHVbMzIzMF09Ijk3MHgyODAiLHVbNDI5XT0iNDg2eDYwIix1WzM3NF09IjcwMHg1MDAiLHVbOTM0XT0iMzAweDEwNTAiLHVbMTU3OF09IjMyMHgxMDAiLHVbMzMxXT0iMzIweDI1MCIsdVszMzAxXT0iMzIweDI2NyIsdVsyNzMwXT0iNzI4eDI1MCIsT2JqZWN0KHQucmVnaXN0ZXJCaWRkZXIpKHMpfX0sWzM2NF0pOwp1cGJqc0NodW5rKFsyODFdLHszNjg6ZnVuY3Rpb24oZSxyLGEpe2UuZXhwb3J0cz1hKDM2OSl9LDM2OTpmdW5jdGlvbihlLHIsYSl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxhLmQociwic3RvcmFnZSIsZnVuY3Rpb24oKXtyZXR1cm4gbH0pLGEuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBvfSk7dmFyIGc9YSgwKSxpPWEoMSksdD1hKDIpLHM9YSg3KSxsPU9iamVjdChzLmIpKDI0KSxuPSJjb252ZXJzYW50IixvPXtjb2RlOm4sZ3ZsaWQ6MjQsYWxpYXNlczpbImNudnIiXSxzdXBwb3J0ZWRNZWRpYVR5cGVzOlt0LmIsdC5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZXx8IWUucGFyYW1zKXJldHVybiBnLmxvZ1dhcm4obisiOiBNaXNzaW5nIGJpZCBwYXJhbWV0ZXJzIiksITE7aWYoIWcuaXNTdHIoZS5wYXJhbXMuc2l0ZV9pZCkpcmV0dXJuIGcubG9nV2FybihuKyI6IHNpdGVfaWQgbXVzdCBiZSBzcGVjaWZpZWQgYXMgYSBzdHJpbmciKSwhMTtpZihiKGUpKWlmKGUucGFyYW1zLm1pbWVzKXtpZighZy5pc0FycmF5KGUucGFyYW1zLm1pbWVzKXx8IWUucGFyYW1zLm1pbWVzLmV2ZXJ5KGZ1bmN0aW9uKGUpe3JldHVybiBnLmlzU3RyKGUpfSkpcmV0dXJuIGcubG9nV2FybihuKyI6IG1pbWVzIG11c3QgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyIpLCExfWVsc2UgZy5sb2dXYXJuKG4rIjogbWltZXMgc2hvdWxkIGJlIHNwZWNpZmllZCBmb3IgdmlkZW9zIik7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgYSxpPXImJnIucmVmZXJlckluZm8/ci5yZWZlcmVySW5mby5yZWZlcmVyOiIiLG89IiIsZD0iIixwPW51bGwsdT0iX3B1YmNpZCIsYz0iaHR0cHM6Ly93ZWIuaGIuYWQuY3BlLmRvdG9taS5jb20vY3Z4L2NsaWVudC9oYi9vcnRiLzI1Iix0PWUubWFwKGZ1bmN0aW9uKGUpe3ZhciByPWcuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZGZsb29yIixlLnBhcmFtcyk7bz1nLmdldEJpZElkUGFyYW1ldGVyKCJzaXRlX2lkIixlLnBhcmFtcyl8fG8sdT1nLmdldEJpZElkUGFyYW1ldGVyKCJwdWJjaWRfbmFtZSIsZS5wYXJhbXMpfHx1LGQ9ZS5hdWN0aW9uSWQ7dmFyIGEsaSx0LHMsbj17aWQ6ZS5iaWRJZCxzZWN1cmU6MSxiaWRmbG9vcjpyfHwwLGRpc3BsYXltYW5hZ2VyOiJQcmViaWQuanMiLGRpc3BsYXltYW5hZ2VydmVyOiI0LjE3LjAifTtyZXR1cm4gZihlLnBhcmFtcy50YWdfaWQsbiwidGFnaWQiKSxiKGUpPyh0PXt9LChpPXYoKGE9Zy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKXx8e30pLnBsYXllclNpemV8fGUuc2l6ZXMpKSYmaVswXSYmKGYoaVswXS53LHQsInciKSxmKGlbMF0uaCx0LCJoIikpLGYoZS5wYXJhbXMucG9zaXRpb24sdCwicG9zIiksZihlLnBhcmFtcy5taW1lc3x8YS5taW1lcyx0LCJtaW1lcyIpLGYoZS5wYXJhbXMubWF4ZHVyYXRpb24sdCwibWF4ZHVyYXRpb24iKSxmKGUucGFyYW1zLnByb3RvY29sc3x8YS5wcm90b2NvbHMsdCwicHJvdG9jb2xzIiksZihlLnBhcmFtcy5hcGl8fGEuYXBpLHQsImFwaSIpLG4udmlkZW89dCk6KHM9e2Zvcm1hdDp2KChnLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIiKXx8e30pLnNpemVzfHxlLnNpemVzKX0sZihlLnBhcmFtcy5wb3NpdGlvbixzLCJwb3MiKSxuLmJhbm5lcj1zKSxlLnVzZXJJZCYmZS51c2VySWQucHViY2lkP3A9ZS51c2VySWQucHViY2lkOmUuY3J1bWJzJiZlLmNydW1icy5wdWJjaWQmJihwPWUuY3J1bWJzLnB1YmNpZCksZS5wYXJhbXMud2hpdGVfbGFiZWxfdXJsJiYoYz1lLnBhcmFtcy53aGl0ZV9sYWJlbF91cmwpLG59KSxzPXtpZDpkLGltcDp0LHNpdGU6e2lkOm8sbW9iaWxlOm51bGwhPT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtZXRhW25hbWU9InZpZXdwb3J0Il1bY29udGVudCo9IndpZHRoPWRldmljZS13aWR0aCJdJyk/MTowLHBhZ2U6aX0sZGV2aWNlOihhPW5hdmlnYXRvci5sYW5ndWFnZT8ibGFuZ3VhZ2UiOiJ1c2VyTGFuZ3VhZ2UiLHtoOnNjcmVlbi5oZWlnaHQsdzpzY3JlZW4ud2lkdGgsZG50OiIxIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT13aW5kb3cuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob1RyYWNrfHwieWVzIj09PW5hdmlnYXRvci5kb05vdFRyYWNrPzE6MCxsYW5ndWFnZTpuYXZpZ2F0b3JbYV0uc3BsaXQoIi0iKVswXSxtYWtlOm5hdmlnYXRvci52ZW5kb3I/bmF2aWdhdG9yLnZlbmRvcjoiIix1YTpuYXZpZ2F0b3IudXNlckFnZW50fSksYXQ6MX0sbj17fTtyJiYoci5nZHByQ29uc2VudCYmKG4uY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmZy5kZWVwU2V0VmFsdWUocywicmVncy5leHQuZ2RwciIsci5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApKSxyLnVzcENvbnNlbnQmJmcuZGVlcFNldFZhbHVlKHMsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCkpLChwPXB8fGZ1bmN0aW9uKGUpe3ZhciByO3RyeXt2YXIgYTsocj1sLmdldENvb2tpZShlKSl8fCgiIj09PShhPWwuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUsIl9leHAiKSkpfHxhJiYwPG5ldyBEYXRlKGEpLmdldFRpbWUoKS1EYXRlLm5vdygpKSYmKHI9KHI9bC5nZXREYXRhRnJvbUxvY2FsU3RvcmFnZShlKSk/ZGVjb2RlVVJJQ29tcG9uZW50KHIpOnIpLGcuaXNTdHIocikmJiJ7Ij09PXIuY2hhckF0KDApJiYocj1KU09OLnBhcnNlKHIpKX1jYXRjaChlKXtnLmxvZ0Vycm9yKGUpfXJldHVybiByfSh1KSkmJihuLmZwYz1wKTt2YXIgbT1mdW5jdGlvbihlKXt2YXIgcj1lWzBdLGE9W107e3ZhciBpO2cuaXNBcnJheShyLnVzZXJJZEFzRWlkcykmJjA8ci51c2VySWRBc0VpZHMubGVuZ3RoJiYoaT17ImFkc2VydmVyLm9yZyI6MSwibGl2ZXJhbXAuY29tIjoxLCJjcml0ZW8uY29tIjoxLCJpZDUtc3luYy5jb20iOjEsInBhcnJhYmxlLmNvbSI6MSwiZGlnaXRydS5zdCI6MSwibGl2ZWludGVudC5jb20iOjF9LHIudXNlcklkQXNFaWRzLmZvckVhY2goZnVuY3Rpb24oZSl7aS5oYXNPd25Qcm9wZXJ0eShlLnNvdXJjZSkmJmEucHVzaChlKX0pKX1yZXR1cm4gYX0oZSk7cmV0dXJuIDA8bS5sZW5ndGgmJihuLmVpZHM9bSksZy5pc0VtcHR5KG4pfHwocy51c2VyPXtleHQ6bn0pLHttZXRob2Q6IlBPU1QiLHVybDpjLGRhdGE6c319LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKG4sZSl7dmFyIG89W10sZD17fTtyZXR1cm4gbj1uLmJvZHksZSYmZS5kYXRhJiZlLmRhdGEuaW1wJiZnLl9lYWNoKGUuZGF0YS5pbXAsZnVuY3Rpb24oZSl7cmV0dXJuIGRbZS5pZF09ZX0pLG4mJmcuaXNBcnJheShuLnNlYXRiaWQpJiZnLl9lYWNoKG4uc2VhdGJpZCxmdW5jdGlvbihlKXtnLl9lYWNoKGUuYmlkLGZ1bmN0aW9uKGUpe3ZhciByLGEsaSx0LHM9cGFyc2VGbG9hdChlLnByaWNlKTswPHMmJmUuaW1waWQmJihyPWUuYWRtfHwiIixhPWUubnVybHx8IiIsaT1kW2UuaW1waWRdLHQ9e3JlcXVlc3RJZDplLmltcGlkLGN1cnJlbmN5Om4uY3VyfHwiVVNEIixjcG06cyxjcmVhdGl2ZUlkOmUuY3JpZHx8IiIsdHRsOjMwMCxuZXRSZXZlbnVlOiEwfSxpLnZpZGVvPygiPCI9PT1yLmNoYXJBdCgwKT90LnZhc3RYbWw9cjp0LnZhc3RVcmw9cix0Lm1lZGlhVHlwZT0idmlkZW8iLHQud2lkdGg9aS52aWRlby53LHQuaGVpZ2h0PWkudmlkZW8uaCk6KHQuYWQ9cisnPGltZyBzcmM9IicrYSsnIiAvPicsdC53aWR0aD1lLncsdC5oZWlnaHQ9ZS5oKSxvLnB1c2godCkpfSl9KSxvfSx0cmFuc2Zvcm1CaWRQYXJhbXM6ZnVuY3Rpb24oZSl7cmV0dXJuIGcuY29udmVydFR5cGVzKHtzaXRlX2lkOiJzdHJpbmciLHNlY3VyZToibnVtYmVyIixtb2JpbGU6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gdihlKXt2YXIgcjtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmKHI9Mj09PWUubGVuZ3RoJiYibnVtYmVyIj09dHlwZW9mIGVbMF0mJiJudW1iZXIiPT10eXBlb2YgZVsxXT9be3c6ZVswXSxoOmVbMV19XTpnLl9tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm57dzplWzBdLGg6ZVsxXX19KSkscn1mdW5jdGlvbiBiKGUpe3JldHVybiJ2aWRlbyI9PT1lLm1lZGlhVHlwZXx8Zy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBmKGUscixhKXtlJiYoclthXT1lKX1PYmplY3QoaS5yZWdpc3RlckJpZGRlcikobyl9fSxbMzY4XSk7CnVwYmpzQ2h1bmsoWzFdLHszNzY6ZnVuY3Rpb24odCxlLHIpe3QuZXhwb3J0cz1yKDM3Nyl9LDM3NzpmdW5jdGlvbihtb2R1bGUsX193ZWJwYWNrX2V4cG9ydHNfXyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJBREFQVEVSX1ZFUlNJT04iLGZ1bmN0aW9uKCl7cmV0dXJuIEFEQVBURVJfVkVSU0lPTn0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJQUk9GSUxFX0lEX1BVQkxJU0hFUlRBRyIsZnVuY3Rpb24oKXtyZXR1cm4gUFJPRklMRV9JRF9QVUJMSVNIRVJUQUd9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gc3BlY30pLF9fd2VicGFja19leHBvcnRzX18udHJ5R2V0Q3JpdGVvRmFzdEJpZD10cnlHZXRDcml0ZW9GYXN0QmlkO3ZhciBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX3NyY19hZGxvYWRlcl9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMzgpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMyksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMiksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMTApLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fX2RlZmF1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXy5uKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fKSxfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX189X193ZWJwYWNrX3JlcXVpcmVfXygzNzgpLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9jcml0ZW9fZGlyZWN0X3JzYV92YWxpZGF0ZV9idWlsZF92ZXJpZnlfanNfX19kZWZhdWx0PV9fd2VicGFja19yZXF1aXJlX18ubihfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzZfY3JpdGVvX2RpcmVjdF9yc2FfdmFsaWRhdGVfYnVpbGRfdmVyaWZ5X2pzX18pLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfN19fc3JjX3N0b3JhZ2VNYW5hZ2VyX2pzX189X193ZWJwYWNrX3JlcXVpcmVfXyg3KTtmdW5jdGlvbiBfZXh0ZW5kcygpe3JldHVybihfZXh0ZW5kcz1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgcj1hcmd1bWVudHNbZV07Zm9yKHZhciBpIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsaSkmJih0W2ldPXJbaV0pfXJldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfXZhciBHVkxJRD05MSxBREFQVEVSX1ZFUlNJT049MzIsQklEREVSX0NPREU9ImNyaXRlbyIsQ0RCX0VORFBPSU5UPSJodHRwczovL2JpZGRlci5jcml0ZW8uY29tL2NkYiIsUFJPRklMRV9JRF9JTkxJTkU9MjA3LFBST0ZJTEVfSURfUFVCTElTSEVSVEFHPTE4NSxzdG9yYWdlPU9iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfX3NyY19zdG9yYWdlTWFuYWdlcl9qc19fLmIpKEdWTElEKSxMT0dfUFJFRklYPSJDcml0ZW86ICIsUFVCTElTSEVSX1RBR19VUkw9Imh0dHBzOi8vc3RhdGljLmNyaXRlby5uZXQvanMvbGQvcHVibGlzaGVydGFnLnByZWJpZC5qcyIsRkFTVF9CSURfUFVCS0VZX0U9NjU1MzcsRkFTVF9CSURfUFVCS0VZX049Inp0UVl3Q0U1QlU3VDlDRE01aGU2cktvYWJzdFhSbWt6eDU0ekZQWmtXYks1MzBkd3RMQkRlYVdCTXhIQlVUNTVDWXlib1IvRVo0ZWZnaFBpM0NvTkdmR1dlenBqa285UDZwMkV3R0FydEhFZVM0c2xodS9TcFNJRk1qRzZmZHJwUm9OdUlBTWhxMVorUHIvK0hPZDFwVGhGS2VHRnIyL05odEFnK1RYQXphVT0iLHNwZWM9e2NvZGU6QklEREVSX0NPREUsZ3ZsaWQ6R1ZMSUQsc3VwcG9ydGVkTWVkaWFUeXBlczpbX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmIsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmQsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKHQpe3JldHVybiEoIXR8fCF0LnBhcmFtc3x8IXQucGFyYW1zLnpvbmVJZCYmIXQucGFyYW1zLm5ldHdvcmtJZCkmJiEoaGFzVmlkZW9NZWRpYVR5cGUodCkmJiFoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKHQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbih0LGUpe3ZhciByLGkscyxvLF87aWYoX2V4dGVuZHMoZSx7cHVibGlzaGVyRXh0Ol9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJmcGQuY29udGV4dCIpLHVzZXJFeHQ6X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfY29uZmlnX2pzX18uYi5nZXRDb25maWcoImZwZC51c2VyIiksY2VoOl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJjcml0ZW8uY2VoIil9KSxwdWJsaXNoZXJUYWdBdmFpbGFibGUoKXx8KHdpbmRvdy5Dcml0ZW89d2luZG93LkNyaXRlb3x8e30sd2luZG93LkNyaXRlby51c2VQcmViaWRFdmVudHM9ITEsdHJ5R2V0Q3JpdGVvRmFzdEJpZCgpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfYWRsb2FkZXJfanNfXy5hKShQVUJMSVNIRVJfVEFHX1VSTCxCSURERVJfQ09ERSl9LGUudGltZW91dCkpLF89cHVibGlzaGVyVGFnQXZhaWxhYmxlKCk/KHI9bmV3IENyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkKFBST0ZJTEVfSURfUFVCTElTSEVSVEFHLEFEQVBURVJfVkVSU0lPTix0LGUsIjQuMTcuMCIpLGk9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfY29uZmlnX2pzX18uYi5nZXRDb25maWcoImVuYWJsZVNlbmRBbGxCaWRzIiksci5zZXRFbmFibGVTZW5kQWxsQmlkcyYmImZ1bmN0aW9uIj09dHlwZW9mIHIuc2V0RW5hYmxlU2VuZEFsbEJpZHMmJiJib29sZWFuIj09dHlwZW9mIGkmJnIuc2V0RW5hYmxlU2VuZEFsbEJpZHMoaSksbz1yLmJ1aWxkQ2RiVXJsKCksci5idWlsZENkYlJlcXVlc3QoKSk6KG89YnVpbGRDZGJVcmwocz1idWlsZENvbnRleHQodCxlKSksYnVpbGRDZGJSZXF1ZXN0KHMsdCxlKSkpcmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOm8sZGF0YTpfLGJpZFJlcXVlc3RzOnR9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbih0LHMpe3ZhciBlPXQuYm9keXx8dDtpZihwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSl7dmFyIHI9Q3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcihzKTtpZihyKXJldHVybiByLmludGVycHJldFJlc3BvbnNlKGUscyl9dmFyIG89W107cmV0dXJuIGUmJmUuc2xvdHMmJl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uaXNBcnJheShlLnNsb3RzKSYmZS5zbG90cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciB0PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNV9jb3JlX2pzX3B1cmVfZmVhdHVyZXNfYXJyYXlfZmluZF9qc19fX2RlZmF1bHQoKShzLmJpZFJlcXVlc3RzLGZ1bmN0aW9uKHQpe3JldHVybiB0LmFkVW5pdENvZGU9PT1lLmltcGlkJiYoIXQucGFyYW1zLnpvbmVJZHx8cGFyc2VJbnQodC5wYXJhbXMuem9uZUlkKT09PWUuem9uZWlkKX0pLHI9dC5iaWRJZCxpPXtyZXF1ZXN0SWQ6cixhZElkOmUuYmlkSWR8fF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGNwbTplLmNwbSxjdXJyZW5jeTplLmN1cnJlbmN5LG5ldFJldmVudWU6ITAsdHRsOmUudHRsfHw2MCxjcmVhdGl2ZUlkOnIsd2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsZGVhbElkOmUuZGVhbENvZGV9O2lmKGUubmF0aXZlKWlmKHQucGFyYW1zLm5hdGl2ZUNhbGxiYWNrKWkuYWQ9Y3JlYXRlTmF0aXZlQWQocixlLm5hdGl2ZSx0LnBhcmFtcy5uYXRpdmVDYWxsYmFjayk7ZWxzZXtpZighMD09PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2NvbmZpZ19qc19fLmIuZ2V0Q29uZmlnKCJlbmFibGVTZW5kQWxsQmlkcyIpKXJldHVybjtpLm5hdGl2ZT1jcmVhdGVQcmViaWROYXRpdmVBZChlLm5hdGl2ZSksaS5tZWRpYVR5cGU9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmN9ZWxzZSBlLnZpZGVvPyhpLnZhc3RVcmw9ZS5kaXNwbGF5dXJsLGkubWVkaWFUeXBlPV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfM19fc3JjX21lZGlhVHlwZXNfanNfXy5kKTppLmFkPWUuY3JlYXRpdmU7by5wdXNoKGkpfSksb30sb25UaW1lb3V0OmZ1bmN0aW9uKHQpe3ZhciBlO3B1Ymxpc2hlclRhZ0F2YWlsYWJsZSgpJiZBcnJheS5pc0FycmF5KHQpJiYoZT1bXSx0LmZvckVhY2goZnVuY3Rpb24odCl7LTE9PT1lLmluZGV4T2YodC5hdWN0aW9uSWQpJiYoZS5wdXNoKHQuYXVjdGlvbklkKSxDcml0ZW8uUHViVGFnLkFkYXB0ZXJzLlByZWJpZC5HZXRBZGFwdGVyKHQuYXVjdGlvbklkKS5oYW5kbGVCaWRUaW1lb3V0KCkpfSkpfSxvbkJpZFdvbjpmdW5jdGlvbih0KXtwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmdCYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlQmlkV29uKHQpfSxvblNldFRhcmdldGluZzpmdW5jdGlvbih0KXtwdWJsaXNoZXJUYWdBdmFpbGFibGUoKSYmQ3JpdGVvLlB1YlRhZy5BZGFwdGVycy5QcmViaWQuR2V0QWRhcHRlcih0LmF1Y3Rpb25JZCkuaGFuZGxlU2V0VGFyZ2V0aW5nKHQpfX07ZnVuY3Rpb24gcHVibGlzaGVyVGFnQXZhaWxhYmxlKCl7cmV0dXJuInVuZGVmaW5lZCIhPXR5cGVvZiBDcml0ZW8mJkNyaXRlby5QdWJUYWcmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMmJkNyaXRlby5QdWJUYWcuQWRhcHRlcnMuUHJlYmlkfWZ1bmN0aW9uIGJ1aWxkQ29udGV4dCh0LGUpe3ZhciByPSIiO2UmJmUucmVmZXJlckluZm8mJihyPWUucmVmZXJlckluZm8ucmVmZXJlcik7dmFyIGk9X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5wYXJzZVVybChyKS5zZWFyY2gscz17dXJsOnIsZGVidWc6IjEiPT09aS5wYnRfZGVidWcsbm9Mb2c6IjEiPT09aS5wYnRfbm9sb2csYW1wOiExfTtyZXR1cm4gdC5mb3JFYWNoKGZ1bmN0aW9uKHQpeyJhbXAiPT09dC5wYXJhbXMuaW50ZWdyYXRpb25Nb2RlJiYocy5hbXA9ITApfSksc31mdW5jdGlvbiBidWlsZENkYlVybCh0KXt2YXIgZT1DREJfRU5EUE9JTlQ7cmV0dXJuIGUrPSI/cHJvZmlsZUlkPSIrUFJPRklMRV9JRF9JTkxJTkUsZSs9IiZhdj0iK1N0cmluZyhBREFQVEVSX1ZFUlNJT04pLGUrPSImd3Y9IitlbmNvZGVVUklDb21wb25lbnQoIjQuMTcuMCIpLGUrPSImY2I9IitTdHJpbmcoTWF0aC5mbG9vcig5OTk5OTk5OTk5OSpNYXRoLnJhbmRvbSgpKSksdC5hbXAmJihlKz0iJmltPTEiKSx0LmRlYnVnJiYoZSs9IiZkZWJ1Zz0xIiksdC5ub0xvZyYmKGUrPSImbm9sb2c9MSIpLGV9ZnVuY3Rpb24gY2hlY2tOYXRpdmVTZW5kSWQodCl7cmV0dXJuIXQubmF0aXZlUGFyYW1zfHwhKHQubmF0aXZlUGFyYW1zLmltYWdlJiYhMCE9PXQubmF0aXZlUGFyYW1zLmltYWdlLnNlbmRJZHx8dC5uYXRpdmVQYXJhbXMuaWNvbiYmITAhPT10Lm5hdGl2ZVBhcmFtcy5pY29uLnNlbmRJZHx8dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwmJiEwIT09dC5uYXRpdmVQYXJhbXMuY2xpY2tVcmwuc2VuZElkfHx0Lm5hdGl2ZVBhcmFtcy5kaXNwbGF5VXJsJiYhMCE9PXQubmF0aXZlUGFyYW1zLmRpc3BsYXlVcmwuc2VuZElkfHx0Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluayYmITAhPT10Lm5hdGl2ZVBhcmFtcy5wcml2YWN5TGluay5zZW5kSWR8fHQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uJiYhMCE9PXQubmF0aXZlUGFyYW1zLnByaXZhY3lJY29uLnNlbmRJZCl9ZnVuY3Rpb24gYnVpbGRDZGJSZXF1ZXN0KHQsZSxyKXt2YXIgaSxzPXtwdWJsaXNoZXI6e3VybDp0LnVybCxleHQ6ci5wdWJsaXNoZXJFeHR9LHNsb3RzOmUubWFwKGZ1bmN0aW9uKHQpe2k9dC5wYXJhbXMubmV0d29ya0lkfHxpO3ZhciBlLHI9e2ltcGlkOnQuYWRVbml0Q29kZSx0cmFuc2FjdGlvbmlkOnQudHJhbnNhY3Rpb25JZCxhdWN0aW9uSWQ6dC5hdWN0aW9uSWR9O3JldHVybiB0LnBhcmFtcy56b25lSWQmJihyLnpvbmVpZD10LnBhcmFtcy56b25lSWQpLHQuZnBkJiZ0LmZwZC5jb250ZXh0JiYoci5leHQ9dC5mcGQuY29udGV4dCksdC5wYXJhbXMuZXh0JiYoci5leHQ9X2V4dGVuZHMoe30sci5leHQsdC5wYXJhbXMuZXh0KSksdC5wYXJhbXMucHVibGlzaGVyU3ViSWQmJihyLnB1Ymxpc2hlcnN1YmlkPXQucGFyYW1zLnB1Ymxpc2hlclN1YklkKSx0LnBhcmFtcy5uYXRpdmVDYWxsYmFja3x8X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMuIi5jb25jYXQoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8zX19zcmNfbWVkaWFUeXBlc19qc19fLmMpKT8oci5uYXRpdmU9ITAsY2hlY2tOYXRpdmVTZW5kSWQodCl8fF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nV2FybihMT0dfUFJFRklYKyJhbGwgbmF0aXZlIGFzc2V0cyBjb250YWluaW5nIFVSTCBzaG91bGQgYmUgc2VudCBhcyBwbGFjZWhvbGRlcnMgd2l0aCBzZW5kSWQoaWNvbiwgaW1hZ2UsIGNsaWNrVXJsLCBkaXNwbGF5VXJsLCBwcml2YWN5TGluaywgcHJpdmFjeUljb24pIiksci5zaXplcz1wYXJzZVNpemVzKHJldHJpZXZlQmFubmVyU2l6ZXModCkscGFyc2VOYXRpdmVTaXplKSk6ci5zaXplcz1wYXJzZVNpemVzKHJldHJpZXZlQmFubmVyU2l6ZXModCkscGFyc2VTaXplKSxoYXNWaWRlb01lZGlhVHlwZSh0KSYmKChlPXtwbGF5ZXJzaXplczpwYXJzZVNpemVzKF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSxwYXJzZVNpemUpLG1pbWVzOnQubWVkaWFUeXBlcy52aWRlby5taW1lcyxwcm90b2NvbHM6dC5tZWRpYVR5cGVzLnZpZGVvLnByb3RvY29scyxtYXhkdXJhdGlvbjp0Lm1lZGlhVHlwZXMudmlkZW8ubWF4ZHVyYXRpb24sYXBpOnQubWVkaWFUeXBlcy52aWRlby5hcGl9KS5za2lwPXQucGFyYW1zLnZpZGVvLnNraXAsZS5wbGFjZW1lbnQ9dC5wYXJhbXMudmlkZW8ucGxhY2VtZW50LGUubWluZHVyYXRpb249dC5wYXJhbXMudmlkZW8ubWluZHVyYXRpb24sZS5wbGF5YmFja21ldGhvZD10LnBhcmFtcy52aWRlby5wbGF5YmFja21ldGhvZCxlLnN0YXJ0ZGVsYXk9dC5wYXJhbXMudmlkZW8uc3RhcnRkZWxheSxyLnZpZGVvPWUpLHJ9KX07cmV0dXJuIGkmJihzLnB1Ymxpc2hlci5uZXR3b3JraWQ9aSkscy51c2VyPXtleHQ6ci51c2VyRXh0fSxyJiZyLmNlaCYmKHMudXNlci5jZWg9ci5jZWgpLHImJnIuZ2RwckNvbnNlbnQmJihzLmdkcHJDb25zZW50PXt9LHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihzLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPSEhci5nZHByQ29uc2VudC5nZHByQXBwbGllcykscy5nZHByQ29uc2VudC52ZXJzaW9uPXIuZ2RwckNvbnNlbnQuYXBpVmVyc2lvbix2b2lkIDAhPT1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihzLmdkcHJDb25zZW50LmNvbnNlbnREYXRhPXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHImJnIudXNwQ29uc2VudCYmKHMudXNlci51c3BJYWI9ci51c3BDb25zZW50KSxzfWZ1bmN0aW9uIHJldHJpZXZlQmFubmVyU2l6ZXModCl7cmV0dXJuIF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpfHx0LnNpemVzfWZ1bmN0aW9uIHBhcnNlU2l6ZXModCxlKXtyZXR1cm4gQXJyYXkuaXNBcnJheSh0WzBdKT90Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZSh0KX0pOltlKHQpXX1mdW5jdGlvbiBwYXJzZVNpemUodCl7cmV0dXJuIHRbMF0rIngiK3RbMV19ZnVuY3Rpb24gcGFyc2VOYXRpdmVTaXplKHQpe3JldHVybiB2b2lkIDA9PT10WzBdJiZ2b2lkIDA9PT10WzFdPyIyeDIiOnRbMF0rIngiK3RbMV19ZnVuY3Rpb24gaGFzVmlkZW9NZWRpYVR5cGUodCl7cmV0dXJuIHZvaWQgMCE9PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2Vzcyh0LCJwYXJhbXMudmlkZW8iKSYmdm9pZCAwIT09X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5kZWVwQWNjZXNzKHQsIm1lZGlhVHlwZXMudmlkZW8iKX1mdW5jdGlvbiBoYXNWYWxpZFZpZGVvTWVkaWFUeXBlKGUpe3ZhciByPSEwO1sibWltZXMiLCJwbGF5ZXJTaXplIiwibWF4ZHVyYXRpb24iLCJwcm90b2NvbHMiLCJhcGkiXS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZvaWQgMD09PV9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLiIrdCkmJihyPSExLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nRXJyb3IoIkNyaXRlbyBCaWQgQWRhcHRlcjogbWVkaWFUeXBlcy52aWRlby4iK3QrIiBpcyByZXF1aXJlZCIpKX0pO2lmKFsic2tpcCIsInBsYWNlbWVudCIsInBsYXliYWNrbWV0aG9kIl0uZm9yRWFjaChmdW5jdGlvbih0KXt2b2lkIDA9PT1fX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLiIrdCkmJihyPSExLF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNF9fc3JjX3V0aWxzX2pzX18ubG9nRXJyb3IoIkNyaXRlbyBCaWQgQWRhcHRlcjogcGFyYW1zLnZpZGVvLiIrdCsiIGlzIHJlcXVpcmVkIikpfSkscil7aWYoImluc3RyZWFtIj09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQmJjE9PT1lLnBhcmFtcy52aWRlby5wbGFjZW1lbnQpcmV0dXJuIDE7aWYoIm91dHN0cmVhbSI9PWUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYxIT09ZS5wYXJhbXMudmlkZW8ucGxhY2VtZW50KXJldHVybiAxfX1mdW5jdGlvbiBjcmVhdGVQcmViaWROYXRpdmVBZCh0KXtyZXR1cm57dGl0bGU6dC5wcm9kdWN0c1swXS50aXRsZSxib2R5OnQucHJvZHVjdHNbMF0uZGVzY3JpcHRpb24sc3BvbnNvcmVkQnk6dC5hZHZlcnRpc2VyLmRlc2NyaXB0aW9uLGljb246dC5hZHZlcnRpc2VyLmxvZ28saW1hZ2U6dC5wcm9kdWN0c1swXS5pbWFnZSxjbGlja1VybDp0LnByb2R1Y3RzWzBdLmNsaWNrX3VybCxwcml2YWN5TGluazp0LnByaXZhY3kub3B0b3V0X2NsaWNrX3VybCxwcml2YWN5SWNvbjp0LnByaXZhY3kub3B0b3V0X2ltYWdlX3VybCxjdGE6dC5wcm9kdWN0c1swXS5jYWxsX3RvX2FjdGlvbixwcmljZTp0LnByb2R1Y3RzWzBdLnByaWNlLGltcHJlc3Npb25UcmFja2Vyczp0LmltcHJlc3Npb25fcGl4ZWxzLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC51cmx9KX19ZnVuY3Rpb24gY3JlYXRlTmF0aXZlQWQodCxlLHIpe3ZhciBpPSJjcml0ZW9fcHJlYmlkX25hdGl2ZV9zbG90cyI7cmV0dXJuIHdpbmRvd1tpXT13aW5kb3dbaV18fHt9LHdpbmRvd1tpXVt0XT17Y2FsbGJhY2s6cixwYXlsb2FkOmV9LCdcbjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij5cbmZvciAodmFyIGkgPSAwOyBpIDwgMTA7ICsraSkge1xuIHZhciBzbG90cyA9IHdpbmRvdy5wYXJlbnQuJy5jb25jYXQoaSwnO1xuICBpZighc2xvdHMpe2NvbnRpbnVlO31cbiAgdmFyIHJlc3BvbnNlU2xvdCA9IHNsb3RzWyInKS5jb25jYXQodCwnIl07XG4gIHJlc3BvbnNlU2xvdC5jYWxsYmFjayhyZXNwb25zZVNsb3QucGF5bG9hZCk7XG4gIGJyZWFrO1xufVxuPFwvc2NyaXB0PicpfWZ1bmN0aW9uIHRyeUdldENyaXRlb0Zhc3RCaWQoKXt0cnl7dmFyIGZhc3RCaWRTdG9yYWdlS2V5PSJjcml0ZW9fZmFzdF9iaWQiLGhhc2hQcmVmaXg9Ii8vIEhhc2g6ICIsZmFzdEJpZEZyb21TdG9yYWdlPXN0b3JhZ2UuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpLGZpcnN0TGluZUVuZFBvc2l0aW9uLGZpcnN0TGluZSxwdWJsaXNoZXJUYWdIYXNoLHB1Ymxpc2hlclRhZztudWxsIT09ZmFzdEJpZEZyb21TdG9yYWdlJiYoZmlyc3RMaW5lRW5kUG9zaXRpb249ZmFzdEJpZEZyb21TdG9yYWdlLmluZGV4T2YoIlxuIiksZmlyc3RMaW5lPWZhc3RCaWRGcm9tU3RvcmFnZS5zdWJzdHIoMCxmaXJzdExpbmVFbmRQb3NpdGlvbikudHJpbSgpLGZpcnN0TGluZS5zdWJzdHIoMCxoYXNoUHJlZml4Lmxlbmd0aCkhPT1oYXNoUHJlZml4PyhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmxvZ1dhcm4oIk5vIGhhc2ggZm91bmQgaW4gRmFzdEJpZCIpLHN0b3JhZ2UucmVtb3ZlRGF0YUZyb21Mb2NhbFN0b3JhZ2UoZmFzdEJpZFN0b3JhZ2VLZXkpKToocHVibGlzaGVyVGFnSGFzaD1maXJzdExpbmUuc3Vic3RyKGhhc2hQcmVmaXgubGVuZ3RoKSxwdWJsaXNoZXJUYWc9ZmFzdEJpZEZyb21TdG9yYWdlLnN1YnN0cihmaXJzdExpbmVFbmRQb3NpdGlvbisxKSxPYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV82X2NyaXRlb19kaXJlY3RfcnNhX3ZhbGlkYXRlX2J1aWxkX3ZlcmlmeV9qc19fLnZlcmlmeSkocHVibGlzaGVyVGFnLHB1Ymxpc2hlclRhZ0hhc2gsRkFTVF9CSURfUFVCS0VZX04sRkFTVF9CSURfUFVCS0VZX0UpPyhfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzRfX3NyY191dGlsc19qc19fLmxvZ0luZm8oIlVzaW5nIENyaXRlbyBGYXN0QmlkIiksZXZhbChwdWJsaXNoZXJUYWcpKTooX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV80X19zcmNfdXRpbHNfanNfXy5sb2dXYXJuKCJJbnZhbGlkIENyaXRlbyBGYXN0QmlkIGZvdW5kIiksc3RvcmFnZS5yZW1vdmVEYXRhRnJvbUxvY2FsU3RvcmFnZShmYXN0QmlkU3RvcmFnZUtleSkpKSl9Y2F0Y2godCl7fX1PYmplY3QoX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zcmNfYWRhcHRlcnNfYmlkZGVyRmFjdG9yeV9qc19fLnJlZ2lzdGVyQmlkZGVyKShzcGVjKX0sMzc4OmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBhPXIoMzc5KSxuPXIoMzgwKTtlLnZlcmlmeT1mdW5jdGlvbih0LGUscixpKXt2YXIgcz1uZXcgYS5CaWdJbnRlZ2VyKGEuYjY0dG9IZXgoZSkpLG89bmV3IGEuQmlnSW50ZWdlcihhLmI2NHRvSGV4KHIpKSxfPXMubW9kUG93SW50KGksbyk7cmV0dXJuIGEucmVtb3ZlRXh0cmFTeW1ib2xzKF8udG9IZXhTdHJpbmcoKSk9PT1uLlNoYTI1Ni5oYXNoKHQpfX0sMzc5OmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7dmFyIGk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBzPShULnByb3RvdHlwZS50b0hleFN0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuczwwKXJldHVybiItIit0aGlzLm5lZ2F0ZSgpLnRvSGV4U3RyaW5nKCk7dmFyIHQsZT0hMSxyPSIiLGk9dGhpcy50LHM9dGhpcy5EQi1pKnRoaXMuREIlNDtpZigwPGktLSlmb3Ioczx0aGlzLkRCJiYwPCh0PXRoaXNbaV0+PnMpJiYoZT0hMCxyPWModCkpOzA8PWk7KXM8ND8odD0odGhpc1tpXSYoMTw8cyktMSk8PDQtcyx0fD10aGlzWy0taV0+PihzKz10aGlzLkRCLTQpKToodD10aGlzW2ldPj4ocy09NCkmMTUsczw9MCYmKHMrPXRoaXMuREIsLS1pKSksMDx0JiYoZT0hMCksZSYmKHIrPWModCkpO3JldHVybiBlP3I6IjAifSxULnByb3RvdHlwZS5mcm9tSGV4U3RyaW5nPWZ1bmN0aW9uKHQpe2lmKG51bGwhPT10KXt0aGlzLnQ9MCx0aGlzLnM9MDtmb3IodmFyIGU9dC5sZW5ndGgscj0hMSxpPTA7MDw9LS1lOyl7dmFyIHM9bih0LGUpO3M8MD8iLSI9PXQuY2hhckF0KGUpJiYocj0hMCk6KHI9ITEsMD09aT90aGlzW3RoaXMudCsrXT1zOmkrND50aGlzLkRCPyh0aGlzW3RoaXMudC0xXXw9KHMmKDE8PHRoaXMuREItaSktMSk8PGksdGhpc1t0aGlzLnQrK109cz4+dGhpcy5EQi1pKTp0aGlzW3RoaXMudC0xXXw9czw8aSwoaSs9NCk+PXRoaXMuREImJihpLT10aGlzLkRCKSl9dGhpcy5jbGFtcCgpLHImJlQuWkVSTy5zdWJUbyh0aGlzLHRoaXMpfX0sVC5wcm90b3R5cGUubmVnYXRlPWZ1bmN0aW9uKCl7dmFyIHQ9YigpO3JldHVybiBULlpFUk8uc3ViVG8odGhpcyx0KSx0fSxULnByb3RvdHlwZS5hYnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zPDA/dGhpcy5uZWdhdGUoKTp0aGlzfSxULnByb3RvdHlwZS5tb2Q9ZnVuY3Rpb24odCl7dmFyIGU9YigpO3JldHVybiB0aGlzLmFicygpLmRpdlJlbVRvKHQsbnVsbCxlKSx0aGlzLnM8MCYmMDxlLmNvbXBhcmVUbyhULlpFUk8pJiZ0LnN1YlRvKGUsZSksZX0sVC5wcm90b3R5cGUuY29weVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLnQtMTswPD1lOy0tZSl0W2VdPXRoaXNbZV07dC50PXRoaXMudCx0LnM9dGhpcy5zfSxULnByb3RvdHlwZS5sU2hpZnRUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj10JXRoaXMuREIsaT10aGlzLkRCLXIscz0oMTw8aSktMSxvPU1hdGguZmxvb3IodC90aGlzLkRCKSxfPXRoaXMuczw8ciZ0aGlzLkRNLGE9dGhpcy50LTE7MDw9YTstLWEpZVthK28rMV09dGhpc1thXT4+aXxfLF89KHRoaXNbYV0mcyk8PHI7Zm9yKGE9by0xOzA8PWE7LS1hKWVbYV09MDtlW29dPV8sZS50PXRoaXMudCtvKzEsZS5zPXRoaXMucyxlLmNsYW1wKCl9LFQucHJvdG90eXBlLmludkRpZ2l0PWZ1bmN0aW9uKCl7aWYodGhpcy50PDEpcmV0dXJuIDA7dmFyIHQ9dGhpc1swXTtpZigwPT0oMSZ0KSlyZXR1cm4gMDt2YXIgZT0zJnQ7cmV0dXJuIDA8KGU9KGU9KGU9KGU9ZSooMi0oMTUmdCkqZSkmMTUpKigyLSgyNTUmdCkqZSkmMjU1KSooMi0oKDY1NTM1JnQpKmUmNjU1MzUpKSY2NTUzNSkqKDItdCplJXRoaXMuRFYpJXRoaXMuRFYpP3RoaXMuRFYtZTotZX0sVC5wcm90b3R5cGUuZGxTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXRoaXMudC0xOzA8PXI7LS1yKWVbcit0XT10aGlzW3JdO2ZvcihyPXQtMTswPD1yOy0tcillW3JdPTA7ZS50PXRoaXMudCt0LGUucz10aGlzLnN9LFQucHJvdG90eXBlLnNxdWFyZVRvPWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLmFicygpLHI9dC50PTIqZS50OzA8PS0tcjspdFtyXT0wO2ZvcihyPTA7cjxlLnQtMTsrK3Ipe3ZhciBpPWUuYW0ocixlW3JdLHQsMipyLDAsMSk7KHRbcitlLnRdKz1lLmFtKHIrMSwyKmVbcl0sdCwyKnIrMSxpLGUudC1yLTEpKT49ZS5EViYmKHRbcitlLnRdLT1lLkRWLHRbcitlLnQrMV09MSl9MDx0LnQmJih0W3QudC0xXSs9ZS5hbShyLGVbcl0sdCwyKnIsMCwxKSksdC5zPTAsdC5jbGFtcCgpfSxULnByb3RvdHlwZS5tdWx0aXBseVRvPWZ1bmN0aW9uKHQsZSl7dmFyIHI9dGhpcy5hYnMoKSxpPXQuYWJzKCkscz1yLnQ7Zm9yKGUudD1zK2kudDswPD0tLXM7KWVbc109MDtmb3Iocz0wO3M8aS50OysrcyllW3Mrci50XT1yLmFtKDAsaVtzXSxlLHMsMCxyLnQpO2Uucz0wLGUuY2xhbXAoKSx0aGlzLnMhPXQucyYmVC5aRVJPLnN1YlRvKGUsZSl9LFQucHJvdG90eXBlLmRpdlJlbVRvPWZ1bmN0aW9uKHQsZSxyKXt2YXIgaT10LmFicygpO2lmKCEoaS50PD0wKSl7dmFyIHM9dGhpcy5hYnMoKTtpZihzLnQ8aS50KXJldHVybiBudWxsIT1lJiZlLmZyb21IZXhTdHJpbmcoIjAiKSx2b2lkKG51bGwhPXImJnRoaXMuY29weVRvKHIpKTtudWxsPT1yJiYocj1iKCkpO3ZhciBvPWIoKSxfPXRoaXMucyxhPXQucyxuPXRoaXMuREItRChpW2kudC0xXSk7MDxuPyhpLmxTaGlmdFRvKG4sbykscy5sU2hpZnRUbyhuLHIpKTooaS5jb3B5VG8obykscy5jb3B5VG8ocikpO3ZhciBwPW8udCxjPW9bcC0xXTtpZigwIT1jKXt2YXIgZD1jKigxPDx0aGlzLkYxKSsoMTxwP29bcC0yXT4+dGhpcy5GMjowKSx1PXRoaXMuRlYvZCxoPSgxPDx0aGlzLkYxKS9kLGw9MTw8dGhpcy5GMixmPXIudCxFPWYtcCx2PW51bGw9PWU/YigpOmU7Zm9yKG8uZGxTaGlmdFRvKEUsdiksMDw9ci5jb21wYXJlVG8odikmJihyW3IudCsrXT0xLHIuc3ViVG8odixyKSksVC5PTkUuZGxTaGlmdFRvKHAsdiksdi5zdWJUbyhvLG8pO28udDxwOylvW28udCsrXT0wO2Zvcig7MDw9LS1FOyl7dmFyIG09clstLWZdPT1jP3RoaXMuRE06TWF0aC5mbG9vcihyW2ZdKnUrKHJbZi0xXStsKSpoKTtpZigocltmXSs9by5hbSgwLG0scixFLDAscCkpPG0pZm9yKG8uZGxTaGlmdFRvKEUsdiksci5zdWJUbyh2LHIpO3JbZl08LS1tOylyLnN1YlRvKHYscil9bnVsbCE9ZSYmKHIuZHJTaGlmdFRvKHAsZSksXyE9YSYmVC5aRVJPLnN1YlRvKGUsZSkpLHIudD1wLHIuY2xhbXAoKSwwPG4mJnIuclNoaWZ0VG8obixyKSxfPDAmJlQuWkVSTy5zdWJUbyhyLHIpfX19LFQucHJvdG90eXBlLnJTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7ZS5zPXRoaXMuczt2YXIgcj1NYXRoLmZsb29yKHQvdGhpcy5EQik7aWYocj49dGhpcy50KWUudD0wO2Vsc2V7dmFyIGk9dCV0aGlzLkRCLHM9dGhpcy5EQi1pLG89KDE8PGkpLTE7ZVswXT10aGlzW3JdPj5pO2Zvcih2YXIgXz1yKzE7Xzx0aGlzLnQ7KytfKWVbXy1yLTFdfD0odGhpc1tfXSZvKTw8cyxlW18tcl09dGhpc1tfXT4+aTswPGkmJihlW3RoaXMudC1yLTFdfD0odGhpcy5zJm8pPDxzKSxlLnQ9dGhpcy50LXIsZS5jbGFtcCgpfX0sVC5wcm90b3R5cGUuZHJTaGlmdFRvPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciByPXQ7cjx0aGlzLnQ7KytyKWVbci10XT10aGlzW3JdO2UudD1NYXRoLm1heCh0aGlzLnQtdCwwKSxlLnM9dGhpcy5zfSxULnByb3RvdHlwZS5zdWJUbz1mdW5jdGlvbih0LGUpe2Zvcih2YXIgcj0wLGk9MCxzPU1hdGgubWluKHQudCx0aGlzLnQpO3I8czspaSs9dGhpc1tyXS10W3JdLGVbcisrXT1pJnRoaXMuRE0saT4+PXRoaXMuREI7aWYodC50PHRoaXMudCl7Zm9yKGktPXQucztyPHRoaXMudDspaSs9dGhpc1tyXSxlW3IrK109aSZ0aGlzLkRNLGk+Pj10aGlzLkRCO2krPXRoaXMuc31lbHNle2ZvcihpKz10aGlzLnM7cjx0LnQ7KWktPXRbcl0sZVtyKytdPWkmdGhpcy5ETSxpPj49dGhpcy5EQjtpLT10LnN9ZS5zPWk8MD8tMTowLGk8LTE/ZVtyKytdPXRoaXMuRFYraTowPGkmJihlW3IrK109aSksZS50PXIsZS5jbGFtcCgpfSxULnByb3RvdHlwZS5jbGFtcD1mdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLnMmdGhpcy5ETTswPHRoaXMudCYmdGhpc1t0aGlzLnQtMV09PXQ7KS0tdGhpcy50fSxULnByb3RvdHlwZS5tb2RQb3dJbnQ9ZnVuY3Rpb24odCxlKXt2YXIgcj1uZXcodDwyNTZ8fGUuaXNFdmVuKCk/ZDpoKShlKTtyZXR1cm4gdGhpcy5leHAodCxyKX0sVC5wcm90b3R5cGUuZXhwPWZ1bmN0aW9uKHQsZSl7aWYoNDI5NDk2NzI5NTx0fHx0PDEpcmV0dXJuIFQuT05FO3ZhciByLGk9YigpLHM9YigpLG89ZS5jb252ZXJ0KHRoaXMpLF89RCh0KS0xO2ZvcihvLmNvcHlUbyhpKTswPD0tLV87KWUuc3FyVG8oaSxzKSwwPCh0JjE8PF8pP2UubXVsVG8ocyxvLGkpOihyPWksaT1zLHM9cik7cmV0dXJuIGUucmV2ZXJ0KGkpfSxULnByb3RvdHlwZS5pc0V2ZW49ZnVuY3Rpb24oKXtyZXR1cm4gMD09KDA8dGhpcy50PzEmdGhpc1swXTp0aGlzLnMpfSxULnByb3RvdHlwZS5jb21wYXJlVG89ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5zLXQucztpZigwIT1lKXJldHVybiBlO3ZhciByPXRoaXMudDtpZigwIT0oZT1yLXQudCkpcmV0dXJuIHRoaXMuczwwPy1lOmU7Zm9yKDswPD0tLXI7KWlmKDAhPShlPXRoaXNbcl0tdFtyXSkpcmV0dXJuIGU7cmV0dXJuIDB9LFQucHJvdG90eXBlLmFtMT1mdW5jdGlvbih0LGUscixpLHMsbyl7Zm9yKDswPD0tLW87KXt2YXIgXz1lKnRoaXNbdCsrXStyW2ldK3M7cz1NYXRoLmZsb29yKF8vNjcxMDg4NjQpLHJbaSsrXT02NzEwODg2MyZffXJldHVybiBzfSxULnByb3RvdHlwZS5hbTI9ZnVuY3Rpb24odCxlLHIsaSxzLG8pe2Zvcih2YXIgXz0zMjc2NyZlLGE9ZT4+MTU7MDw9LS1vOyl7dmFyIG49MzI3NjcmdGhpc1t0XSxwPXRoaXNbdCsrXT4+MTUsYz1hKm4rcCpfO3M9KChuPV8qbisoKDMyNzY3JmMpPDwxNSkrcltpXSsoMTA3Mzc0MTgyMyZzKSk+Pj4zMCkrKGM+Pj4xNSkrYSpwKyhzPj4+MzApLHJbaSsrXT0xMDczNzQxODIzJm59cmV0dXJuIHN9LFQucHJvdG90eXBlLmFtMz1mdW5jdGlvbih0LGUscixpLHMsbyl7Zm9yKHZhciBfPTE2MzgzJmUsYT1lPj4xNDswPD0tLW87KXt2YXIgbj0xNjM4MyZ0aGlzW3RdLHA9dGhpc1t0KytdPj4xNCxjPWEqbitwKl87cz0oKG49XypuKygoMTYzODMmYyk8PDE0KStyW2ldK3MpPj4yOCkrKGM+PjE0KSthKnAscltpKytdPTI2ODQzNTQ1NSZufXJldHVybiBzfSxUKTtmdW5jdGlvbiBUKHQpe251bGwhPT10JiZ0aGlzLmZyb21IZXhTdHJpbmcodCl9ZnVuY3Rpb24gYigpe3JldHVybiBuZXcgcyhudWxsKX1mdW5jdGlvbiBEKHQpe3ZhciBlLHI9MTtyZXR1cm4gMCE9KGU9dD4+PjE2KSYmKHQ9ZSxyKz0xNiksMCE9KGU9dD4+OCkmJih0PWUscis9OCksMCE9KGU9dD4+NCkmJih0PWUscis9NCksMCE9KGU9dD4+MikmJih0PWUscis9MiksMCE9KGU9dD4+MSkmJih0PWUscis9MSkscn1lLkJpZ0ludGVnZXI9cyxlLm5iaT1iLGUubmJpdHM9RDtmb3IodmFyIG89W10sXz0iMCIuY2hhckNvZGVBdCgwKSxhPTA7YTw9OTsrK2Epb1tfKytdPWE7Zm9yKF89ImEiLmNoYXJDb2RlQXQoMCksYT0xMDthPDM2OysrYSlvW18rK109YTtmb3IoXz0iQSIuY2hhckNvZGVBdCgwKSxhPTEwO2E8MzY7KythKW9bXysrXT1hO2Z1bmN0aW9uIG4odCxlKXt2YXIgcj1vW3QuY2hhckNvZGVBdChlKV07cmV0dXJuIG51bGw9PXI/LTE6cn1lLmludEF0PW47dmFyIHA9IjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eiI7ZnVuY3Rpb24gYyh0KXtyZXR1cm4gcC5jaGFyQXQodCl9ZS5pbnQyY2hhcj1jO2UuYjY0dG9IZXg9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPSIiLHI9MCxpPTAscz0wO3M8dC5sZW5ndGgmJiI9IiE9dC5jaGFyQXQocyk7KytzKXt2YXIgbz0iQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyIuaW5kZXhPZih0LmNoYXJBdChzKSk7bzwwfHwocj0wPT1yPyhlKz1jKG8+PjIpLGk9MyZvLDEpOjE9PXI/KGUrPWMoaTw8MnxvPj40KSxpPTE1Jm8sMik6Mj09cj8oZSs9YyhpKSxlKz1jKG8+PjIpLGk9MyZvLDMpOihlKz1jKGk8PDJ8bz4+NCksZSs9YygxNSZvKSwwKSl9cmV0dXJuIDE9PXImJihlKz1jKGk8PDIpKSxlfSxlLnJlbW92ZUV4dHJhU3ltYm9scz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC9eMWYrMDAvLCIiKS5yZXBsYWNlKCIzMDMxMzAwZDA2MDk2MDg2NDgwMTY1MDMwNDAyMDEwNTAwMDQyMCIsIiIpfTt2YXIgZD0odS5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXtyZXR1cm4gdC5zPDB8fDA8PXQuY29tcGFyZVRvKHRoaXMubSk/dC5tb2QodGhpcy5tKTp0fSx1LnByb3RvdHlwZS5yZXZlcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIHR9LHUucHJvdG90eXBlLnJlZHVjZT1mdW5jdGlvbih0KXt0LmRpdlJlbVRvKHRoaXMubSxudWxsLHQpfSx1LnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUscil7dC5tdWx0aXBseVRvKGUsciksdGhpcy5yZWR1Y2Uocil9LHUucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sdSk7ZnVuY3Rpb24gdSh0KXt0aGlzLm09dH12YXIgaD0obC5wcm90b3R5cGUuY29udmVydD1mdW5jdGlvbih0KXt2YXIgZT1iKCk7cmV0dXJuIHQuYWJzKCkuZGxTaGlmdFRvKHRoaXMubS50LGUpLGUuZGl2UmVtVG8odGhpcy5tLG51bGwsZSksdC5zPDAmJjA8ZS5jb21wYXJlVG8ocy5aRVJPKSYmdGhpcy5tLnN1YlRvKGUsZSksZX0sbC5wcm90b3R5cGUucmV2ZXJ0PWZ1bmN0aW9uKHQpe3ZhciBlPWIoKTtyZXR1cm4gdC5jb3B5VG8oZSksdGhpcy5yZWR1Y2UoZSksZX0sbC5wcm90b3R5cGUucmVkdWNlPWZ1bmN0aW9uKHQpe2Zvcig7dC50PD10aGlzLm10MjspdFt0LnQrK109MDtmb3IodmFyIGU9MDtlPHRoaXMubS50OysrZSl7dmFyIHI9MzI3NjcmdFtlXSxpPXIqdGhpcy5tcGwrKChyKnRoaXMubXBoKyh0W2VdPj4xNSkqdGhpcy5tcGwmdGhpcy51bSk8PDE1KSZ0LkRNO2Zvcih0W3I9ZSt0aGlzLm0udF0rPXRoaXMubS5hbSgwLGksdCxlLDAsdGhpcy5tLnQpO3Rbcl0+PXQuRFY7KXRbcl0tPXQuRFYsdFsrK3JdKyt9dC5jbGFtcCgpLHQuZHJTaGlmdFRvKHRoaXMubS50LHQpLDA8PXQuY29tcGFyZVRvKHRoaXMubSkmJnQuc3ViVG8odGhpcy5tLHQpfSxsLnByb3RvdHlwZS5tdWxUbz1mdW5jdGlvbih0LGUscil7dC5tdWx0aXBseVRvKGUsciksdGhpcy5yZWR1Y2Uocil9LGwucHJvdG90eXBlLnNxclRvPWZ1bmN0aW9uKHQsZSl7dC5zcXVhcmVUbyhlKSx0aGlzLnJlZHVjZShlKX0sbCk7ZnVuY3Rpb24gbCh0KXt0aGlzLm09dCx0aGlzLm1wPXQuaW52RGlnaXQoKSx0aGlzLm1wbD0zMjc2NyZ0aGlzLm1wLHRoaXMubXBoPXRoaXMubXA+PjE1LHRoaXMudW09KDE8PHQuREItMTUpLTEsdGhpcy5tdDI9Mip0LnR9ZnVuY3Rpb24gZih0KXt2YXIgZT1iKCk7cmV0dXJuIGUuZnJvbUhleFN0cmluZyh0LnRvU3RyaW5nKCkpLGV9ZS5uYnY9ZixzLlpFUk89ZigwKSxzLk9ORT1mKDEpLGk9Ik1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlciI9PW5hdmlnYXRvci5hcHBOYW1lPyhzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTIsMzApOiJOZXRzY2FwZSIhPW5hdmlnYXRvci5hcHBOYW1lPyhzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTEsMjYpOihzLnByb3RvdHlwZS5hbT1zLnByb3RvdHlwZS5hbTMsMjgpLHMucHJvdG90eXBlLkRCPWkscy5wcm90b3R5cGUuRE09KDE8PGkpLTEscy5wcm90b3R5cGUuRFY9MTw8aTtzLnByb3RvdHlwZS5GVj1NYXRoLnBvdygyLDUyKSxzLnByb3RvdHlwZS5GMT01Mi1pLHMucHJvdG90eXBlLkYyPTIqaS01Mn0sMzgwOmZ1bmN0aW9uKHQsZSxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pO3ZhciBpPSh5Lmhhc2g9ZnVuY3Rpb24odCl7dD15LnV0ZjhFbmNvZGUodHx8IiIpO2Zvcih2YXIgZT1bMTExNjM1MjQwOCwxODk5NDQ3NDQxLDMwNDkzMjM0NzEsMzkyMTAwOTU3Myw5NjE5ODcxNjMsMTUwODk3MDk5MywyNDUzNjM1NzQ4LDI4NzA3NjMyMjEsMzYyNDM4MTA4MCwzMTA1OTg0MDEsNjA3MjI1Mjc4LDE0MjY4ODE5ODcsMTkyNTA3ODM4OCwyMTYyMDc4MjA2LDI2MTQ4ODgxMDMsMzI0ODIyMjU4MCwzODM1MzkwNDAxLDQwMjIyMjQ3NzQsMjY0MzQ3MDc4LDYwNDgwNzYyOCw3NzAyNTU5ODMsMTI0OTE1MDEyMiwxNTU1MDgxNjkyLDE5OTYwNjQ5ODYsMjU1NDIyMDg4MiwyODIxODM0MzQ5LDI5NTI5OTY4MDgsMzIxMDMxMzY3MSwzMzM2NTcxODkxLDM1ODQ1Mjg3MTEsMTEzOTI2OTkzLDMzODI0MTg5NSw2NjYzMDcyMDUsNzczNTI5OTEyLDEyOTQ3NTczNzIsMTM5NjE4MjI5MSwxNjk1MTgzNzAwLDE5ODY2NjEwNTEsMjE3NzAyNjM1MCwyNDU2OTU2MDM3LDI3MzA0ODU5MjEsMjgyMDMwMjQxMSwzMjU5NzMwODAwLDMzNDU3NjQ3NzEsMzUxNjA2NTgxNywzNjAwMzUyODA0LDQwOTQ1NzE5MDksMjc1NDIzMzQ0LDQzMDIyNzczNCw1MDY5NDg2MTYsNjU5MDYwNTU2LDg4Mzk5Nzg3Nyw5NTgxMzk1NzEsMTMyMjgyMjIxOCwxNTM3MDAyMDYzLDE3NDc4NzM3NzksMTk1NTU2MjIyMiwyMDI0MTA0ODE1LDIyMjc3MzA0NTIsMjM2MTg1MjQyNCwyNDI4NDM2NDc0LDI3NTY3MzQxODcsMzIwNDAzMTQ3OSwzMzI5MzI1Mjk4XSxyPVsxNzc5MDMzNzAzLDMxNDQxMzQyNzcsMTAxMzkwNDI0MiwyNzczNDgwNzYyLDEzNTk4OTMxMTksMjYwMDgyMjkyNCw1Mjg3MzQ2MzUsMTU0MTQ1OTIyNV0saT0odCs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjgpKS5sZW5ndGgvNCsyLHM9TWF0aC5jZWlsKGkvMTYpLG89bmV3IEFycmF5KHMpLF89MDtfPHM7XysrKXtvW19dPW5ldyBBcnJheSgxNik7Zm9yKHZhciBhPTA7YTwxNjthKyspb1tfXVthXT10LmNoYXJDb2RlQXQoNjQqXys0KmEpPDwyNHx0LmNoYXJDb2RlQXQoNjQqXys0KmErMSk8PDE2fHQuY2hhckNvZGVBdCg2NCpfKzQqYSsyKTw8OHx0LmNoYXJDb2RlQXQoNjQqXys0KmErMyk8PDB9dmFyIG49OCoodC5sZW5ndGgtMSkvTWF0aC5wb3coMiwzMikscD04Kih0Lmxlbmd0aC0xKT4+PjA7Zm9yKG9bcy0xXVsxNF09TWF0aC5mbG9vcihuKSxvW3MtMV1bMTVdPXAsXz0wO188cztfKyspe2Zvcih2YXIgYz1uZXcgQXJyYXkoNjQpLGQ9MDtkPDE2O2QrKyljW2RdPW9bX11bZF07Zm9yKGQ9MTY7ZDw2NDtkKyspY1tkXT15LnExKGNbZC0yXSkrY1tkLTddK3kucTAoY1tkLTE1XSkrY1tkLTE2XT4+PjA7Zm9yKHZhciB1PXJbMF0saD1yWzFdLGw9clsyXSxmPXJbM10sRT1yWzRdLHY9cls1XSxtPXJbNl0sVD1yWzddLGQ9MDtkPDY0O2QrKyl7dmFyIGI9VCt5LnoxKEUpK3kuQ2goRSx2LG0pK2VbZF0rY1tkXSxEPXkuejAodSkreS5NYWoodSxoLGwpO1Q9bSxtPXYsdj1FLEU9ZitiPj4+MCxmPWwsbD1oLGg9dSx1PWIrRD4+PjB9clswXT1yWzBdK3U+Pj4wLHJbMV09clsxXStoPj4+MCxyWzJdPXJbMl0rbD4+PjAsclszXT1yWzNdK2Y+Pj4wLHJbNF09cls0XStFPj4+MCxyWzVdPXJbNV0rdj4+PjAscls2XT1yWzZdK20+Pj4wLHJbN109cls3XStUPj4+MH1mb3IodmFyIFA9bmV3IEFycmF5KHIubGVuZ3RoKSxUPTA7VDxyLmxlbmd0aDtUKyspUFtUXT0oIjAwMDAwMDAwIityW1RdLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTgpO3JldHVybiBQLmpvaW4oIiIpfSx5LnV0ZjhFbmNvZGU9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKS5yZWR1Y2UoZnVuY3Rpb24odCxlKXtyZXR1cm4gdCtTdHJpbmcuZnJvbUNoYXJDb2RlKGUpfSwiIil9Y2F0Y2godCl7cmV0dXJuIHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChlKSl9fSx5LlJPVFI9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT4+PnR8ZTw8MzItdH0seS56MD1mdW5jdGlvbih0KXtyZXR1cm4geS5ST1RSKDIsdCleeS5ST1RSKDEzLHQpXnkuUk9UUigyMix0KX0seS56MT1mdW5jdGlvbih0KXtyZXR1cm4geS5ST1RSKDYsdCleeS5ST1RSKDExLHQpXnkuUk9UUigyNSx0KX0seS5xMD1mdW5jdGlvbih0KXtyZXR1cm4geS5ST1RSKDcsdCleeS5ST1RSKDE4LHQpXnQ+Pj4zfSx5LnExPWZ1bmN0aW9uKHQpe3JldHVybiB5LlJPVFIoMTcsdCleeS5ST1RSKDE5LHQpXnQ+Pj4xMH0seS5DaD1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQmZV5+dCZyfSx5Lk1haj1mdW5jdGlvbih0LGUscil7cmV0dXJuIHQmZV50JnJeZSZyfSx5KTtmdW5jdGlvbiB5KCl7fWUuU2hhMjU2PWl9fSxbMzc2XSk7CnVwYmpzQ2h1bmsoWzI3Nl0sezM4MzpmdW5jdGlvbihlLG4scil7ZS5leHBvcnRzPXIoMzg0KX0sMzg0OmZ1bmN0aW9uKGUsbixyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZChuLCJjdXJyZW5jeVN1cHBvcnRFbmFibGVkIixmdW5jdGlvbigpe3JldHVybiBSfSksci5kKG4sImN1cnJlbmN5UmF0ZXMiLGZ1bmN0aW9uKCl7cmV0dXJuIER9KSxuLnNldENvbmZpZz1jLG4uYWRkQmlkUmVzcG9uc2VIb29rPWo7dmFyIHM9cigxOSksdT1yKDM0KSxhPXIoNSksZj0oci5uKGEpLHIoNCkpLGQ9cigwKSxvPXIoMyksbD1yKDEzKTtmdW5jdGlvbiB5KGUpe3JldHVybih5PSJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJiJzeW1ib2wiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yP2Z1bmN0aW9uKGUpe3JldHVybiB0eXBlb2YgZX06ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJiJmdW5jdGlvbiI9PXR5cGVvZiBTeW1ib2wmJmUuY29uc3RydWN0b3I9PT1TeW1ib2wmJmUhPT1TeW1ib2wucHJvdG90eXBlPyJzeW1ib2wiOnR5cGVvZiBlfSkoZSl9dmFyIGcsdj0iaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3ByZWJpZC9jdXJyZW5jeS1maWxlQDEvbGF0ZXN0Lmpzb24/ZGF0ZT0kJFRPREFZJCQiLHA9NCxiPVtdLGg9e30sQz0hMSxTPSEwLG09IlVTRCIsUj0hMSxEPXt9LEk9e307ZnVuY3Rpb24gYyhlKXt2YXIgbixyLG8sYyx0LGk9djsib2JqZWN0Ij09PXkoZS5yYXRlcykmJihELmNvbnZlcnNpb25zPWUucmF0ZXMsUz0hKEM9ITApKSwib2JqZWN0Ij09PXkoZS5kZWZhdWx0UmF0ZXMpJiYoZz1lLmRlZmF1bHRSYXRlcyxELmNvbnZlcnNpb25zPWcsQz0hMCksInN0cmluZyI9PXR5cGVvZiBlLmFkU2VydmVyQ3VycmVuY3k/KGQubG9nSW5mbygiZW5hYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIsYXJndW1lbnRzKSxtPWUuYWRTZXJ2ZXJDdXJyZW5jeSxlLmNvbnZlcnNpb25SYXRlRmlsZSYmKGQubG9nSW5mbygiY3VycmVuY3kgdXNpbmcgb3ZlcnJpZGUgY29udmVyc2lvblJhdGVGaWxlOiIsZS5jb252ZXJzaW9uUmF0ZUZpbGUpLGk9ZS5jb252ZXJzaW9uUmF0ZUZpbGUpLC0xIT09KG49aS5pbmRleE9mKCIkJFRPREFZJCQiKSkmJihyPW5ldyBEYXRlLG89IiIuY29uY2F0KHIuZ2V0TW9udGgoKSsxKSxjPSIiLmNvbmNhdChyLmdldERhdGUoKSksby5sZW5ndGg8MiYmKG89IjAiLmNvbmNhdChvKSksYy5sZW5ndGg8MiYmKGM9IjAiLmNvbmNhdChjKSksdD0iIi5jb25jYXQoci5nZXRGdWxsWWVhcigpKS5jb25jYXQobykuY29uY2F0KGMpLGk9IiIuY29uY2F0KGkuc3Vic3RyaW5nKDAsbikpLmNvbmNhdCh0KS5jb25jYXQoaS5zdWJzdHJpbmcobis5LGkubGVuZ3RoKSkpLGZ1bmN0aW9uKGUpe2g9e30sUj0hMCxkLmxvZ0luZm8oIkluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KHMuYSkoKS5jb252ZXJ0Q3VycmVuY3k9ZnVuY3Rpb24oZSxuLHIpe3JldHVybiBwYXJzZUZsb2F0KGUpKkYobixyKX0sT2JqZWN0KGwuYSkoImFkZEJpZFJlc3BvbnNlIikuYmVmb3JlKGosMTAwKSxTJiYoUz0hMSxPYmplY3QoZi5hKShlLHtzdWNjZXNzOmZ1bmN0aW9uKG4pe3RyeXtEPUpTT04ucGFyc2UobiksZC5sb2dJbmZvKCJjdXJyZW5jeVJhdGVzIHNldCB0byAiK0pTT04uc3RyaW5naWZ5KEQpKSxDPSEwLHcoKX1jYXRjaChlKXtPKCJGYWlsZWQgdG8gcGFyc2UgY3VycmVuY3lSYXRlcyByZXNwb25zZTogIituKX19LGVycm9yOk99KSl9KGkpKTooZC5sb2dJbmZvKCJkaXNhYmxpbmcgY3VycmVuY3kgc3VwcG9ydCIpLGZ1bmN0aW9uKCl7ZC5sb2dJbmZvKCJVbmluc3RhbGxpbmcgYWRkQmlkUmVzcG9uc2UgZGVjb3JhdG9yIGZvciBjdXJyZW5jeSBtb2R1bGUiLGFyZ3VtZW50cyksT2JqZWN0KGwuYSkoImFkZEJpZFJlc3BvbnNlIikuZ2V0SG9va3Moe2hvb2s6an0pLnJlbW92ZSgpLGRlbGV0ZSBPYmplY3Qocy5hKSgpLmNvbnZlcnRDdXJyZW5jeSxtPSJVU0QiLGg9e30sQz1SPSExLFM9ITAsRD17fSxJPXt9fSgpKSwib2JqZWN0Ij09PXkoZS5iaWRkZXJDdXJyZW5jeURlZmF1bHQpJiYoST1lLmJpZGRlckN1cnJlbmN5RGVmYXVsdCl9ZnVuY3Rpb24gTyhlKXtnPyhkLmxvZ1dhcm4oZSksZC5sb2dXYXJuKCJDdXJyZW5jeSBmYWlsZWQgbG9hZGluZyByYXRlcywgZmFsbGluZyBiYWNrIHRvIGN1cnJlbmN5LmRlZmF1bHRSYXRlcyIpKTpkLmxvZ0Vycm9yKGUpfWZ1bmN0aW9uIGooZSxuLHIpe2lmKCFyKXJldHVybiBlLmNhbGwodGhpcyxuKTt2YXIgbyxjLHQsaSxzPXIuYmlkZGVyQ29kZXx8ci5iaWRkZXI7aWYoSVtzXSYmKG89SVtzXSxyLmN1cnJlbmN5JiZvIT09ci5jdXJyZW5jeT9kLmxvZ1dhcm4oIkN1cnJlbmN5IGRlZmF1bHQgJyIuY29uY2F0KHMsIjogIikuY29uY2F0KG8sIicgaWdub3JlZC4gYWRhcHRlciBzcGVjaWZpZWQgJyIpLmNvbmNhdChyLmN1cnJlbmN5LCInIikpOnIuY3VycmVuY3k9byksci5jdXJyZW5jeXx8KGQubG9nV2FybignQ3VycmVuY3kgbm90IHNwZWNpZmllZCBvbiBiaWQuICBEZWZhdWx0ZWQgdG8gIlVTRCInKSxyLmN1cnJlbmN5PSJVU0QiKSxyLmdldENwbUluTmV3Q3VycmVuY3k9ZnVuY3Rpb24oZSl7cmV0dXJuKHBhcnNlRmxvYXQodGhpcy5jcG0pKkYodGhpcy5jdXJyZW5jeSxlKSkudG9GaXhlZCgzKX0sci5jdXJyZW5jeT09PW0pcmV0dXJuIGUuY2FsbCh0aGlzLG4scik7Yi5wdXNoKChjPWUsdD10aGlzLGk9W24scl0sZnVuY3Rpb24oKXt2YXIgbj1pWzFdO2lmKHZvaWQgMCE9PW4mJiJjdXJyZW5jeSJpbiBuJiYiY3BtImluIG4pe3ZhciBlPW4uY3VycmVuY3k7dHJ5e3ZhciByPUYoZSk7MSE9PXImJihuLmNwbT0ocGFyc2VGbG9hdChuLmNwbSkqcikudG9GaXhlZCg0KSxuLmN1cnJlbmN5PW0pfWNhdGNoKGUpe2QubG9nV2FybigiUmV0dXJuaW5nIE5PX0JJRCwgZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHRocmV3IGVycm9yOiAiLGUpLGlbMV09T2JqZWN0KHUuYSkoYS5TVEFUVVMuTk9fQklELHtiaWRkZXI6bi5iaWRkZXJDb2RlfHxuLmJpZGRlcixiaWRJZDpuLnJlcXVlc3RJZH0pfX1yZXR1cm4gYy5hcHBseSh0LGkpfSkpLFImJiFDfHx3KCl9ZnVuY3Rpb24gdygpe2Zvcig7MDxiLmxlbmd0aDspYi5zaGlmdCgpKCl9ZnVuY3Rpb24gRihlLG4pe3ZhciByLG89MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1uP246bSxjPW51bGwsdD0iIi5jb25jYXQoZSwiLT4iKS5jb25jYXQobyk7aWYodCBpbiBoKWM9aFt0XSxkLmxvZ01lc3NhZ2UoIlVzaW5nIGNvbnZlcnNpb25DYWNoZSB2YWx1ZSAiK2MrIiBmb3IgIit0KTtlbHNlIGlmKCExPT09Uil7aWYoIlVTRCIhPT1lKXRocm93IG5ldyBFcnJvcigiUHJlYmlkIGN1cnJlbmN5IHN1cHBvcnQgaGFzIG5vdCBiZWVuIGVuYWJsZWQgYW5kIGZyb21DdXJyZW5jeSBpcyBub3QgVVNEIik7Yz0xfWVsc2UgaWYoZT09PW8pYz0xO2Vsc2UgaWYoZSBpbiBELmNvbnZlcnNpb25zKXtpZighKG8gaW4ocj1ELmNvbnZlcnNpb25zW2VdKSkpdGhyb3cgbmV3IEVycm9yKCJTcGVjaWZpZWQgYWRTZXJ2ZXJDdXJyZW5jeSBpbiBjb25maWcgJyIrbysiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTtjPXJbb10sZC5sb2dJbmZvKCJnZXRDdXJyZW5jeUNvbnZlcnNpb24gdXNpbmcgZGlyZWN0ICIrZSsiIHRvICIrbysiIGNvbnZlcnNpb25SYXRlICIrYyl9ZWxzZSBpZihvIGluIEQuY29udmVyc2lvbnMpe2lmKCEoZSBpbihyPUQuY29udmVyc2lvbnNbb10pKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBmcm9tQ3VycmVuY3kgJyIrZSsiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTtjPVUoMS9yW2VdLHApLGQubG9nSW5mbygiZ2V0Q3VycmVuY3lDb252ZXJzaW9uIHVzaW5nIHJlY2lwcm9jYWwgIitlKyIgdG8gIitvKyIgY29udmVyc2lvblJhdGUgIitjKX1lbHNle3ZhciBpPU9iamVjdC5rZXlzKEQuY29udmVyc2lvbnMpWzBdO2lmKCEoZSBpbiBELmNvbnZlcnNpb25zW2ldKSl0aHJvdyBuZXcgRXJyb3IoIlNwZWNpZmllZCBmcm9tQ3VycmVuY3kgJyIrZSsiJyBub3QgZm91bmQgaW4gdGhlIGN1cnJlbmN5IHJhdGVzIGZpbGUiKTt2YXIgcz0xL0QuY29udmVyc2lvbnNbaV1bZV07aWYoIShvIGluIEQuY29udmVyc2lvbnNbaV0pKXRocm93IG5ldyBFcnJvcigiU3BlY2lmaWVkIGFkU2VydmVyQ3VycmVuY3kgaW4gY29uZmlnICciK28rIicgbm90IGZvdW5kIGluIHRoZSBjdXJyZW5jeSByYXRlcyBmaWxlIik7Yz1VKHMqRC5jb252ZXJzaW9uc1tpXVtvXSxwKTtkLmxvZ0luZm8oImdldEN1cnJlbmN5Q29udmVyc2lvbiB1c2luZyBpbnRlcm1lZGlhdGUgIitlKyIgdGhydSAiK2krIiB0byAiK28rIiBjb252ZXJzaW9uUmF0ZSAiK2MpfXJldHVybiB0IGluIGh8fChkLmxvZ01lc3NhZ2UoIkFkZGluZyBjb252ZXJzaW9uQ2FjaGUgdmFsdWUgIitjKyIgZm9yICIrdCksaFt0XT1jKSxjfWZ1bmN0aW9uIFUoZSxuKXtmb3IodmFyIHI9MSxvPTA7bzxuO28rKylyKz0iMCI7cmV0dXJuIE1hdGgucm91bmQoZSpyKS9yfW8uYi5nZXRDb25maWcoImN1cnJlbmN5IixmdW5jdGlvbihlKXtyZXR1cm4gYyhlLmN1cnJlbmN5KX0pfX0sWzM4M10pOwp1cGJqc0NodW5rKFsyNjldLHszOTk6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDQwMCl9LDQwMDpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwiRGlzdHJpY3RtRG14QWRhcHRlciIsZnVuY3Rpb24oKXtyZXR1cm4gY30pLHQubWF0Y2hSZXF1ZXN0PWYsdC5jaGVja0RlZXBBcnJheT1sLHQuZGVmYXVsdFNpemU9cDt2YXIgYT1yKDApLG49cigxKSx1PXIoMyk7ZnVuY3Rpb24gaShlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFN5bWJvbHx8IShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKSlyZXR1cm47dmFyIHI9W10sbj0hMCxpPSExLGE9dm9pZCAwO3RyeXtmb3IodmFyIHUsbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KHU9by5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKHUudmFsdWUpLCF0fHxyLmxlbmd0aCE9PXQpO249ITApO31jYXRjaChlKXtpPSEwLGE9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgYX19cmV0dXJuIHJ9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbyhlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gbyhlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIHMoZSx0KXtmb3IodmFyIHI9MDtyPHQubGVuZ3RoO3IrKyl7dmFyIG49dFtyXTtuLmVudW1lcmFibGU9bi5lbnVtZXJhYmxlfHwhMSxuLmNvbmZpZ3VyYWJsZT0hMCwidmFsdWUiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4ua2V5LG4pfX12YXIgZD0iZGlzdHJpY3RtRE1YIixjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpeyFmdW5jdGlvbihlLHQpe2lmKCEoZSBpbnN0YW5jZW9mIHQpKXRocm93IG5ldyBUeXBlRXJyb3IoIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbiIpfSh0aGlzLGUpLHRoaXMuY29kZT1kLHRoaXMuc3VwcG9ydGVkRm9ybWF0PVsiYmFubmVyIl19dmFyIHQscixuO3JldHVybiB0PWUsKHI9W3trZXk6ImlzQmlkUmVxdWVzdFZhbGlkIix2YWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4hKCFlLnBhcmFtcy5kbXhpZHx8IWUucGFyYW1zLm1lbWJlcmlkKX19LHtrZXk6ImludGVycHJldFJlc3BvbnNlIix2YWx1ZTpmdW5jdGlvbihlLGEpe3JldHVybihlPWUuYm9keXx8e30pLnNlYXRiaWQmJkFycmF5LmlzQXJyYXkoZS5zZWF0YmlkKT9lLnNlYXRiaWQucmVkdWNlKGZ1bmN0aW9uKGUsdCl7dmFyIHI9dC5iaWQucmVkdWNlKGZ1bmN0aW9uKGUsdCl7aWYoZS5wcmljZTx0LnByaWNlKXt2YXIgcj1wKGYodC5pbXBpZCxhKSksbj1yLndpZHRoLGk9ci5oZWlnaHQ7cmV0dXJuIHQuY3BtPXQucHJpY2UsdC5iaWRJZD10LmltcGlkLHQucmVxdWVzdElkPXQuaW1waWQsdC53aWR0aD10Lnd8fG4sdC5oZWlnaHQ9dC5ofHxpLHQuYWQ9dC5hZG0sdC5uZXRSZXZlbnVlPSEwLHQuY3JlYXRpdmVJZD10LmNyaWQsdC5jdXJyZW5jeT0iVVNEIix0LnR0bD02MCx0fXJldHVybiBlLmNwbT1lLnByaWNlLGV9LHtwcmljZTowfSk7cmV0dXJuIHIuYWRtJiZlLnB1c2gociksZX0sW10pLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hIWUuYmlkSWR9KTpbXX19LHtrZXk6ImJ1aWxkUmVxdWVzdHMiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dmFyIHI9dS5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpLG49e2lkOmEuZ2VuZXJhdGVVVUlEKCksY3VyOlsiVVNEIl0sdG1heDpyLTMwMCx0ZXN0OnRoaXMudGVzdCgpfHwwLHNpdGU6e3B1Ymxpc2hlcjp7aWQ6U3RyaW5nKGVbMF0ucGFyYW1zLm1lbWJlcmlkKXx8bnVsbH19fTtuLnRlc3R8fGRlbGV0ZSBuLnRlc3QsdC5nZHByQ29uc2VudCYmKG4ucmVncz17fSxuLnJlZ3MuZXh0PXt9LG4ucmVncy5leHQuZ2Rwcj0hMD09PXQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowLG4ucmVncy5leHQuZ2RwciYmKG4ucmVncy5leHQuY29uc2VudD10LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKTt2YXIgaT1lLm1hcChmdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gdC5pZD1lLmJpZElkLHQudGFnaWQ9U3RyaW5nKGUucGFyYW1zLmRteGlkKSx0LnNlY3VyZT0iaHR0cHM6Ij09PXdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbD8xOjAsdC5iYW5uZXI9e3RvcGZyYW1lOjEsdzplLnNpemVzWzBdWzBdfHwwLGg6ZS5zaXplc1swXVsxXXx8MCxmb3JtYXQ6ZS5zaXplcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSl9LHR9KTtyZXR1cm4gbi5pbXA9aSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vZG14LmRpc3RyaWN0bS5pby9iL3YxIixkYXRhOkpTT04uc3RyaW5naWZ5KG4pLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi9qc29uIix3aXRoQ3JlZGVudGlhbHM6ITB9LGJpZGRlclJlcXVlc3Q6dH19fSx7a2V5OiJ0ZXN0Iix2YWx1ZTpmdW5jdGlvbigpe3JldHVybi0xIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiZG1UZXN0PXRydWUiKT8xOjB9fSx7a2V5OiJnZXRVc2VyU3luY3MiLHZhbHVlOmZ1bmN0aW9uKGUpe2lmKGUuaWZyYW1lRW5hYmxlZClyZXR1cm5be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2Nkbi5kaXN0cmljdG0uaW8vaWRzL2luZGV4Lmh0bWwifV19fV0pJiZzKHQucHJvdG90eXBlLHIpLG4mJnModCxuKSxlfSgpO2Z1bmN0aW9uIGYodCxlKXtyZXR1cm4gaShlLmJpZGRlclJlcXVlc3QuYmlkcy5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUuYmlkSWQ9PT10fSksMSlbMF19ZnVuY3Rpb24gbChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmQXJyYXkuaXNBcnJheShlWzBdKT9lWzBdOmV9ZnVuY3Rpb24gcChlKXt2YXIgdD1lLnNpemVzLHI9e307cmV0dXJuIHIud2lkdGg9bCh0KVswXSxyLmhlaWdodD1sKHQpWzFdLHJ9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKG5ldyBjKX19LFszOTldKTsKdXBianNDaHVuayhbMjYyXSx7NDEzOmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg0MTQpfSw0MTQ6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsImVteEFkYXB0ZXIiLGZ1bmN0aW9uKCl7cmV0dXJuIG19KSx0LmQociwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gdn0pO3ZhciBzPXQoMCksaT10KDEpLG89dCgyKSxuPXQoMTEpLGE9dCgxMiksZD10Lm4oYSksdT10KDEwKSxwPXQubih1KTtmdW5jdGlvbiBjKCl7cmV0dXJuKGM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgaSBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGkpJiYoZVtpXT10W2ldKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgbD0iZW14X2RpZ2l0YWwiLGc9Imh0dHBzOi8vanMuYnJlYWx0aW1lLmNvbS9vdXRzdHJlYW0vMS4zMC4wL2J1bmRsZS5qcyIsbT17dmFsaWRhdGVTaXplczpmdW5jdGlvbihlKXtyZXR1cm4gcy5pc0FycmF5KGUpJiZ2b2lkIDAhPT1lWzBdP2UuZXZlcnkoZnVuY3Rpb24oZSl7cmV0dXJuIHMuaXNBcnJheShlKSYmMj09PWUubGVuZ3RofSk6KHMubG9nV2FybihsKyI6IFNpemVzIHNob3VsZCBiZSBhbiBhcnJheSIpLCExKX0sY2hlY2tWaWRlb0NvbnRleHQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvJiZlLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCYmKCJpbnN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dHx8Im91dHN0cmVhbSI9PT1lLm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCl9LGJ1aWxkQmFubmVyOmZ1bmN0aW9uKGUpe3ZhciByPVtdLHI9ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2UubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6ZS5zaXplcztyZXR1cm4gbS52YWxpZGF0ZVNpemVzKHIpfHwocy5sb2dXYXJuKGwrIjogY291bGQgbm90IGRldGVjdCBtZWRpYVR5cGUgYmFubmVyIHNpemVzLiBBc3NpZ25pbmcgdG8gYmlkIHNpemVzIGluc3RlYWQiKSxyPWUuc2l6ZXMpLHtmb3JtYXQ6ci5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSksdzpyWzBdWzBdLGg6clswXVsxXX19LGZvcm1hdFZpZGVvUmVzcG9uc2U6ZnVuY3Rpb24ocixlLHQpe3JldHVybiByLnZhc3RYbWw9ZS5hZG0sdC5iaWRkZXJSZXF1ZXN0JiZ0LmJpZGRlclJlcXVlc3QuYmlkcyYmMDx0LmJpZGRlclJlcXVlc3QuYmlkcy5sZW5ndGgmJnAoKSh0LmJpZGRlclJlcXVlc3QuYmlkcyxmdW5jdGlvbihlKXtyZXR1cm4gci5yZXF1ZXN0SWQmJmUuYmlkSWQmJnIucmVxdWVzdElkPT09ZS5iaWRJZCYmZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMudmlkZW8mJiJvdXRzdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR9KSYmKHIucmVuZGVyZXI9bS5jcmVhdGVSZW5kZXJlcihyLHtpZDplLmlkLHVybDpnfSkpLHJ9LGlzTW9iaWxlOmZ1bmN0aW9uKCl7cmV0dXJuLyhpb3N8aXBvZHxpcGFkfGlwaG9uZXxhbmRyb2lkKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCl9LGlzQ29ubmVjdGVkVFY6ZnVuY3Rpb24oKXtyZXR1cm4vKHNtYXJ0Wy1dP3R2fGhiYnR2fGFwcGxldHZ8Z29vZ2xldHZ8aGRtaXxuZXRjYXN0XC50dnx2aWVyYXxuZXR0dnxyb2t1fFxiZHR2XGJ8c29ueWR0dnxpbmV0dHZicm93c2VyfFxidHZcYikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfSxnZXREZXZpY2U6ZnVuY3Rpb24oKXtyZXR1cm57dWE6bmF2aWdhdG9yLnVzZXJBZ2VudCxqczoxLGRudDoieWVzIj09PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PT1uYXZpZ2F0b3IuZG9Ob3RUcmFja3x8IjEiPT09bmF2aWdhdG9yLm1zRG9Ob3RUcmFjaz8xOjAsaDpzY3JlZW4uaGVpZ2h0LHc6c2NyZWVuLndpZHRoLGRldmljZXR5cGU6bS5pc01vYmlsZSgpPzE6bS5pc0Nvbm5lY3RlZFRWKCk/MzoyLGxhbmd1YWdlOm5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlfX0sY2xlYW5Qcm90b2NvbHM6ZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJvdG9jb2xzJiZkKCkoZS5wcm90b2NvbHMsNykmJihzLmxvZ1dhcm4obCsiOiBWQVNUIDQuMCBpcyBjdXJyZW50bHkgbm90IHN1cHBvcnRlZC4gVGhpcyBwcm90b2NvbCBoYXMgYmVlbiBmaWx0ZXJlZCBvdXQgb2YgdGhlIHJlcXVlc3QuIiksZS5wcm90b2NvbHM9ZS5wcm90b2NvbHMuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiA3IT09ZX0pKSxlfSxvdXRzdHJlYW1SZW5kZXI6ZnVuY3Rpb24ocil7ci5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7dmFyIGU9ciYmci5wYXJhbXMmJnIucGFyYW1zWzBdJiZyLnBhcmFtc1swXS52aWRlbz9yLnBhcmFtc1swXS52aWRlbzp7fTt3aW5kb3cuZW14VmlkZW9RdWV1ZT13aW5kb3cuZW14VmlkZW9RdWV1ZXx8W10sd2luZG93LnF1ZXVlRW14VmlkZW8oe2lkOnIuYWRVbml0Q29kZSxhZHNSZXNwb25zZXM6ci52YXN0WG1sLG9wdGlvbnM6ZX0pLHdpbmRvdy5lbXhWaWRlb1JlYWR5JiZ3aW5kb3cudmlkZW9qcyYmd2luZG93LmVteFZpZGVvUmVhZHkoKX0pfSxjcmVhdGVSZW5kZXJlcjpmdW5jdGlvbihlLHIpe3ZhciB0PW4uYS5pbnN0YWxsKHtpZDpyLmlkLHVybDpnLGxvYWRlZDohMX0pO3RyeXt0LnNldFJlbmRlcihtLm91dHN0cmVhbVJlbmRlcil9Y2F0Y2goZSl7cy5sb2dXYXJuKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiB0fSxidWlsZFZpZGVvOmZ1bmN0aW9uKGUpe3ZhciByPWMoZS5tZWRpYVR5cGVzLnZpZGVvLGUucGFyYW1zLnZpZGVvKTtyZXR1cm4gcy5pc0FycmF5KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKT8oci53PWUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdWzBdLHIuaD1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVsxXSk6KHIudz1lLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXSxyLmg9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMV0pLG0uY2xlYW5Qcm90b2NvbHMocil9LHBhcnNlUmVzcG9uc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBkZWNvZGVVUklDb21wb25lbnQoZS5yZXBsYWNlKC8lKD8hWzAtOV1bMC05YS1mQS1GXSspL2csIiUyNSIpKX1jYXRjaChlKXtzLmxvZ0Vycm9yKCJlbXhfZGlnaXRhbEJpZEFkYXB0ZXIiLCJlcnJvciIsZSl9fSxnZXRSZWZlcnJlcjpmdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fSxnZXRTaXRlOmZ1bmN0aW9uKGUpe3JldHVybntkb21haW46cy5wYXJzZVVybChlLnJlZmVyZXIpLmhvc3RuYW1lLHBhZ2U6ZS5yZWZlcmVyLHJlZjptLmdldFJlZmVycmVyKCl9fSxnZXRHZHByOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUuZ2RwckNvbnNlbnQmJihyLnJlZ3M9e2V4dDp7Z2RwcjohMD09PWUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXM/MTowfX0pLGUuZ2RwckNvbnNlbnQmJmUuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihyLnVzZXI9e2V4dDp7Y29uc2VudDplLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmd9fSkscn0sZ2V0U3VwcGx5Q2hhaW46ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZS5zY2hhaW4mJihyLnNvdXJjZT17ZXh0OntzY2hhaW46ZS5zY2hhaW59fSkscn19LHY9e2NvZGU6bCxndmxpZDoxODMsc3VwcG9ydGVkTWVkaWFUeXBlczpbby5iLG8uZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnBhcmFtcylyZXR1cm4gcy5sb2dXYXJuKGwrIjogTWlzc2luZyBiaWQgb3IgYmlkIHBhcmFtcy4iKSwhMTtpZihlLmJpZGRlciE9PWwpcmV0dXJuIHMubG9nV2FybihsKyc6IE11c3QgdXNlICJlbXhfZGlnaXRhbCIgYXMgYmlkZGVyIGNvZGUuJyksITE7aWYoIWUucGFyYW1zLnRhZ2lkfHwhcy5pc1N0cihlLnBhcmFtcy50YWdpZCkpcmV0dXJuIHMubG9nV2FybihsKyI6IE1pc3NpbmcgdGFnaWQgcGFyYW0gb3IgdGFnaWQgcHJlc2VudCBhbmQgbm90IHR5cGUgU3RyaW5nLiIpLCExO2lmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lcil7dmFyIHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcz9lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzOmUuc2l6ZXM7aWYoIW0udmFsaWRhdGVTaXplcyhyKSlyZXR1cm4gcy5sb2dXYXJuKGwrIjogTWlzc2luZyBzaXplcyBpbiBiaWQiKSwhMX1lbHNlIGlmKGUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLnZpZGVvKXtpZighbS5jaGVja1ZpZGVvQ29udGV4dChlKSlyZXR1cm4gcy5sb2dXYXJuKGwrIjogTWlzc2luZyB2aWRlbyBjb250ZXh0OiBpbnN0cmVhbSBvciBvdXRzdHJlYW0iKSwhMTtpZighZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUpcmV0dXJuIHMubG9nV2FybihsKyI6IE1pc3NpbmcgdmlkZW8gcGxheWVyU2l6ZSIpLCExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIGE9W10sdD0iaHR0cHM6Ly9oYi5lbXhkZ3QuY29tP3Q9Iisoci50aW1lb3V0fHwiIikrIiZ0cz0iK0RhdGUubm93KCkrIiZzcmM9cGJqcyIsbz0tMTxsb2NhdGlvbi5wcm90b2NvbC5pbmRleE9mKCJodHRwcyIpPzE6MCxpPW0uZ2V0RGV2aWNlKCksbj1tLmdldFNpdGUoci5yZWZlcmVySW5mbyk7cy5fZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciByPXMuZ2V0QmlkSWRQYXJhbWV0ZXIoInRhZ2lkIixlLnBhcmFtcyksdD1wYXJzZUZsb2F0KHMuZ2V0QmlkSWRQYXJhbWV0ZXIoImJpZGZsb29yIixlLnBhcmFtcykpfHwwLGk9ISFlLm1lZGlhVHlwZXMudmlkZW8sbj1jKHtpZDplLmJpZElkLHRpZDplLnRyYW5zYWN0aW9uSWQsdGFnaWQ6cixzZWN1cmU6b30saT97dmlkZW86bS5idWlsZFZpZGVvKGUpfTp7YmFubmVyOm0uYnVpbGRCYW5uZXIoZSl9LDA8dD97YmlkZmxvb3I6dCxiaWRmbG9vcmN1cjoiVVNEIn06e30pO2EucHVzaChuKX0pO3ZhciBkPXtpZDpyLmF1Y3Rpb25JZCxpbXA6YSxkZXZpY2U6aSxzaXRlOm4sY3VyOiJVU0QiLHZlcnNpb246IjEuNS4xIn0sZD1tLmdldEdkcHIocixjKHt9LGQpKTtyZXR1cm4gZD1tLmdldFN1cHBseUNoYWluKHIsYyh7fSxkKSksciYmci51c3BDb25zZW50JiYoZC51c19wcml2YWN5PXIudXNwQ29uc2VudCkse21ldGhvZDoiUE9TVCIsdXJsOnQsZGF0YTpKU09OLnN0cmluZ2lmeShkKSxvcHRpb25zOnt3aXRoQ3JlZGVudGlhbHM6ITB9LGJpZGRlclJlcXVlc3Q6cn19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsbil7dmFyIGE9W10scj1lLmJvZHl8fHt9O3JldHVybiByLnNlYXRiaWQmJjA8ci5zZWF0YmlkLmxlbmd0aCYmci5zZWF0YmlkWzBdLmJpZCYmci5zZWF0YmlkLmZvckVhY2goZnVuY3Rpb24oZSl7ZT1lLmJpZFswXTt2YXIgcj0hMSx0PW0ucGFyc2VSZXNwb25zZShlLmFkbSl8fCIiLGk9e3JlcXVlc3RJZDplLmlkLGNwbTplLnByaWNlLHdpZHRoOmUudyxoZWlnaHQ6ZS5oLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLHR0bDplLnR0bCxhZDp0fTtlLmFkbSYmLTE8ZS5hZG0uaW5kZXhPZigiPD94bWwgdmVyc2lvbj0iKSYmKHI9ITAsaT1tLmZvcm1hdFZpZGVvUmVzcG9uc2UoaSxjKHt9LGUpLG4pKSxpLm1lZGlhVHlwZT1yP28uZDpvLmIsYS5wdXNoKGkpfSksYX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0KXt2YXIgaSxuPVtdO3JldHVybiBlLmlmcmFtZUVuYWJsZWQmJihpPSJodHRwczovL2JpZGRyLmJyZWFsdGltZS5jb20vY2hlY2suaHRtbCIsdCYmInN0cmluZyI9PXR5cGVvZiB0LmNvbnNlbnRTdHJpbmcmJigiYm9vbGVhbiI9PXR5cGVvZiB0LmdkcHJBcHBsaWVzP2krPSI/Z2Rwcj0iLmNvbmNhdChOdW1iZXIodC5nZHByQXBwbGllcyksIiZnZHByX2NvbnNlbnQ9IikuY29uY2F0KHQuY29uc2VudFN0cmluZyk6aSs9Ij9nZHByX2NvbnNlbnQ9Ii5jb25jYXQodC5jb25zZW50U3RyaW5nKSksbi5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDppfSkpLG59fTtPYmplY3QoaS5yZWdpc3RlckJpZGRlcikodil9fSxbNDEzXSk7CnVwYmpzQ2h1bmsoWzI0MF0sezQ2MTpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNDYyKX0sNDYyOmZ1bmN0aW9uKGUsdSxkKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHUsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGZ1bmN0aW9uKEope2QuZCh1LCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBjfSk7dmFyICQ9ZCgwKSxBPWQoMiksbj1kKDMpLGU9ZCg3KSx0PWQoMTIpLFI9ZC5uKHQpLHI9ZCgxKTtmdW5jdGlvbiBIKCl7cmV0dXJuKEg9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIG49YXJndW1lbnRzW3RdO2Zvcih2YXIgciBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLHIpJiYoZVtyXT1uW3JdKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX1mdW5jdGlvbiBhKHQsZSl7dmFyIG4scj1PYmplY3Qua2V5cyh0KTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmKG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0KSxlJiYobj1uLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LGUpLmVudW1lcmFibGV9KSksci5wdXNoLmFwcGx5KHIsbikpLHJ9ZnVuY3Rpb24gWChpKXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9hKE9iamVjdChvKSwhMCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgdCxuLHI7dD1pLHI9b1tuPWVdLG4gaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yfSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6YShPYmplY3QobykpLmZvckVhY2goZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sZSkpfSl9cmV0dXJuIGl9ZnVuY3Rpb24gSyhlKXtyZXR1cm4oSz0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfWZ1bmN0aW9uIEwoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBTeW1ib2x8fCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSkpcmV0dXJuO3ZhciBuPVtdLHI9ITAsaT0hMSxvPXZvaWQgMDt0cnl7Zm9yKHZhciBhLGM9ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShyPShhPWMubmV4dCgpKS5kb25lKSYmKG4ucHVzaChhLnZhbHVlKSwhdHx8bi5sZW5ndGghPT10KTtyPSEwKTt9Y2F0Y2goZSl7aT0hMCxvPWV9ZmluYWxseXt0cnl7cnx8bnVsbD09Yy5yZXR1cm58fGMucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IG99fXJldHVybiBufShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGkoZSx0KTt2YXIgbj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1uJiZlLmNvbnN0cnVjdG9yJiYobj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09bnx8IlNldCI9PT1uKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09bnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpcmV0dXJuIGkoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGkoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxyPW5ldyBBcnJheSh0KTtuPHQ7bisrKXJbbl09ZVtuXTtyZXR1cm4gcn12YXIgUT1PYmplY3QoZS5iKSgpLFk9e3Q6MCxycTo4LHBidjoiNC4xNy4wIn0sbz1bQS5iLEEuZF0sVT17fSxaPXt9LGVlPW51bGw7dmFyIGM9e2NvZGU6Imd1bWd1bSIsYWxpYXNlczpbImdnIl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5wYXJhbXMsbj1lLmFkVW5pdENvZGUscj10LmluU2NyZWVufHx0LmluU2NyZWVuUHViSUR8fHQuaW5TbG90fHx0LklDVnx8dC52aWRlb3x8dC5pblZpZGVvfHx0LnNsb3R8fHQubmF0aXZlfHx0LnpvbmV8fHQucHViSUQ7aWYoVVtyXSlyZXR1cm4gJC5sb2dXYXJuKCJbR3VtR3VtXSBQbGVhc2UgY2hlY2sgdGhlIGltcGxlbWVudGF0aW9uIGZvciAiLmNvbmNhdChyLCIgZm9yIHRoZSBwbGFjZW1lbnQgIikuY29uY2F0KG4pKSwhMTtzd2l0Y2goITApe2Nhc2UhIXQuem9uZTpjYXNlISF0LnB1YklkOmNhc2UhIXQuaW5TY3JlZW46Y2FzZSEhdC5pblNjcmVlblB1YklEOmNhc2UhIXQuaW5TbG90OmNhc2UhIXQuSUNWOmNhc2UhIXQudmlkZW86Y2FzZSEhdC5pblZpZGVvOmNhc2UhIXQudmlkZW9QdWJJRDpicmVhaztkZWZhdWx0OnJldHVybiAkLmxvZ1dhcm4oIltHdW1HdW1dIE5vIHByb2R1Y3Qgc2VsZWN0ZWQgZm9yIHRoZSBwbGFjZW1lbnQgIi5jb25jYXQobiwiLCBwbGVhc2UgY2hlY2sgeW91ciBpbXBsZW1lbnRhdGlvbi4iKSksITF9cmV0dXJuISh0LmJpZGZsb29yJiYoIm51bWJlciIhPXR5cGVvZiB0LmJpZGZsb29yfHwhaXNGaW5pdGUodC5iaWRmbG9vcikpKXx8KCQubG9nV2FybigiW0d1bUd1bV0gYmlkZmxvb3IgbXVzdCBiZSBhIE51bWJlciIpLCExKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciBCPVtdLEY9dCYmdC5nZHByQ29uc2VudCxNPXQmJnQudXNwQ29uc2VudCxXPW4uYi5nZXRDb25maWcoImJpZGRlclRpbWVvdXQiKSxfPXQmJnQucmVmZXJlckluZm8mJnQucmVmZXJlckluZm8ucmVmZXJlcjtyZXR1cm4gJC5fZWFjaChlLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8sYSxjLHUsZCxwLHMsbCxmLG0sYix5LHYsZyxoLEksUyx3LE8saixQLHgsQyxEPWUuYmlkSWQsej1lLm1lZGlhVHlwZXMsaz12b2lkIDA9PT16P3t9OnosQT1lLnBhcmFtcyxSPXZvaWQgMD09PUE/e306QSxVPWUuc2NoYWluLE49ZS50cmFuc2FjdGlvbklkLFQ9ZS51c2VySWQsRz12b2lkIDA9PT1UP3t9OlQsVj0odD1rLG49Ui5iaWRmbG9vcixyPWUsbz1PYmplY3Qua2V5cyh0KVswXXx8ImJhbm5lciIsYT1ufHwwLCJmdW5jdGlvbiI9PXR5cGVvZiByLmdldEZsb29yJiYoIm9iamVjdCIhPT1LKGk9ci5nZXRGbG9vcih7Y3VycmVuY3k6IlVTRCIsbWVkaWFUeXBlOm8sc2l6ZToiKiJ9KSl8fCJVU0QiIT09aS5jdXJyZW5jeXx8aXNOYU4ocGFyc2VGbG9hdChpLmZsb29yKSl8fChhPU1hdGgubWF4KGEscGFyc2VGbG9hdChpLmZsb29yKSkpKSxhKSxFPVsxLDFdLHE9e307ay5iYW5uZXI/RT1rLmJhbm5lci5zaXplczprLnZpZGVvJiYoRT1rLnZpZGVvLnBsYXllclNpemUsYz1rLnZpZGVvLHU9Yy5taW5kdXJhdGlvbixkPWMubWF4ZHVyYXRpb24scD1jLmxpbmVhcml0eSxzPWMuc3RhcnRkZWxheSxsPWMucGxhY2VtZW50LGY9Yy5wcm90b2NvbHMsbT12b2lkIDA9PT1mP1tdOmYsYj1jLnBsYXllclNpemUseT12b2lkIDA9PT1iP1tdOmIsdj0kLnBhcnNlU2l6ZXNJbnB1dCh5KSxnPUwodlswXSYmdlswXS5zcGxpdCgieCIpLDIpLGg9Z1swXSxJPWdbMV0sUz0iIixtLmxlbmd0aCYmKFM9bS5qb2luKCIsIikpLHE9e21pbmQ6dSxtYXhkOmQsbGk6cCxzZDpzLHB0OmwscHI6Uyx2aXc6aCx2aWg6SX0pLGVlJiYocS5wdj1lZSksViYmKHEuZnA9ViksUi5pcmlzY2F0JiYic3RyaW5nIj09dHlwZW9mIFIuaXJpc2NhdCYmKHEuaXJpc2NhdD1SLmlyaXNjYXQpLFIuem9uZT8ocS50PVIuem9uZSxxLnBpPTIsUi5zbG90PyhxLnNpPXBhcnNlSW50KFIuc2xvdCwxMCkscS5waT0zLHEuYmY9RS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4iIi5jb25jYXQoZSkuY29uY2F0KGUmJiIsIikuY29uY2F0KHRbMF0sIngiKS5jb25jYXQodFsxXSl9LCIiKSk6Ui5uYXRpdmU/KHEubmk9cGFyc2VJbnQoUi5uYXRpdmUsMTApLHEucGk9NSk6ay52aWRlbyYmKHEucGk9MT09PWsudmlkZW8ubGluZWFyaXR5Pzc6NikpOlIucHViSWQ/KHEucHViSWQ9Ui5wdWJJZCxxLnBpPWsudmlkZW8/NzoyKTpxPVgoWCh7fSxxKSxmdW5jdGlvbihlLHQpe3ZhciBuPXt9O2UuaW5TY3JlZW5QdWJJRCYmKG4ucHViSWQ9ZS5pblNjcmVlblB1YklELG4ucGk9Mik7ZS5pblNjcmVlbiYmKG4udD1lLmluU2NyZWVuLG4ucGk9Mik7ZS5pblNsb3QmJihuLnNpPXBhcnNlSW50KGUuaW5TbG90LDEwKSxuLnBpPTMsbi5iZj10LnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiIiLmNvbmNhdChlKS5jb25jYXQoZSYmIiwiKS5jb25jYXQodFswXSwieCIpLmNvbmNhdCh0WzFdKX0sIiIpKTtlLklDViYmKG4ubmk9cGFyc2VJbnQoZS5JQ1YsMTApLG4ucGk9NSk7ZS52aWRlb1B1YklEJiYobi5wdWJJZD1lLnZpZGVvUHViSUQsbi5waT03KTtlLnZpZGVvJiYobi50PWUudmlkZW8sbi5waT03KTtlLmluVmlkZW8mJihuLnQ9ZS5pblZpZGVvLG4ucGk9Nik7cmV0dXJuIG59KFIsRSkpLEYmJihxLmdkcHJBcHBsaWVzPUYuZ2RwckFwcGxpZXM/MTowKSxxLmdkcHJBcHBsaWVzJiYocS5nZHByQ29uc2VudD1GLmNvbnNlbnRTdHJpbmcpLE0mJihxLnVzcENvbnNlbnQ9TSksVSYmVS5ub2RlcyYmKHEuc2NoYWluPShPPSIiLmNvbmNhdCgodz1VKS52ZXIsIiwiKS5jb25jYXQody5jb21wbGV0ZSksdy5ub2Rlcy5tYXAoZnVuY3Rpb24oZSl7Tys9IiEiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5hc2l8fCIiKSwiLCIpLE8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5zaWR8fCIiKSwiLCIpLE8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5ocHx8IiIpLCIsIiksTys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLnJpZHx8IiIpLCIsIiksTys9IiIuY29uY2F0KGVuY29kZVVSSUNvbXBvbmVudChlLm5hbWV8fCIiKSwiLCIpLE8rPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoZS5kb21haW58fCIiKSl9KSxPKSksQi5wdXNoKHtpZDpELHRtYXg6Vyx0SWQ6TixwaTpxLnBpLHNlbGVjdG9yOlIuc2VsZWN0b3Isc2l6ZXM6RSx1cmw6Imh0dHBzOi8vZzIuZ3VtZ3VtLmNvbS9oYmlkL2ltcCIsbWV0aG9kOiJHRVQiLGRhdGE6SChxLGZ1bmN0aW9uKGUpe3ZhciB0LG4scixpLG8sYSxjLHU7aWYoWi52dylyZXR1cm4gWjt0cnl7bj0odD1KLnRvcCkuc2NyZWVuLHI9ZXx8IiJ9Y2F0Y2goZSl7cmV0dXJuICQubG9nRXJyb3IoZSksWn1yZXR1cm4gWj17dnc6dC5pbm5lcldpZHRoLHZoOnQuaW5uZXJIZWlnaHQsc3c6bi53aWR0aCxzaDpuLmhlaWdodCxwdTpyLGNlOlEuY29va2llc0FyZUVuYWJsZWQoKSxkcHI6dC5kZXZpY2VQaXhlbFJhdGlvfHwxLGpjc2k6SlNPTi5zdHJpbmdpZnkoWSksb2d1OihhPShkb2N1bWVudCYmZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSkucXVlcnlTZWxlY3RvcigibWV0YVtwcm9wZXJ0eT0nb2c6dXJsJ10iKSk/YS5jb250ZW50Om51bGx9LGM9d2luZG93Lm5hdmlnYXRvciYmKHdpbmRvdy5uYXZpZ2F0b3IuY29ubmVjdGlvbnx8d2luZG93Lm5hdmlnYXRvci5tb3pDb25uZWN0aW9ufHx3aW5kb3cubmF2aWdhdG9yLndlYmtpdENvbm5lY3Rpb24pLChvPSh1PWMmJihjLmRvd25saW5rfHxjLmJhbmR3aWR0aCkpP01hdGgucm91bmQoMTAyNCp1KTpudWxsKSYmKFoubnM9byksKGk9KHIubWF0Y2goLyNnZ2FkPShcdyspJC8pfHxbMCwwXSlbMV0pJiYoWltpc05hTihpKT8iZUFkQnV5SWQiOiJhZEJ1eUlkIl09aSksWn0oXyksIShDPSh4PUcpLmRpZ2l0cnVzdGlkJiZ4LmRpZ2l0cnVzdGlkLmRhdGEpfHxDLnByaXZhY3kmJkMucHJpdmFjeS5vcHRvdXQ/e306e2R0OkMuaWR9LChQPXt9LChqPUcpLnRkaWQmJihQLnRkaWQ9ai50ZGlkKSxQKSl9KX0pLEJ9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLG89W10sYT1lLmJvZHk7YSYmIWEuZXJyfHwobj10LmRhdGF8fHt9LHI9bi5zaXx8bi5uaXx8bi50fHxuLnB1YklkLGk9YT9hLmVyci5kcnQ6MThlNSxVW3JdPXtwcm9kdWN0SWQ6bi5waSx0aW1lc3RhbXA6KG5ldyBEYXRlKS5nZXRUaW1lKCl9LHNldFRpbWVvdXQoZnVuY3Rpb24oKXtVW3JdJiZkZWxldGUgVVtyXX0saSksJC5sb2dXYXJuKCJbR3VtR3VtXSBQbGVhc2UgY2hlY2sgdGhlIGltcGxlbWVudGF0aW9uIGZvciAiLmNvbmNhdChyKSkpO3ZhciBjLHUsZCxwLHMsbCxmLG0sYj1IKHthZDp7cHJpY2U6MCxpZDowLG1hcmt1cDoiIn0scGFnOntwdmlkOjB9fSxhKSx5PWIuYWQsdj15LnByaWNlLGc9eS5pZCxoPXkubWFya3VwLEk9eS5jdXIsUz1iLmN3LHc9Yi5wYWcucHZpZCxPPWIuamNzaSxqPXQuZGF0YXx8e30sUD1qLnBpLHg9Mz09PVAmJjk9PT1qLnNpLEM9JC5wYXJzZVNpemVzSW5wdXQodC5zaXplcyksRD1MKENbMF0uc3BsaXQoIngiKSwyKSx6PURbMF0saz1EWzFdO3RyeXthJiZhLmFkJiZhLmFkLndpZHRoJiZhLmFkLmhlaWdodD8ocD1hLmFkLndpZHRoLnRvU3RyaW5nKCkscz1hLmFkLmhlaWdodC50b1N0cmluZygpKTpoJiYodT0oYz1oLnNwbGl0KCJcbiIpWzBdKS5tYXRjaCgvd2lkdGg6KFtecHhdKylweDsvKSxkPWMubWF0Y2goL2hlaWdodDooW15weF0rKXB4Oy8pLHA9dSYmdVsxXSxzPWQmJmRbMV0pLHAmJnMmJihsPXArIngiK3MsMDw9Qy5pbmRleE9mKGwpJiYoej1wLGs9cykpfWNhdGNoKGUpe31yZXR1cm4gMiE9PVAmJjUhPT1QfHwhUigpKEMsIjF4MSIpfHwoaz16PSIxIiksTyYmKGEuamNzaT1ZKSxlZT13LGcmJm8ucHVzaChYKFgoWCh7fSw3PT09UCYme3Zhc3RYbWw6aCxtZWRpYVR5cGU6QS5kfSkse30se2FkOlM/KGY9UyxtPUgoe30sYSx7YmlkUmVxdWVzdDp0fSksZi5yZXBsYWNlKCJBRF9KU09OIix3aW5kb3cuYnRvYShKU09OLnN0cmluZ2lmeShtKSkpKTpofSw2PT09UCYme2FkOmh9KSx7fSx7Y3JlYXRpdmU6aCxjcG06eD8uMTp2LGNyZWF0aXZlSWQ6ZyxjdXJyZW5jeTpJfHwiVVNEIixoZWlnaHQ6ayxuZXRSZXZlbnVlOiEwLHJlcXVlc3RJZDp0LmlkLHR0bDo2MCx3aWR0aDp6fSkpLG99LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQpe3JldHVybiB0Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ib2R5JiZlLmJvZHkucHhzJiZlLmJvZHkucHhzLnNjcnx8W119KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodCl9LFtdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3R5cGU6ImYiPT09ZS50PyJpZnJhbWUiOiJpbWFnZSIsdXJsOmUudX19KX0sc3VwcG9ydGVkTWVkaWFUeXBlczpvfTtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikoYyl9LmNhbGwodSxkKDM1KSl9fSxbNDYxXSk7CnVwYmpzQ2h1bmsoWzM4XSx7MjI6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtyLmE9ZnVuY3Rpb24oZSl7dmFyIHI9W107Zm9yKHZhciB0IGluIGUpe3ZhciBpO2UuaGFzT3duUHJvcGVydHkodCkmJigicHViUHJvdmlkZWRJZCI9PT10P3I9ci5jb25jYXQoZS5wdWJQcm92aWRlZElkKTooaT1mdW5jdGlvbihlLHIpe3ZhciB0PW9bcl07aWYodCYmZSl7dmFyIGk9e307aS5zb3VyY2U9dC5zb3VyY2U7dmFyIGE9Yy5pc0ZuKHQuZ2V0VmFsdWUpP3QuZ2V0VmFsdWUoZSk6ZTtpZihjLmlzU3RyKGEpKXt2YXIgbixzLGQ9e2lkOmEsYXR5cGU6dC5hdHlwZX07cmV0dXJuIWMuaXNGbih0LmdldFVpZEV4dCl8fChuPXQuZ2V0VWlkRXh0KGUpKSYmKGQuZXh0PW4pLGkudWlkcz1bZF0sIWMuaXNGbih0LmdldEVpZEV4dCl8fChzPXQuZ2V0RWlkRXh0KGUpKSYmKGkuZXh0PXMpLGl9fXJldHVybiBudWxsfShlW3RdLHQpKSYmci5wdXNoKGkpKX1yZXR1cm4gcn07dmFyIGM9dCgwKSxvPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHI9Yy5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gcn19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZToxfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjEsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjF9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LHNoYXJlZGlkOntzb3VyY2U6InNoYXJlZGlkLm9yZyIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnRoaXJkP3t0aGlyZDplLnRoaXJkfTp2b2lkIDB9fSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LHZtdWlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjF9fX0sNDg2OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg0ODcpfSw0ODc6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGF9KSxyLkltcHJvdmVEaWdpdGFsQWRTZXJ2ZXJKU0NsaWVudD11O3ZhciBoPXQoMCksaT10KDEpLG09dCgzKSxnPXQoMiksZD10KDExKSxjPXQoMjIpLGE9e3ZlcnNpb246IjcuMS4wIixjb2RlOiJpbXByb3ZlZGlnaXRhbCIsZ3ZsaWQ6MjUzLGFsaWFzZXM6WyJpZCJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2cuYixnLmMsZy5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hIShlJiZlLnBhcmFtcyYmKGUucGFyYW1zLnBsYWNlbWVudElkfHxlLnBhcmFtcy5wbGFjZW1lbnRLZXkmJmUucGFyYW1zLnB1Ymxpc2hlcklkKSl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdCxpPWUubWFwKGZ1bmN0aW9uKGUpe3ZhciByPWguZ2V0QmlkSWRQYXJhbWV0ZXIoImFkVW5pdENvZGUiLGUpfHxudWxsLHQ9aC5nZXRCaWRJZFBhcmFtZXRlcigicGxhY2VtZW50SWQiLGUucGFyYW1zKXx8bnVsbCxpPW51bGwsYT1udWxsO251bGw9PT10JiYoaT1oLmdldEJpZElkUGFyYW1ldGVyKCJwdWJsaXNoZXJJZCIsZS5wYXJhbXMpfHxudWxsLGE9aC5nZXRCaWRJZFBhcmFtZXRlcigicGxhY2VtZW50S2V5IixlLnBhcmFtcyl8fG51bGwpO3ZhciBuPWguZ2V0QmlkSWRQYXJhbWV0ZXIoImtleVZhbHVlcyIsZS5wYXJhbXMpfHxudWxsLHM9aC5nZXRCaWRJZFBhcmFtZXRlcigic2l6ZSIsZS5wYXJhbXMpfHxudWxsLGQ9aC5nZXRCaWRJZFBhcmFtZXRlcigiYmlkSWQiLGUpLGM9aC5nZXRCaWRJZFBhcmFtZXRlcigidHJhbnNhY3Rpb25JZCIsZSksbz1tLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5IiksdT1oLmdldEJpZElkUGFyYW1ldGVyKCJiaWRGbG9vciIsZS5wYXJhbXMpLHA9aC5nZXRCaWRJZFBhcmFtZXRlcigiYmlkRmxvb3JDdXIiLGUucGFyYW1zKSxsPXt9O3koZSkmJihsLmFkVHlwZXM9W2cuZF0pO3Q/bC5wbGFjZW1lbnRJZD10OihpJiYobC5wdWJsaXNoZXJJZD1pKSxhJiYobC5wbGFjZW1lbnRLZXk9YSkpO24mJihsLmtleVZhbHVlcz1uKTshMD09PW0uYi5nZXRDb25maWcoImltcHJvdmVkaWdpdGFsLnVzZVByZWJpZFNpemVzIikmJiF5KGUpJiYhYihlKSYmZS5zaXplcyYmMDxlLnNpemVzLmxlbmd0aD9sLmZvcm1hdD1lLnNpemVzOnMmJnMudyYmcy5oJiYobC5zaXplPXt9LGwuc2l6ZS5oPXMuaCxsLnNpemUudz1zLncpO2QmJihsLmlkPWQpO3ImJihsLmFkVW5pdElkPXIpO2MmJihsLnRyYW5zYWN0aW9uSWQ9Yyk7byYmKGwuY3VycmVuY3k9byk7dSYmKGwuYmlkRmxvb3I9dSxsLmJpZEZsb29yQ3VyPXA/cC50b1VwcGVyQ2FzZSgpOiJVU0QiKTtyZXR1cm4gbH0pLGE9bmV3IHUoImhiIiksbj17c2luZ2xlUmVxdWVzdE1vZGU6ITA9PT1tLmIuZ2V0Q29uZmlnKCJpbXByb3ZlZGlnaXRhbC5zaW5nbGVSZXF1ZXN0IikscmV0dXJuT2JqVHlwZTphLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuVVJMX1BBUkFNU19TUExJVCxsaWJWZXJzaW9uOnRoaXMudmVyc2lvbn07ciYmci5nZHByQ29uc2VudCYmci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYobi5nZHByPXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksciYmci51c3BDb25zZW50JiYobi51c1ByaXZhY3k9ci51c3BDb25zZW50KSxyJiZyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnJlZmVyZXImJihuLnJlZmVycmVyPXIucmVmZXJlckluZm8ucmVmZXJlciksbi5zY2hhaW49ZVswXS5zY2hhaW4sIWVbMF0udXNlcklkfHwodD1PYmplY3QoYy5hKShlWzBdLnVzZXJJZCkpLmxlbmd0aCYmaC5kZWVwU2V0VmFsdWUobiwidXNlci5leHQuZWlkcyIsdCk7dmFyIHM9YS5jcmVhdGVSZXF1ZXN0KGksbik7cmV0dXJuIHMuZXJyb3JzJiYwPHMuZXJyb3JzLmxlbmd0aCYmaC5sb2dFcnJvcigiSUQgV0FSTklORyAweDAxIikscy5yZXF1ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZGRlclJlcXVlc3Q9cn0pLHMucmVxdWVzdHN9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIG49ci5iaWRkZXJSZXF1ZXN0LHM9W107cmV0dXJuIGguX2VhY2goZS5ib2R5LmJpZCxmdW5jdGlvbih0KXt2YXIgZSxpLHIsYTt0LnByaWNlJiZudWxsIT09dC5wcmljZSYmIXQuaGFzT3duUHJvcGVydHkoImVycm9yQ29kZSIpJiYodC5hZG18fHQubmF0aXZlKSYmKGU9aC5nZXRCaWRSZXF1ZXN0KHQuaWQsW25dKSxpPXt9LHQubmF0aXZlPyhpLm5hdGl2ZT1mdW5jdGlvbihlKXt2YXIgcj17fTtpZighZXx8IWguaXNBcnJheShlLmFzc2V0cykpcmV0dXJuIG51bGw7ZS5hc3NldHMuZm9yRWFjaChmdW5jdGlvbihlKXtpZihlLnRpdGxlKXIudGl0bGU9ZS50aXRsZS50ZXh0O2Vsc2UgaWYoZS5kYXRhKXN3aXRjaChlLmRhdGEudHlwZSl7Y2FzZSAxOnIuc3BvbnNvcmVkQnk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMjpyLmJvZHk9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMzpyLnJhdGluZz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA0OnIubGlrZXM9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNTpyLmRvd25sb2Fkcz1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA2OnIucHJpY2U9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgNzpyLnNhbGVQcmljZT1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSA4OnIucGhvbmU9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgOTpyLmFkZHJlc3M9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTA6ci5ib2R5Mj1lLmRhdGEudmFsdWU7YnJlYWs7Y2FzZSAxMTpyLmRpc3BsYXlVcmw9ZS5kYXRhLnZhbHVlO2JyZWFrO2Nhc2UgMTI6ci5jdGE9ZS5kYXRhLnZhbHVlfWVsc2UgaWYoZS5pbWcpc3dpdGNoKGUuaW1nLnR5cGUpe2Nhc2UgMjpyLmljb249e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH07YnJlYWs7Y2FzZSAzOnIuaW1hZ2U9e3VybDplLmltZy51cmwsd2lkdGg6ZS5pbWcudyxoZWlnaHQ6ZS5pbWcuaH19fSksZS5ldmVudHRyYWNrZXJzPyhyLmltcHJlc3Npb25UcmFja2Vycz1bXSxlLmV2ZW50dHJhY2tlcnMuZm9yRWFjaChmdW5jdGlvbihlKXtpZigxPT09ZS5ldmVudClzd2l0Y2goZS5tZXRob2Qpe2Nhc2UgMTpyLmltcHJlc3Npb25UcmFja2Vycy5wdXNoKGUudXJsKTticmVhaztjYXNlIDI6ci5qYXZhc2NyaXB0VHJhY2tlcnM9JzxzY3JpcHQgc3JjPSInLmNvbmNhdChlLnVybCwnIj48XC9zY3JpcHQ+Jyl9fSkpOihyLmltcHJlc3Npb25UcmFja2Vycz1lLmltcHRyYWNrZXJzfHxbXSxyLmphdmFzY3JpcHRUcmFja2Vycz1lLmpzdHJhY2tlcik7ZS5saW5rJiYoci5jbGlja1VybD1lLmxpbmsudXJsLHIuY2xpY2tUcmFja2Vycz1lLmxpbmsuY2xpY2t0cmFja2Vycyk7ZS5wcml2YWN5JiYoci5wcml2YWN5TGluaz1lLnByaXZhY3kpO3JldHVybiByfSh0Lm5hdGl2ZSksaS5vcnRiTmF0aXZlPXQubmF0aXZlLHQubnVybCYmaS5uYXRpdmUuaW1wcmVzc2lvblRyYWNrZXJzLnVuc2hpZnQodC5udXJsKSxpLm1lZGlhVHlwZT1nLmMpOnQuYWRfdHlwZSYmInZpZGVvIj09PXQuYWRfdHlwZT8oaS52YXN0WG1sPXQuYWRtLGkubWVkaWFUeXBlPWcuZCxiKGUpJiYoaS5hZFJlc3BvbnNlPXtjb250ZW50OmkudmFzdFhtbCxoZWlnaHQ6dC5oLHdpZHRoOnQud30saS5yZW5kZXJlcj1mdW5jdGlvbihlKXt2YXIgcj1kLmEuaW5zdGFsbCh7aWQ6ZS5hZFVuaXRDb2RlLHVybDoiaHR0cHM6Ly9hY2RuLmFkbnhzLmNvbS92aWRlby9vdXRzdHJlYW0vQU5PdXRzdHJlYW1WaWRlby5qcyIsbG9hZGVkOiExLGNvbmZpZzpoLmRlZXBBY2Nlc3MoZSwicmVuZGVyZXIub3B0aW9ucyIpLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlfSk7dHJ5e3Iuc2V0UmVuZGVyKG8pfWNhdGNoKGUpe2gubG9nV2FybigiUHJlYmlkIEVycm9yIGNhbGxpbmcgc2V0UmVuZGVyIG9uIHJlbmRlcmVyIixlKX1yZXR1cm4gcn0oZSkpKToocj0iIix0Lm51cmwmJjA8dC5udXJsLmxlbmd0aCYmKHI9JzxpbWcgc3JjPSInLmNvbmNhdCh0Lm51cmwsJyIgd2lkdGg9IjAiIGhlaWdodD0iMCIgc3R5bGU9ImRpc3BsYXk6bm9uZSI+JykpLGkuYWQ9IiIuY29uY2F0KHIsIjxzY3JpcHQ+IikuY29uY2F0KHQuYWRtLCI8XC9zY3JpcHQ+IiksaS5tZWRpYVR5cGU9Zy5iKSxpLmFkSWQ9dC5pZCxpLmNwbT1wYXJzZUZsb2F0KHQucHJpY2UpLGkuY3JlYXRpdmVJZD10LmNpZCxpLmN1cnJlbmN5PXQuY3VycmVuY3k/dC5jdXJyZW5jeS50b1VwcGVyQ2FzZSgpOiJVU0QiLGguaXNOdW1iZXIodC5saWQpJiZ0LmJ1eWluZ190eXBlJiYicnRiIiE9PXQuYnV5aW5nX3R5cGU/aS5kZWFsSWQ9dC5saWQ6QXJyYXkuaXNBcnJheSh0LmxpZCkmJkFycmF5LmlzQXJyYXkodC5idXlpbmdfdHlwZSkmJnQubGlkLmxlbmd0aD09PXQuYnV5aW5nX3R5cGUubGVuZ3RoJiYoYT0hMSx0LmJ1eWluZ190eXBlLmZvckVhY2goZnVuY3Rpb24oZSxyKXthfHxlJiYicnRiIiE9PWUmJihhPSEwLGkuZGVhbElkPXQubGlkW3JdKX0pKSxpLmhlaWdodD10LmgsaS5uZXRSZXZlbnVlPSEhdC5pc05ldCYmdC5pc05ldCxpLnJlcXVlc3RJZD10LmlkLGkudHRsPTMwMCxpLndpZHRoPXQudyxpLndpZHRoJiZpLmhlaWdodHx8KGkud2lkdGg9MSxpLmhlaWdodD0xKSxzLnB1c2goaSkpfSksc30sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscil7aWYoZS5waXhlbEVuYWJsZWQpe3ZhciB0PVtdO3JldHVybiByLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5ib2R5LmJpZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2guaXNBcnJheShlLnN5bmMpJiZlLnN5bmMuZm9yRWFjaChmdW5jdGlvbihlKXstMT09PXQuaW5kZXhPZihlKSYmdC5wdXNoKGUpfSl9KX0pLHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt0eXBlOiJpbWFnZSIsdXJsOmV9fSl9cmV0dXJuW119fTtmdW5jdGlvbiB5KGUpe3ZhciByPU9iamVjdC5rZXlzKGguZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzIix7fSkpLHQ9aC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSxpPWguZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyZXR1cm4idmlkZW8iPT09ZS5tZWRpYVR5cGV8fDE9PT1yLmxlbmd0aCYmdCYmIm91dHN0cmVhbSIhPT1pfWZ1bmN0aW9uIGIoZSl7dmFyIHI9aC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8iKSx0PWguZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKTtyZXR1cm4gciYmIm91dHN0cmVhbSI9PT10fWZ1bmN0aW9uIG8oZSl7ZS5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7d2luZG93LkFOT3V0c3RyZWFtVmlkZW8ucmVuZGVyQWQoe3NpemVzOltlLndpZHRoLGUuaGVpZ2h0XSx0YXJnZXRJZDplLmFkVW5pdENvZGUsYWRSZXNwb25zZTplLmFkUmVzcG9uc2UscmVuZGVyZXJPcHRpb25zOmUucmVuZGVyZXIuZ2V0Q29uZmlnKCl9LGZ1bmN0aW9uKGUscix0KXtlLnJlbmRlcmVyLmhhbmRsZVZpZGVvRXZlbnQoe2lkOnIsZXZlbnROYW1lOnR9KX0uYmluZChudWxsLGUpKX0pfWZ1bmN0aW9uIHUoZSl7dGhpcy5DT05TVEFOVFM9e0FEX1NFUlZFUl9CQVNFX1VSTDoiaWNlLjM2MHlpZWxkLmNvbSIsRU5EX1BPSU5UOmV8fCJoYiIsQURfU0VSVkVSX1VSTF9QQVJBTToianNvbnA9IixDTElFTlRfVkVSU0lPTjoiSlMtNi4zLjAiLE1BWF9VUkxfTEVOR1RIOjIwODMsRVJST1JfQ09ERVM6e01JU1NJTkdfUExBQ0VNRU5UX1BBUkFNUzoyLExJQl9WRVJTSU9OX01JU1NJTkc6M30sUkVUVVJOX09CSl9UWVBFOntERUZBVUxUOjAsVVJMX1BBUkFNU19TUExJVDoxfX0sdGhpcy5nZXRFcnJvclJldHVybj1mdW5jdGlvbihlKXtyZXR1cm57aWRNYXBwaW5nczp7fSxyZXF1ZXN0czp7fSxlcnJvckNvZGU6ZX19LHRoaXMuY3JlYXRlUmVxdWVzdD1mdW5jdGlvbihlLHIsdCl7aWYoIXIubGliVmVyc2lvbilyZXR1cm4gdGhpcy5nZXRFcnJvclJldHVybih0aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5MSUJfVkVSU0lPTl9NSVNTSU5HKTtyLnJldHVybk9ialR5cGU9ci5yZXR1cm5PYmpUeXBlfHx0aGlzLkNPTlNUQU5UUy5SRVRVUk5fT0JKX1RZUEUuREVGQVVMVCxyLmFkU2VydmVyQmFzZVVybD0iaHR0cHM6Ly8iKyhyLmFkU2VydmVyQmFzZVVybHx8dGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX0JBU0VfVVJMKTt2YXIgaT1bXTtpZihoLmlzQXJyYXkoZSkpZm9yKHZhciBhPTA7YTxlLmxlbmd0aDthKyspYz10aGlzLmNyZWF0ZUltcHJlc3Npb25PYmplY3QoZVthXSksaS5wdXNoKGMpO2Vsc2UgYz10aGlzLmNyZWF0ZUltcHJlc3Npb25PYmplY3QoZSksaS5wdXNoKGMpO3ZhciBuPSEwO3IucmV0dXJuT2JqVHlwZT09PXRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElUJiYobj0hMSk7dmFyIHM9e3JlcXVlc3RzOltdfTtuJiYocy5pZE1hcHBpbmdzPVtdKTtmb3IodmFyIGQsYyxvPW51bGwsdT0iIi5jb25jYXQoci5hZFNlcnZlckJhc2VVcmwsIi8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuRU5EX1BPSU5ULCI/IikuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLHA9e2JpZF9yZXF1ZXN0OnRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0KHIsdCl9LGw9MDtsPGkubGVuZ3RoO2wrKyl7KGM9aVtsXSkuZXJyb3JDb2RlPyhvPW98fFtdKS5wdXNoKHtlcnJvckNvZGU6Yy5lcnJvckNvZGUsYWRVbml0SWQ6Yy5hZFVuaXRJZH0pOihuJiZzLmlkTWFwcGluZ3MucHVzaCh7YWRVbml0SWQ6Yy5hZFVuaXRJZCxpZDpjLmltcHJlc3Npb25PYmplY3QuaWR9KSxwLmJpZF9yZXF1ZXN0LmltcD1wLmJpZF9yZXF1ZXN0LmltcHx8W10scC5iaWRfcmVxdWVzdC5pbXAucHVzaChjLmltcHJlc3Npb25PYmplY3QpLGQ9ITEsKHUrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHApKSkubGVuZ3RoPnRoaXMuQ09OU1RBTlRTLk1BWF9VUkxfTEVOR1RIJiYoZD0hMCwxPHAuYmlkX3JlcXVlc3QuaW1wLmxlbmd0aCYmKHAuYmlkX3JlcXVlc3QuaW1wLnBvcCgpLG4mJnMuaWRNYXBwaW5ncy5wb3AoKSxsLS0pKSwhZCYmci5zaW5nbGVSZXF1ZXN0TW9kZSYmbCE9PWkubGVuZ3RoLTF8fChzLnJlcXVlc3RzLnB1c2godGhpcy5mb3JtYXRSZXF1ZXN0KHIscCkpLHA9e2JpZF9yZXF1ZXN0OnRoaXMuY3JlYXRlQmFzaWNCaWRSZXF1ZXN0T2JqZWN0KHIsdCl9KSl9cmV0dXJuIG8mJihzLmVycm9ycz1vKSxzfSx0aGlzLmZvcm1hdFJlcXVlc3Q9ZnVuY3Rpb24oZSxyKXtzd2l0Y2goZS5yZXR1cm5PYmpUeXBlKXtjYXNlIHRoaXMuQ09OU1RBTlRTLlJFVFVSTl9PQkpfVFlQRS5VUkxfUEFSQU1TX1NQTElUOnJldHVybnttZXRob2Q6IkdFVCIsdXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQpLGRhdGE6IiIuY29uY2F0KHRoaXMuQ09OU1RBTlRTLkFEX1NFUlZFUl9VUkxfUEFSQU0pLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocikpKX07ZGVmYXVsdDpyZXR1cm57dXJsOiIiLmNvbmNhdChlLmFkU2VydmVyQmFzZVVybCwiLyIpKyIiLmNvbmNhdCh0aGlzLkNPTlNUQU5UUy5FTkRfUE9JTlQsIj8iKS5jb25jYXQodGhpcy5DT05TVEFOVFMuQURfU0VSVkVSX1VSTF9QQVJBTSkrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHIpKX19fSx0aGlzLmNyZWF0ZUJhc2ljQmlkUmVxdWVzdE9iamVjdD1mdW5jdGlvbihlLHIpe3ZhciB0PXtzZWN1cmU6MX07aWYoZS5yZXF1ZXN0SWQ/dC5pZD1lLnJlcXVlc3RJZDp0LmlkPWguZ2V0VW5pcXVlSWRlbnRpZmllclN0cigpLGUuZG9tYWluJiYodC5kb21haW49ZS5kb21haW4pLGUucGFnZSYmKHQucGFnZT1lLnBhZ2UpLGUucmVmJiYodC5yZWY9ZS5yZWYpLGUuY2FsbGJhY2smJih0LmNhbGxiYWNrPWUuY2FsbGJhY2spLGUubGliVmVyc2lvbiYmKHQudmVyc2lvbj1lLmxpYlZlcnNpb24rIi0iK3RoaXMuQ09OU1RBTlRTLkNMSUVOVF9WRVJTSU9OKSxlLnJlZmVycmVyJiYodC5yZWZlcnJlcj1lLnJlZmVycmVyKSwhZS5nZHByJiYwIT09ZS5nZHByfHwodC5nZHByPWUuZ2RwciksZS51c1ByaXZhY3kmJih0LnVzX3ByaXZhY3k9ZS51c1ByaXZhY3kpLGUuc2NoYWluJiYodC5zY2hhaW49ZS5zY2hhaW4pLGUudXNlciYmKHQudXNlcj1lLnVzZXIpLHIpZm9yKHZhciBpIGluIHIpdFtpXT1yW2ldO3JldHVybiB0fSx0aGlzLmNyZWF0ZUltcHJlc3Npb25PYmplY3Q9ZnVuY3Rpb24oZSl7dmFyIHIsdD17fSxpPXt9O2lmKHQuaW1wcmVzc2lvbk9iamVjdD1pLGUuaWQ/aS5pZD1lLmlkOmkuaWQ9aC5nZXRVbmlxdWVJZGVudGlmaWVyU3RyKCksZS5hZFR5cGVzJiYoaS5hZF90eXBlcz1lLmFkVHlwZXMpLGUuYWRVbml0SWQmJih0LmFkVW5pdElkPWUuYWRVbml0SWQpLGUuY3VycmVuY3kmJihpLmN1cnJlbmN5PWUuY3VycmVuY3kudG9VcHBlckNhc2UoKSksZS5iaWRGbG9vciYmKGkuYmlkZmxvb3I9ZS5iaWRGbG9vciksZS5iaWRGbG9vckN1ciYmKGkuYmlkZmxvb3JjdXI9ZS5iaWRGbG9vckN1ci50b1VwcGVyQ2FzZSgpKSxlLnBsYWNlbWVudElkJiYoaS5waWQ9ZS5wbGFjZW1lbnRJZCksZS5wdWJsaXNoZXJJZCYmKGkucHViaWQ9ZS5wdWJsaXNoZXJJZCksZS5wbGFjZW1lbnRLZXkmJihpLnBrZXk9ZS5wbGFjZW1lbnRLZXkpLGUudHJhbnNhY3Rpb25JZCYmKGkudGlkPWUudHJhbnNhY3Rpb25JZCksZS5rZXlWYWx1ZXMpZm9yKHZhciBhIGluIGUua2V5VmFsdWVzKWZvcih2YXIgbj0wO248ZS5rZXlWYWx1ZXNbYV0ubGVuZ3RoO24rKylpLmt2dz1pLmt2d3x8e30saS5rdndbYV09aS5rdndbYV18fFtdLGkua3Z3W2FdLnB1c2goZS5rZXlWYWx1ZXNbYV1bbl0pO3JldHVybiBpLmJhbm5lcj17fSxlLnNpemUmJmUuc2l6ZS53JiZlLnNpemUuaCYmKGkuYmFubmVyLnc9ZS5zaXplLncsaS5iYW5uZXIuaD1lLnNpemUuaCksZS5mb3JtYXQmJmguaXNBcnJheShlLmZvcm1hdCkmJigwPChyPWUuZm9ybWF0LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gMj09PWUubGVuZ3RoJiZoLmlzSW50ZWdlcihlWzBdKSYmaC5pc0ludGVnZXIoZVsxXSkmJjA8PWVbMF0mJjA8PWVbMV19KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSkpLmxlbmd0aCYmKGkuYmFubmVyLmZvcm1hdD1yKSksaS5waWR8fGkucHViaWR8fGkucGtleXx8aS5iYW5uZXImJmkuYmFubmVyLncmJmkuYmFubmVyLmh8fCh0LmltcHJlc3Npb25PYmplY3Q9bnVsbCx0LmVycm9yQ29kZT10aGlzLkNPTlNUQU5UUy5FUlJPUl9DT0RFUy5NSVNTSU5HX1BMQUNFTUVOVF9QQVJBTVMpLHR9fU9iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShhKX19LFs0ODZdKTsKdXBianNDaHVuayhbMjIyXSx7NTA0OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg1MDUpfSw1MDU6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGN9KTt2YXIgRj10KDApLGo9dCgyKSxCPXQoMyksbj10KDEwKSxmPXQubihuKSxpPXQoNTA2KSxzPXQubihpKSxhPXQoMSk7ZnVuY3Rpb24gSihlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBvKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiBvKGUscil9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIG8oZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn1mdW5jdGlvbiBkKHIsZSl7dmFyIHQsbj1PYmplY3Qua2V5cyhyKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmKHQ9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhyKSxlJiYodD10LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4sdCkpLG59ZnVuY3Rpb24gTShpKXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgcz1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9kKE9iamVjdChzKSwhMCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcix0LG47cj1pLG49c1t0PWVdLHQgaW4gcj9PYmplY3QuZGVmaW5lUHJvcGVydHkocix0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6clt0XT1ufSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzKSk6ZChPYmplY3QocykpLmZvckVhY2goZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHMsZSkpfSl9cmV0dXJuIGl9ZnVuY3Rpb24gTihlKXtyZXR1cm4oTj0iZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiYic3ltYm9sIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiYiZnVuY3Rpb24iPT10eXBlb2YgU3ltYm9sJiZlLmNvbnN0cnVjdG9yPT09U3ltYm9sJiZlIT09U3ltYm9sLnByb3RvdHlwZT8ic3ltYm9sIjp0eXBlb2YgZX0pKGUpfXZhciBwPVtqLmIsai5kXSx5PTEwMCxnPTMwMCxiPTM2MDAsaD0hMCx2PXtKUFk6MX07ZnVuY3Rpb24gQyhlKXt2YXIgcj17fTtyZXR1cm4gci5pZD1lLmJpZElkLHIuZXh0PXt9LHIuZXh0LnNpZD0iIi5jb25jYXQoZS5wYXJhbXMuc2l6ZVswXSwieCIpLmNvbmNhdChlLnBhcmFtcy5zaXplWzFdKSxyLmV4dC5zaXRlSUQ9ZS5wYXJhbXMuc2l0ZUlkLGUucGFyYW1zLmhhc093blByb3BlcnR5KCJiaWRGbG9vciIpJiZlLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3JDdXIiKSYmKHIuYmlkZmxvb3I9ZS5wYXJhbXMuYmlkRmxvb3Isci5iaWRmbG9vcmN1cj1lLnBhcmFtcy5iaWRGbG9vckN1cikscn1mdW5jdGlvbiBBKGUpe3JldHVybiBBcnJheS5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGgmJnMoKShlWzBdKSYmcygpKGVbMV0pfWZ1bmN0aW9uIFQoZSxyLHQsbil7dmFyIGk9W10scz0iaHR0cHM6Ly9odGxiLmNhc2FsZW1lZGlhLmNvbS9jeWdudXMiLGE9e30sbz1lWzBdLnVzZXJJZDtpZihvJiYib2JqZWN0Ij09PU4obykmJm8uaWRsX2VudiYmZnVuY3Rpb24oZSxyLHQsbixpLHMpe2lmKHQpcmV0dXJuIHJbaV09MSxlLnB1c2goe3NvdXJjZTpuLHVpZHM6W3tpZDp0LGV4dDp7cnRpUGFydG5lcjpzfX1dfSk7Ri5sb2dXYXJuKCJUcmllZCB0byBhZGQgYSB1c2VyIElEIGZyb20gUHJlYmlkLCB0aGUgSUQgcmVjZWl2ZWQgd2FzIG51bGwiKX0oaSxhLG8uaWRsX2VudiwibGl2ZXJhbXAuY29tIiwiTGl2ZVJhbXBJcCIsImlkbCIpLHdpbmRvdy5oZWFkZXJ0YWcmJiJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuaGVhZGVydGFnLmdldElkZW50aXR5SW5mbyl7dmFyIGQscD13aW5kb3cuaGVhZGVydGFnLmdldElkZW50aXR5SW5mbygpO2lmKHAmJiJvYmplY3QiPT09TihwKSlmb3IodmFyIGMgaW4gcCl7cC5oYXNPd25Qcm9wZXJ0eShjKSYmKGEuaGFzT3duUHJvcGVydHkoYyl8fCEoZD1wW2NdKS5yZXNwb25zZVBlbmRpbmcmJmQuZGF0YSYmIm9iamVjdCI9PT1OKGQuZGF0YSkmJk9iamVjdC5rZXlzKGQuZGF0YSkubGVuZ3RoJiZpLnB1c2goZC5kYXRhKSl9fXZhciBtLHU9e307dS5pZD1lWzBdLmJpZGRlclJlcXVlc3RJZCx1LnNpdGU9e30sdS5leHQ9e30sdS5leHQuc291cmNlPSJwcmViaWQiLHUuZXh0Lml4ZGlhZz17fSxlWzBdLnNjaGFpbiYmKHUuc291cmNlPXtleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19KSwwPGkubGVuZ3RoJiYodS51c2VyPXt9LHUudXNlci5laWRzPWkpLGRvY3VtZW50LnJlZmVycmVyJiYiIiE9PWRvY3VtZW50LnJlZmVycmVyJiYodS5zaXRlLnJlZj1kb2N1bWVudC5yZWZlcnJlciksciYmKHIuZ2RwckNvbnNlbnQmJigobT1yLmdkcHJDb25zZW50KS5oYXNPd25Qcm9wZXJ0eSgiZ2RwckFwcGxpZXMiKSYmKHUucmVncz17ZXh0OntnZHByOm0uZ2RwckFwcGxpZXM/MTowfX0pLG0uaGFzT3duUHJvcGVydHkoImNvbnNlbnRTdHJpbmciKSYmKHUudXNlcj11LnVzZXJ8fHt9LHUudXNlci5leHQ9e2NvbnNlbnQ6bS5jb25zZW50U3RyaW5nfHwiIn0pKSxyLnVzcENvbnNlbnQmJkYuZGVlcFNldFZhbHVlKHUsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCksci5yZWZlcmVySW5mbyYmKHUuc2l0ZS5wYWdlPXIucmVmZXJlckluZm8ucmVmZXJlcikpO3ZhciBsPXt9LGY9ciYmci5iaWRkZXJDb2RlfHwiaXgiLHk9Qi5iLmdldENvbmZpZyhmKTtpZih5KXtpZigib2JqZWN0Ij09PU4oeS5maXJzdFBhcnR5RGF0YSkpe3ZhciBnPXkuZmlyc3RQYXJ0eURhdGEsYj0iPyI7Zm9yKHZhciBoIGluIGcpZy5oYXNPd25Qcm9wZXJ0eShoKSYmKGIrPSIiLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQoaCksIj0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGdbaF0pLCImIikpO2I9Yi5zbGljZSgwLC0xKSx1LnNpdGUucGFnZSs9Yn0ibnVtYmVyIj09dHlwZW9mIHkudGltZW91dCYmKGwudD15LnRpbWVvdXQpLCJib29sZWFuIj09dHlwZW9mIHkuZGV0ZWN0TWlzc2luZ1NpemVzP3UuZXh0Lml4ZGlhZy5kbXM9eS5kZXRlY3RNaXNzaW5nU2l6ZXM6dS5leHQuaXhkaWFnLmRtcz0hMH1sLnM9ZVswXS5wYXJhbXMuc2l0ZUlkLGwudj1uLGwuYWM9ImoiLGwuc2Q9MSw4LjE9PT1uJiYobC5uZj0xKTt2YXIgdj1bXSx4PXttZXRob2Q6IkdFVCIsdXJsOnMsZGF0YTpsfSxJPW5ldyBCbG9iKFsiIi5jb25jYXQoeC51cmwpLmNvbmNhdChGLnBhcnNlUXVlcnlTdHJpbmdQYXJhbWV0ZXJzKE0oTSh7fSx4LmRhdGEpLHt9LHtyOkpTT04uc3RyaW5naWZ5KHUpfSkpKV0pLnNpemUsTz1JLHc9MCxQPTAsUz0wO3UuZXh0Lml4ZGlhZy5tc2Q9MCx1LmV4dC5peGRpYWcubXNpPTAsdS5pbXA9W107Zm9yKHZhciB6LGosQyxBLFQsRT0wLEQ9T2JqZWN0LmtleXModCksUj1bXTtFPEQubGVuZ3RoJiZ2Lmxlbmd0aDw0Oyl7dFtEW0VdXS5oYXNPd25Qcm9wZXJ0eSgibWlzc2luZ0NvdW50IikmJihTPXRbRFtFXV0ubWlzc2luZ0NvdW50KSxmdW5jdGlvbihlLHIpe3ZhciB0PW5ldyBCbG9iKFtlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZSkpXSkuc2l6ZTtpZih0PHIpcmV0dXJuO2Zvcig7cjx0OyllLmhhc093blByb3BlcnR5KCJtaXNzaW5nSW1wcyIpJiYwPGUubWlzc2luZ0ltcHMubGVuZ3RoP2UubWlzc2luZ0ltcHMucG9wKCk6ZS5oYXNPd25Qcm9wZXJ0eSgiaXhJbXBzIikmJjA8ZS5peEltcHMubGVuZ3RoJiZlLml4SW1wcy5wb3AoKSx0PW5ldyBCbG9iKFtlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoZSkpXSkuc2l6ZX0odFtEW0VdXSw4ZTMtSSksdFtEW0VdXS5oYXNPd25Qcm9wZXJ0eSgibWlzc2luZ0ltcHMiKSYmKFA9dFtEW0VdXS5taXNzaW5nSW1wcy5sZW5ndGgpLChPKz1uZXcgQmxvYihbZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHRbRFtFXV0pKV0pLnNpemUpPDhlMz8oKHo9dS5pbXApLnB1c2guYXBwbHkoeixKKHRbRFtFXV0uaXhJbXBzKSksdS5leHQuaXhkaWFnLm1zZCs9Uyx1LmV4dC5peGRpYWcubXNpKz1QLHRbRFtFXV0uaGFzT3duUHJvcGVydHkoIm1pc3NpbmdJbXBzIikmJlIucHVzaC5hcHBseShSLEoodFtEW0VdXS5taXNzaW5nSW1wcykpLEUrKyk6KEM9Ri5kZWVwQ2xvbmUobCksKGo9dS5pbXApLnB1c2guYXBwbHkoaixKKFIpKSx1LmV4dC5peGRpYWcuc249dyxDLnNuPXcsdysrLEMucj1KU09OLnN0cmluZ2lmeSh1KSx2LnB1c2goe21ldGhvZDoiR0VUIix1cmw6cyxkYXRhOkN9KSxSPVtdLE89SSx1LmltcD1bXSxQPVM9MCx1LmV4dC5peGRpYWcubXNkPTAsdS5leHQuaXhkaWFnLm1zaT0wKX1yZXR1cm4gSTxPJiZPPDhlMyYmdi5sZW5ndGg8NCYmKFQ9Ri5kZWVwQ2xvbmUobCksKEE9dS5pbXApLnB1c2guYXBwbHkoQSxKKFIpKSwwPHYubGVuZ3RoJiYodS5leHQuaXhkaWFnLnNuPXcsVC5zbj13KSxULnI9SlNPTi5zdHJpbmdpZnkodSksdi5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOnMsZGF0YTpUfSkpLHZ9ZnVuY3Rpb24gRShlLHIpe2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWlmKHJbMF09PWVbdF1bMF0mJnJbMV09PWVbdF1bMV0pcmV0dXJuIGUuc3BsaWNlKHQsMSksMX12YXIgYz17Y29kZToiaXgiLGd2bGlkOjEwLGFsaWFzZXM6WyJpbmRleEV4Y2hhbmdlIl0sc3VwcG9ydGVkTWVkaWFUeXBlczpwLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCFBKGUucGFyYW1zLnNpemUpKXJldHVybiBGLmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWQgc2l6ZSBoYXMgaW52YWxpZCBmb3JtYXQuIiksITE7aWYoInN0cmluZyIhPXR5cGVvZiBlLnBhcmFtcy5zaXRlSWQmJiJudW1iZXIiIT10eXBlb2YgZS5wYXJhbXMuc2l0ZUlkKXJldHVybiBGLmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBzaXRlSWQgbXVzdCBiZSBzdHJpbmcgb3IgbnVtYmVyIHZhbHVlLiIpLCExO3ZhciByLHQsbj1lLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiYmlkRmxvb3IiKSxpPWUucGFyYW1zLmhhc093blByb3BlcnR5KCJiaWRGbG9vckN1ciIpO3JldHVybiEhKCFuJiYhaXx8biYmaSYmKHI9ZS5wYXJhbXMuYmlkRmxvb3IsdD1lLnBhcmFtcy5iaWRGbG9vckN1cixCb29sZWFuKCJudW1iZXIiPT10eXBlb2YgciYmInN0cmluZyI9PXR5cGVvZiB0JiZ0Lm1hdGNoKC9eW0EtWl17M30kLykpKSl8fChGLmxvZ0Vycm9yKCJpeCBiaWRkZXIgcGFyYW1zOiBiaWRGbG9vciAvIGJpZEZsb29yQ3VyIHBhcmFtZXRlciBoYXMgaW52YWxpZCBmb3JtYXQuIiksITEpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7Zm9yKHZhciB0LG4saSxzLGEsbyxkLHAsYyxtLHUsbCxmLHk9W10sZz17fSxiPXt9LGg9bnVsbCx2PXt9LHg9TShNKHt9LHtkZXRlY3RNaXNzaW5nU2l6ZXM6ITB9KSxCLmIuZ2V0Q29uZmlnKCJpeCIpKSxJPTA7STxlLmxlbmd0aDtJKyspeyhoPWVbSV0pLm1lZGlhVHlwZSE9PWouZCYmIUYuZGVlcEFjY2VzcyhoLCJtZWRpYVR5cGVzLnZpZGVvIil8fChoLm1lZGlhVHlwZT09PWouZHx8ZnVuY3Rpb24oZSxyKXtpZihBKGUpKXJldHVybiBlWzBdPT09clswXSYmZVsxXT09PXJbMV07Zm9yKHZhciB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XVswXT09PXJbMF0mJmVbdF1bMV09PT1yWzFdKXJldHVybiAxfShoLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSxoLnBhcmFtcy5zaXplKT8oYi5oYXNPd25Qcm9wZXJ0eShoLnRyYW5zYWN0aW9uSWQpfHwoYltoLnRyYW5zYWN0aW9uSWRdPXt9KSxiW2gudHJhbnNhY3Rpb25JZF0uaGFzT3duUHJvcGVydHkoIml4SW1wcyIpfHwoYltoLnRyYW5zYWN0aW9uSWRdLml4SW1wcz1bXSksYltoLnRyYW5zYWN0aW9uSWRdLml4SW1wcy5wdXNoKGZ1bmN0aW9uKGUpe3ZhciByPUMoZSk7ci52aWRlbz1GLmRlZXBDbG9uZShlLnBhcmFtcy52aWRlbyksci52aWRlby53PWUucGFyYW1zLnNpemVbMF0sci52aWRlby5oPWUucGFyYW1zLnNpemVbMV07dmFyIHQ9Ri5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpO3JldHVybiB0JiYoImluc3RyZWFtIj09PXQ/ci52aWRlby5wbGFjZW1lbnQ9MToib3V0c3RyZWFtIj09PXQ/ci52aWRlby5wbGFjZW1lbnQ9NDpGLmxvZ1dhcm4oIml4IGJpZGRlciBwYXJhbXM6IHZpZGVvIGNvbnRleHQgJyIuY29uY2F0KHQsIicgaXMgbm90IHN1cHBvcnRlZCIpKSkscn0oaCkpKTpGLmxvZ0Vycm9yKCJCaWQgc2l6ZSBpcyBub3QgaW5jbHVkZWQgaW4gdmlkZW8gcGxheWVyU2l6ZSIpKSxoLm1lZGlhVHlwZSE9PWouYiYmIUYuZGVlcEFjY2VzcyhoLCJtZWRpYVR5cGVzLmJhbm5lciIpJiYoaC5tZWRpYVR5cGV8fGgubWVkaWFUeXBlcyl8fChtPXZvaWQgMCwobT1DKGM9aCkpLmJhbm5lcj17fSxtLmJhbm5lci53PWMucGFyYW1zLnNpemVbMF0sbS5iYW5uZXIuaD1jLnBhcmFtcy5zaXplWzFdLG0uYmFubmVyLnRvcGZyYW1lPUYuaW5JZnJhbWUoKT8wOjEsdD1tLGcuaGFzT3duUHJvcGVydHkoaC50cmFuc2FjdGlvbklkKXx8KGdbaC50cmFuc2FjdGlvbklkXT17fSksZ1toLnRyYW5zYWN0aW9uSWRdLmhhc093blByb3BlcnR5KCJpeEltcHMiKXx8KGdbaC50cmFuc2FjdGlvbklkXS5peEltcHM9W10pLGdbaC50cmFuc2FjdGlvbklkXS5peEltcHMucHVzaCh0KSx4Lmhhc093blByb3BlcnR5KCJkZXRlY3RNaXNzaW5nU2l6ZXMiKSYmeC5kZXRlY3RNaXNzaW5nU2l6ZXMmJihpPXYscz10LHA9ZD1vPWE9dm9pZCAwLHA9KG49aCkudHJhbnNhY3Rpb25JZCxpLmhhc093blByb3BlcnR5KHApPyhhPVtdLGlbcF0uaGFzT3duUHJvcGVydHkoIm1pc3NpbmdTaXplcyIpJiYoYT1pW3BdLm1pc3NpbmdTaXplcyksRShhLG4ucGFyYW1zLnNpemUpLGlbcF0ubWlzc2luZ1NpemVzPWEpOkYuZGVlcEFjY2VzcyhuLCJtZWRpYVR5cGVzLmJhbm5lci5zaXplcyIpJiYoRShvPUYuZGVlcENsb25lKG4ubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpLG4ucGFyYW1zLnNpemUpLGQ9e21pc3NpbmdTaXplczpvLGltcHJlc3Npb246c30saVtwXT1kKSkpfWZvcih2YXIgTyBpbiB2KWlmKHYuaGFzT3duUHJvcGVydHkoTykpe3ZhciB3PXZbT10ubWlzc2luZ1NpemVzO2cuaGFzT3duUHJvcGVydHkoTyl8fChnW09dPXt9KSxnW09dLmhhc093blByb3BlcnR5KCJtaXNzaW5nSW1wcyIpfHwoZ1tPXS5taXNzaW5nSW1wcz1bXSxnW09dLm1pc3NpbmdDb3VudD0wKTtmb3IodmFyIFA9dltPXS5pbXByZXNzaW9uLFM9MDtTPHcubGVuZ3RoO1MrKyl7dmFyIHo9KHU9UCxsPXdbU10sZj12b2lkIDAsKGY9Ri5kZWVwQ2xvbmUodSkpLmV4dC5zaWQ9IiIuY29uY2F0KGxbMF0sIngiKS5jb25jYXQobFsxXSksZi5iYW5uZXIudz1sWzBdLGYuYmFubmVyLmg9bFsxXSxmKTtnW09dLm1pc3NpbmdJbXBzLnB1c2goeiksZ1tPXS5taXNzaW5nQ291bnQrK319cmV0dXJuIDA8T2JqZWN0LmtleXMoZykubGVuZ3RoJiZ5LnB1c2guYXBwbHkoeSxKKFQoZSxyLGcsNy4yKSkpLDA8T2JqZWN0LmtleXMoYikubGVuZ3RoJiZ5LnB1c2guYXBwbHkoeSxKKFQoZSxyLGIsOC4xKSkpLHl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQ9W107aWYoIWUuaGFzT3duUHJvcGVydHkoImJvZHkiKXx8IWUuYm9keS5oYXNPd25Qcm9wZXJ0eSgic2VhdGJpZCIpKXJldHVybiB0O2Zvcih2YXIgbixpLHMsYSxvPWUuYm9keSxkPW8uc2VhdGJpZCxwPTA7cDxkLmxlbmd0aDtwKyspaWYoZFtwXS5oYXNPd25Qcm9wZXJ0eSgiYmlkIikpZm9yKHZhciBjPWRbcF0uYmlkLG09SlNPTi5wYXJzZShyLmRhdGEuciksdT0wO3U8Yy5sZW5ndGg7dSsrKXt2YXIgbD1mdW5jdGlvbihyLGUpe2lmKHIpcmV0dXJuIGYoKShlLGZ1bmN0aW9uKGUpe3JldHVybiBlLmlkPT09cn0pfShjW3VdLmltcGlkLG0uaW1wKTtuPWNbdV0saT1vLmN1cixzPWwsYT12b2lkIDAsYT17fSx2Lmhhc093blByb3BlcnR5KGkpP2EuY3BtPW4ucHJpY2UvdltpXTphLmNwbT1uLnByaWNlL3ksYS5yZXF1ZXN0SWQ9bi5pbXBpZCxhLmRlYWxJZD1GLmRlZXBBY2Nlc3MobiwiZXh0LmRlYWxpZCIpLGEubmV0UmV2ZW51ZT1oLGEuY3VycmVuY3k9aSxhLmNyZWF0aXZlSWQ9bi5oYXNPd25Qcm9wZXJ0eSgiY3JpZCIpP24uY3JpZDoiLSIsRi5kZWVwQWNjZXNzKG4sImV4dC52YXN0dXJsIik/KGEudmFzdFVybD1uLmV4dC52YXN0dXJsLGEud2lkdGg9cy52aWRlby53LGEuaGVpZ2h0PXMudmlkZW8uaCxhLm1lZGlhVHlwZT1qLmQsYS50dGw9Yik6KGEuYWQ9bi5hZG0sYS53aWR0aD1uLncsYS5oZWlnaHQ9bi5oLGEubWVkaWFUeXBlPWouYixhLnR0bD1nKSxhLm1ldGE9e30sYS5tZXRhLm5ldHdvcmtJZD1GLmRlZXBBY2Nlc3MobiwiZXh0LmRzcGlkIiksYS5tZXRhLmJyYW5kSWQ9Ri5kZWVwQWNjZXNzKG4sImV4dC5hZHZicmFuZGlkIiksYS5tZXRhLmJyYW5kTmFtZT1GLmRlZXBBY2Nlc3MobiwiZXh0LmFkdmJyYW5kIiksbi5hZG9tYWluJiYwPG4uYWRvbWFpbi5sZW5ndGgmJihhLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9bi5hZG9tYWluKSx0LnB1c2goYSl9cmV0dXJuIHR9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gRi5jb252ZXJ0VHlwZXMoe3NpdGVJRDoibnVtYmVyIn0sZSl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZnJhbWVFbmFibGVkP1t7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vanMtc2VjLmluZGV4d3cuY29tL3VtL2l4bWF0Y2guaHRtbCJ9XTpbXX19O09iamVjdChhLnJlZ2lzdGVyQmlkZGVyKShjKX19LFs1MDRdKTsKdXBianNDaHVuayhbMjE2XSx7NTIyOmZ1bmN0aW9uKHIsZSx0KXtyLmV4cG9ydHM9dCg1MjMpfSw1MjM6ZnVuY3Rpb24ocixlLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKGUsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KTt2YXIgaT10KDApLG49dCgxKTtmdW5jdGlvbiBzKHIpe3JldHVybiBmdW5jdGlvbihyKXtpZihBcnJheS5pc0FycmF5KHIpKXJldHVybiBhKHIpfShyKXx8ZnVuY3Rpb24ocil7aWYoInVuZGVmaW5lZCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QocikpcmV0dXJuIEFycmF5LmZyb20ocil9KHIpfHxmdW5jdGlvbihyLGUpe2lmKCFyKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIHIpcmV0dXJuIGEocixlKTt2YXIgdD1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocikuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT10JiZyLmNvbnN0cnVjdG9yJiYodD1yLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09dHx8IlNldCI9PT10KXJldHVybiBBcnJheS5mcm9tKHIpO2lmKCJBcmd1bWVudHMiPT09dHx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QodCkpcmV0dXJuIGEocixlKX0ocil8fGZ1bmN0aW9uKCl7dGhyb3cgbmV3IFR5cGVFcnJvcigiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gYShyLGUpeyhudWxsPT1lfHxlPnIubGVuZ3RoKSYmKGU9ci5sZW5ndGgpO2Zvcih2YXIgdD0wLG49bmV3IEFycmF5KGUpO3Q8ZTt0Kyspblt0XT1yW3RdO3JldHVybiBufXZhciBvPXtjb2RlOiJrb21vb25hIixpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihyKXtyZXR1cm4hIShyJiZyLnBhcmFtcyYmci5wYXJhbXMucGxhY2VtZW50SWQmJnIucGFyYW1zLmhiaWQpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKHIpe3ZhciBlLHQ9ci5tYXAoZnVuY3Rpb24ocil7dmFyIGU9e3V1aWQ6ci5iaWRJZCxzaXplczpyLnNpemVzLHRyaWQ6ci50cmFuc2FjdGlvbklkLGhiaWQ6ci5wYXJhbXMuaGJpZCxwbGFjZW1lbnRpZDpyLnBhcmFtcy5wbGFjZW1lbnRJZH07cmV0dXJuIHIucGFyYW1zLmZsb29yUHJpY2UmJihlLmZsb29ycHJpY2U9ci5wYXJhbXMuZmxvb3JQcmljZSksZX0pLG49KG5ldyBEYXRlKS5nZXRUaW1lKCksYT17dHNfYXM6bixoYl9wbGFjZW1lbnRzOltdLGhiX3BsYWNlbWVudF9iaWRpZHM6e30saGJfZmxvb3JzOnt9LGNiOihlPW4sTWF0aC5mbG9vcihlJTY1NTM2KzY1NTM2Kk1hdGguZmxvb3IoNjU1MzYqTWF0aC5yYW5kb20oKSkpKSx0ejoobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCl9O3IuZm9yRWFjaChmdW5jdGlvbihyKXthLmhkYmRpZD1hLmhkYmRpZHx8ci5wYXJhbXMuaGJpZCxhLmVuY29kZV9iaWQ9YS5lbmNvZGVfYmlkfHxyLnBhcmFtcy5lbmNvZGVfYmlkLGEuaGJfcGxhY2VtZW50X2JpZGlkc1tyLnBhcmFtcy5wbGFjZW1lbnRJZF09ci5iaWRJZCxyLnBhcmFtcy5mbG9vclByaWNlJiYoYS5oYl9mbG9vcnNbci5wYXJhbXMucGxhY2VtZW50SWRdPXIucGFyYW1zLmZsb29yUHJpY2UpLGEuaGJfcGxhY2VtZW50cy5wdXNoKHIucGFyYW1zLnBsYWNlbWVudElkKX0pO3ZhciBvPXt9O3JldHVybiBpLmlzRW1wdHkodCl8fChvPXtiaWRzOnModCksa2JDb25mOmF9KSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vYmlkZGVyLmtvbW9vbmEuY29tL3YxL0dldFNCaWRzIixkYXRhOkpTT04uc3RyaW5naWZ5KG8pfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24ocil7dmFyIGU9W107dHJ5e3IuYm9keSYmci5ib2R5LmJpZHMmJnIuYm9keS5iaWRzLmZvckVhY2goZnVuY3Rpb24ocil7ci5yZXF1ZXN0SWQ9ci51dWlkLHIuYWQ9ci5jcmVhdGl2ZSxlLnB1c2gocil9KX1jYXRjaChyKXtpLmxvZ0Vycm9yKHIpfXJldHVybiBlfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24ocil7aWYoci5pZnJhbWVFbmFibGVkKXJldHVyblt7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vcy5rb21vb25hLmNvbS9zeW5jL3VzeW5jLmh0bWwifV19fTtPYmplY3Qobi5yZWdpc3RlckJpZGRlcikobyl9fSxbNTIyXSk7CnVwYmpzQ2h1bmsoWzIwOV0sezU0NTpmdW5jdGlvbihlLG4scil7ZS5leHBvcnRzPXIoNTQ2KX0sNTQ2OmZ1bmN0aW9uKGUsbixyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KG4sIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZChuLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBpfSk7dmFyIG89cigwKSx0PXIoMiksZD1yKDEpLGk9e2NvZGU6ImxvY2tlcmRvbWUiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3QuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5hZFVuaXRJZH0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG4pe3ZhciByLHQ9ZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2NoYWluJiYocj1yfHxlLnNjaGFpbikse3JlcXVlc3RJZDplLmJpZElkLGFkVW5pdENvZGU6ZS5hZFVuaXRDb2RlLGFkVW5pdElkOm8uZ2V0QmlkSWRQYXJhbWV0ZXIoImFkVW5pdElkIixlLnBhcmFtcyksc2l6ZXM6ZS5tZWRpYVR5cGVzJiZlLm1lZGlhVHlwZXMuYmFubmVyJiZlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzfX0pLGQ9biYmbi5yZWZlcmVySW5mbyYmbi5yZWZlcmVySW5mby5jYW5vbmljYWxVcmx8fCIiLGk9biYmbi5yZWZlcmVySW5mbyYmbi5yZWZlcmVySW5mby5yZWZlcmVyfHwiIixzPXtiaWRSZXF1ZXN0czp0LHVybDplbmNvZGVVUklDb21wb25lbnQoZCkscmVmZXJyZXI6ZW5jb2RlVVJJQ29tcG9uZW50KGkpfTtyZXR1cm4gciYmKHMuc2NoYWluPXIpLG4mJihuLmdkcHJDb25zZW50JiYocy5nZHByPXthcHBsaWVzOm4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMsY29uc2VudDpuLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmd9KSxuLnVzcENvbnNlbnQmJihzLnVzX3ByaXZhY3k9e2NvbnNlbnQ6bi51c3BDb25zZW50fSkpLHttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9sb2NrZXJkb21lLmNvbS9sYWRiaWQvcHJlYmlkIixkYXRhOkpTT04uc3RyaW5naWZ5KHMpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuYm9keSYmZS5ib2R5LmJpZHM/ZS5ib2R5LmJpZHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybntyZXF1ZXN0SWQ6ZS5yZXF1ZXN0SWQsY3BtOmUuY3BtLHdpZHRoOmUud2lkdGgsaGVpZ2h0OmUuaGVpZ2h0LGNyZWF0aXZlSWQ6ZS5jcmVhdGl2ZUlkLGN1cnJlbmN5OmUuY3VycmVuY3ksbmV0UmV2ZW51ZTplLm5ldFJldmVudWUsYWQ6ZS5hZCx0dGw6ZS50dGx9fSk6W119fTtPYmplY3QoZC5yZWdpc3RlckJpZGRlcikoaSl9fSxbNTQ1XSk7CnVwYmpzQ2h1bmsoWzE5NV0sezU3NzpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oNTc4KX0sNTc4OmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBJfSk7dmFyIHI9bigxKSxtPW4oMCksZj1uKDMpLGk9bigyKSxhPW4oMjEpLG89bigxMSk7ZnVuY3Rpb24gZygpe3JldHVybihnPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBuPWFyZ3VtZW50c1t0XTtmb3IodmFyIHIgaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKSYmKGVbcl09bltyXSl9cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9dmFyIHU9Im1lZGlhbmV0IixkPSJodHRwczovL3ByZWJpZC5tZWRpYS5uZXQvdmlkZW8vYnVuZGxlLmpzIixwPXtOT1RfREVURVJNSU5FRDowLEFCT1ZFX1RIRV9GT0xEOjEsQkVMT1dfVEhFX0ZPTEQ6Mn0scz0iY2xpZW50X3RpbWVvdXQiLGM9ImNsaWVudF9iaWRfd29uIixsPU9iamVjdChhLmEpKCksYj17fTtmdW5jdGlvbiB5KGUpe3JldHVybiBnKHtkb21haW46KGU9ZXx8e30pLmRvbWFpbnx8Yi51cmxEYXRhLmRvbWFpbixwYWdlOmUucGFnZXx8Yi51cmxEYXRhLnBhZ2UscmVmOmUucmVmfHxmdW5jdGlvbigpe3RyeXtyZXR1cm4gd2luZG93LnRvcC5kb2N1bWVudC5yZWZlcnJlcn1jYXRjaChlKXtyZXR1cm4gZG9jdW1lbnQucmVmZXJyZXJ9fSgpLGlzVG9wOmUuaXNUb3B8fGIudXJsRGF0YS5pc1RvcH0sZnVuY3Rpb24oKXtpZihiLnBhZ2VNZXRhKXJldHVybiBiLnBhZ2VNZXRhO3ZhciBlPWgoJ2xpbmtbcmVsPSJjYW5vbmljYWwiXScsImhyZWYiKSx0PWgoJ21ldGFbcHJvcGVydHk9Im9nOnVybCJdJywiY29udGVudCIpLG49aCgnbWV0YVtuYW1lPSJ0d2l0dGVyOnVybCJdJywiY29udGVudCIpO3JldHVybiBiLnBhZ2VNZXRhPWcoe30sZSYme2Nhbm9uaWNhbF91cmw6ZX0sdCYme29nX3VybDp0fSxuJiZ7dHdpdHRlcl91cmw6bn0pLGIucGFnZU1ldGF9KCkpfWZ1bmN0aW9uIGgoZSx0KXt2YXIgbixyLGk9ZnVuY3Rpb24oZSx0KXt0cnl7dmFyIG49bS5nZXRXaW5kb3dUb3AoKS5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO2lmKG51bGwhPT1uJiZuW3RdKXJldHVybiBuW3RdfWNhdGNoKGUpe319KGUsdCk7cmV0dXJuIGkmJihuPWksKHI9bS5nZXRXaW5kb3dUb3AoKS5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9bixyLmhyZWYpfWZ1bmN0aW9uIHYoZSx0KXtyZXR1cm4gZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PXR9KX1mdW5jdGlvbiB3KGUpe3JldHVybnt3OnBhcnNlSW50KGVbMF0sMTApLGg6cGFyc2VJbnQoZVsxXSwxMCl9fWZ1bmN0aW9uIF8oZSl7dmFyIHQsbj17aWQ6ZS5iaWRJZCxleHQ6e2RmcF9pZDplLmFkVW5pdENvZGUsZGlzcGxheV9jb3VudDplLmJpZFJlcXVlc3RzQ291bnR9LGFsbDplLnBhcmFtc30scj1tLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKXx8W10saT1tLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpfHx7fSxhPWcoe30sbS5kZWVwQWNjZXNzKGUsInBhcmFtcy52aWRlbyIpfHx7fSxpKTtpZihtLmlzRW1wdHkoYSl8fChuLnZpZGVvPWEpLDA8ci5sZW5ndGgmJihuLmJhbm5lcj0odD1yLG0uaXNBcnJheSh0KSYmMj09PXQubGVuZ3RoJiYhbS5pc0FycmF5KHRbMF0pP1t3KHQpXTp0Lm1hcCh3KSkpLGUubmF0aXZlUGFyYW1zKXRyeXtuLm5hdGl2ZT1KU09OLnN0cmluZ2lmeShlLm5hdGl2ZVBhcmFtcyl9Y2F0Y2goZSl7bS5sb2dFcnJvcigiIi5jb25jYXQodSwiIDogSW5jb3JyZWN0IEpTT04gOiBiaWRSZXF1ZXN0Lm5hdGl2ZVBhcmFtcyIpKX1lLnBhcmFtcy5jcmlkJiYobi50YWdpZD1lLnBhcmFtcy5jcmlkLnRvU3RyaW5nKCkpO3ZhciBvPXBhcnNlRmxvYXQoZS5wYXJhbXMuYmlkZmxvb3IpO28mJihuLmJpZGZsb29yPW8pO3ZhciBkLHMsYz1mdW5jdGlvbihlKXt2YXIgdCxuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO2lmKG58fC0xPT09ZS5pbmRleE9mKCIvIil8fCh0PW0uZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKGUpLmRpdklkLG0uaXNTdHIodCkmJihuPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHQpKSksbiYmbi5nZXRCb3VuZGluZ0NsaWVudFJlY3Qpe3ZhciByPW4uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT17fTtyZXR1cm4gaS50b3BfbGVmdD17eTpyLnRvcCx4OnIubGVmdH0saS5ib3R0b21fcmlnaHQ9e3k6ci5ib3R0b20seDpyLnJpZ2h0fSxpfXJldHVybiBudWxsfShlLmFkVW5pdENvZGUpO3JldHVybiBjJiZuLmJhbm5lciYmMCE9PW4uYmFubmVyLmxlbmd0aD8oZD17dG9wX2xlZnQ6e3g6KHM9YykudG9wX2xlZnQueCt3aW5kb3cucGFnZVhPZmZzZXQseTpzLnRvcF9sZWZ0Lnkrd2luZG93LnBhZ2VZT2Zmc2V0fSxib3R0b21fcmlnaHQ6e3g6cy5ib3R0b21fcmlnaHQueCt3aW5kb3cucGFnZVhPZmZzZXQseTpzLmJvdHRvbV9yaWdodC55K3dpbmRvdy5wYWdlWU9mZnNldH19LG4uZXh0LmNvb3JkaW5hdGVzPWQsbi5leHQudmlld2FiaWxpdHk9RShjLnRvcF9sZWZ0LHgobi5iYW5uZXIpKSwuNTxFKGQudG9wX2xlZnQseChuLmJhbm5lcikpP24uZXh0LnZpc2liaWxpdHk9cC5BQk9WRV9USEVfRk9MRDpuLmV4dC52aXNpYmlsaXR5PXAuQkVMT1dfVEhFX0ZPTEQpOm4uZXh0LnZpc2liaWxpdHk9cC5OT1RfREVURVJNSU5FRCxufWZ1bmN0aW9uIHgoZSl7cmV0dXJuIGUucmVkdWNlKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuaCp0Lnc8ZS5oKmUudz90OmV9KX1mdW5jdGlvbiBFKGUsdCl7dmFyIG49dC53KnQuaCxyPUkuZ2V0V2luZG93U2l6ZSgpLGk9e3g6ZS54K3Qudyx5OmUueSt0Lmh9O3JldHVybiAwPT1ufHwtMT09PXIud3x8LTE9PT1yLmg/MDpmdW5jdGlvbihlLHQsbixyKXtpZihlLng+ci54fHx0Lng8bi54fHxlLnk+ci55fHx0Lnk8bi55KXJldHVybiAwO3JldHVybihNYXRoLm1pbih0Lngsci54KS1NYXRoLm1heChlLngsbi54KSkqKE1hdGgubWluKHQueSxyLnkpLU1hdGgubWF4KGUueSxuLnkpKX0oZSxpLHt4OjAseTowfSx7eDpyLncseTpyLmh9KS9ufWZ1bmN0aW9uIE8oZSx0KXtyZXR1cm57c2l0ZTp5KGVbMF0ucGFyYW1zLnNpdGUpLGV4dDoobj1lWzBdLHI9dCxpPW0uZGVlcEFjY2VzcyhuLCJwYXJhbXMiKSxhPW0uZGVlcEFjY2VzcyhyLCJnZHByQ29uc2VudCIpLG89bS5kZWVwQWNjZXNzKHIsInVzcENvbnNlbnQiKSxkPW0uZGVlcEFjY2VzcyhuLCJ1c2VySWQiKSxzPW0uZGVlcEFjY2VzcyhuLCJzY2hhaW4iKXx8e30sYz1JLmdldFdpbmRvd1NpemUoKSx1PSEoIWF8fCFhLmdkcHJBcHBsaWVzKSxwPSEhbyxsPSEhZi5iLmdldENvbmZpZygiY29wcGEiKSxnKHt9LHtjdXN0b21lcl9pZDppLmNpZH0se3ByZWJpZF92ZXJzaW9uOnVwYmpzLnZlcnNpb259LHtnZHByX2FwcGxpZXM6dX0sdSYme2dkcHJfY29uc2VudF9zdHJpbmc6YS5jb25zZW50U3RyaW5nfHwiIn0se3VzcF9hcHBsaWVzOnB9LHAmJnt1c3BfY29uc2VudF9zdHJpbmc6b3x8IiJ9LHtjb3BwYV9hcHBsaWVzOmx9LC0xIT09Yy53JiYtMSE9PWMuaCYme3NjcmVlbjpjfSxkJiZ7dXNlcl9pZDpkfSx1cGJqcy5tZWRpYW5ldEdsb2JhbHMuYW5hbHl0aWNzRW5hYmxlZCYme2FuYWx5dGljczohMH0sIW0uaXNFbXB0eShzKSYme3NjaGFpbjpzfSkpLGlkOmVbMF0uYXVjdGlvbklkLGltcDplLm1hcChfKSx0bWF4OnQudGltZW91dHx8Zi5iLmdldENvbmZpZygiYmlkZGVyVGltZW91dCIpfTt2YXIgbixyLGksYSxvLGQscyxjLHUscCxsfWZ1bmN0aW9uIFQoZSx0KXt2YXIgbj17cHJvdG9jb2w6Imh0dHBzIixob3N0bmFtZToicXNlYXJjaC1hLmFrYW1haWhkLm5ldC9sb2ciLHNlYXJjaDpmdW5jdGlvbihlLHQpe3Q9bS5pc0FycmF5KHQpJiZ0fHxbXTt2YXIgbj17bG9naWQ6ImtmayIsZXZ0aWQ6InByb2plY3RldmVudHMiLHByb2plY3Q6InByZWJpZCJ9O3JldHVybiBuLmFjaWQ9bS5kZWVwQWNjZXNzKHQsIjAuYXVjdGlvbklkIil8fCIiLG4uY2lkPXVwYmpzLm1lZGlhbmV0R2xvYmFscy5jaWR8fCIiLG4uY3JpZD10Lm1hcChmdW5jdGlvbihlKXtyZXR1cm4gbS5kZWVwQWNjZXNzKGUsInBhcmFtcy4wLmNyaWQiKXx8ZS5hZFVuaXRDb2RlfSkuam9pbigifCIpLG4uYWR1bml0X2NvdW50PXQubGVuZ3RofHwwLG4uZG49Yi51cmxEYXRhLmRvbWFpbnx8IiIsbi5yZXF1cmw9Yi51cmxEYXRhLnBhZ2V8fCIiLG4uaXN0b3A9Yi51cmxEYXRhLmlzVG9wfHwiIixuLmV2ZW50PWUubmFtZXx8IiIsbi52YWx1ZT1lLnZhbHVlfHwiIixuLnJkPWUucmVsYXRlZF9kYXRhfHwiIixufShlLHQpfTttLnRyaWdnZXJQaXhlbChtLmJ1aWxkVXJsKG4pKX1mdW5jdGlvbiBBKGUpe3ZhciB0LG49bS5kZWVwQWNjZXNzKGUsImNvbnRleHQiKXx8IiIscj1tLmRlZXBBY2Nlc3MoZSwidnRvIik7Im91dHN0cmVhbSI9PW4mJnImJihlLnJlbmRlcmVyPSgodD1vLmEuaW5zdGFsbCh7dXJsOmR9KSkuc2V0UmVuZGVyKGZ1bmN0aW9uKHIpe3dpbmRvdy5tbmV0LnF1ZXVlLnB1c2goZnVuY3Rpb24oKXt2YXIgZT17d2lkdGg6ci53aWR0aCxoZWlnaHQ6ci5oZWlnaHQsdmFzdFRpbWVvdXQ6ci52dG8sbWF4QWxsb3dlZFZhc3RUYWdSZWRpcmVjdHM6ci5tYXZ0cixhbGxvd1ZwYWlkOnIuYXZwLGF1dG9QbGF5OnIuYXAscHJlbG9hZDpyLnBsLG11dGU6ci5tdH0sdD1yLmRmcF9pZCxuPW0uZ2V0R3B0U2xvdEluZm9Gb3JBZFVuaXRDb2RlKHQpLmRpdklkfHx0O3dpbmRvdy5tbmV0Lm1lZGlhTmV0b3V0c3RyZWFtUGxheWVyKHIsbixlKX0pfSksdCkpfXdpbmRvdy5tbmV0PXdpbmRvdy5tbmV0fHx7fSx3aW5kb3cubW5ldC5xdWV1ZT13aW5kb3cubW5ldC5xdWV1ZXx8W10sYi51cmxEYXRhPXtkb21haW46bS5wYXJzZVVybChsLnJlZmVyZXIpLmhvc3RuYW1lLHBhZ2U6bC5yZWZlcmVyLGlzVG9wOmwucmVhY2hlZFRvcH0sdXBianMubWVkaWFuZXRHbG9iYWxzPXVwYmpzLm1lZGlhbmV0R2xvYmFsc3x8e307dmFyIEk9e2NvZGU6dSxndmxpZDoxNDIsc3VwcG9ydGVkTWVkaWFUeXBlczpbaS5iLGkuYyxpLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcz9lLnBhcmFtcy5jaWQmJm0uaXNTdHIoZS5wYXJhbXMuY2lkKSYmIW0uaXNFbXB0eVN0cihlLnBhcmFtcy5jaWQpPyhnKHVwYmpzLm1lZGlhbmV0R2xvYmFscywhdXBianMubWVkaWFuZXRHbG9iYWxzLmNpZCYme2NpZDplLnBhcmFtcy5jaWR9KSwhMCk6KG0ubG9nRXJyb3IoIiIuY29uY2F0KHUsIiA6IGNpZCBzaG91bGQgYmUgYSBzdHJpbmciKSksITEpOihtLmxvZ0Vycm9yKCIiLmNvbmNhdCh1LCIgOiBNaXNzaW5nIGJpZCBwYXJhbWV0ZXJzIikpLCExKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3ZhciBuLHI9TyhlLHQpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoobj1yLmV4dC5jdXN0b21lcl9pZCwiaHR0cHM6Ly9wcmViaWQubWVkaWEubmV0L3J0Yi9wcmViaWQ/Y2lkPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKSxkYXRhOkpTT04uc3RyaW5naWZ5KHIpfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9W107aWYoIWV8fCFlLmJvZHkpcmV0dXJuIG0ubG9nSW5mbygiIi5jb25jYXQodSwiIDogcmVzcG9uc2UgaXMgZW1wdHkiKSksdDt2YXIgbj1lLmJvZHkuYmlkTGlzdDtyZXR1cm4gbS5pc0FycmF5KG4pJiYwIT09bi5sZW5ndGg/KHQ9bi5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuITE9PT0odD1lKS5ub19iaWQmJjA8cGFyc2VGbG9hdCh0LmNwbSk7dmFyIHR9KSkuZm9yRWFjaChBKTptLmxvZ0luZm8oIiIuY29uY2F0KHUsIiA6IG5vIGJpZHMiKSksdH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIG4scj0obj10LCFtLmlzRW1wdHkobikmJm5bMF0uYm9keSYmblswXS5ib2R5LmV4dCYmbS5pc0FycmF5KG5bMF0uYm9keS5leHQuY3NVcmwpP25bMF0uYm9keS5leHQuY3NVcmw6W10pO3JldHVybiBlLmlmcmFtZUVuYWJsZWQ/dihyLCJpZnJhbWUiKTplLnBpeGVsRW5hYmxlZD92KHIsImltYWdlIik6dm9pZCAwfSxvblRpbWVvdXQ6ZnVuY3Rpb24oZSl7dHJ5e1Qoe25hbWU6cyx2YWx1ZTplLmxlbmd0aCxyZWxhdGVkX2RhdGE6ZVswXS50aW1lb3V0fHxmLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0Iil9LGUpfWNhdGNoKGUpe319LG9uQmlkV29uOmZ1bmN0aW9uKGUpe3RyeXtUKHtuYW1lOmMsdmFsdWU6ZS5jcG19LFtlXSl9Y2F0Y2goZSl7fX0sY2xlYXJNbkRhdGE6ZnVuY3Rpb24oKXtiPXt9fSxnZXRXaW5kb3dTaXplOmZ1bmN0aW9uKCl7cmV0dXJue3c6d2luZG93LmlubmVyV2lkdGh8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aHx8ZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aHx8LTEsaDp3aW5kb3cuaW5uZXJIZWlnaHR8fGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHR8fGRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0fHwtMX19fTtPYmplY3Qoci5yZWdpc3RlckJpZGRlcikoSSl9fSxbNTc3XSk7CnVwYmpzQ2h1bmsoWzE4OF0sezU5MTpmdW5jdGlvbihlLHIsYSl7ZS5leHBvcnRzPWEoNTkyKX0sNTkyOmZ1bmN0aW9uKGUscixhKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGEuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBwfSk7dmFyIHQ9YSgyKSxuPWEoMSkucmVnaXN0ZXJCaWRkZXIsZz0iaHR0cHM6Ly9oYi5teW5hdGl2ZXBsYXRmb3JtLmNvbS9wdWIyL3dlYi92MS4xNS4wL2hid2lkZ2V0Lmpzb24iO2Z1bmN0aW9uIGMoZSxyKXt2YXIgYT17cGFnZVVybDp7ZW1wdHlWYWx1ZToiW1BBR0VfVVJMXSIsZGVmYXVsdFZhbHVlOmZ1bmN0aW9uKGUpe2U9ZXx8d2luZG93LmxvY2F0aW9uLmhyZWY7Zm9yKHZhciByLGE9bnVsbCx0PWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJtZXRhIiksbj0wO248dC5sZW5ndGgmJiFhO24rKykib2c6dXJsIj09dFtuXS5nZXRBdHRyaWJ1dGUoInByb3BlcnR5IikmJihhPXRbbl0uY29udGVudCk7cmV0dXJuIGF8fChyPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImxpbmtbcmVsPSdjYW5vbmljYWwnXSIpKSYmKGE9ci5ocmVmKSxlPWF8fGUsZW5jb2RlVVJJQ29tcG9uZW50KGUpLnRvU3RyaW5nKCl9KCl9LGRpc3BsYXlXaXRoaW5JZnJhbWU6e2VtcHR5VmFsdWU6IiIsZGVmYXVsdFZhbHVlOiIifSxkYXRhUGFyYW1zOntlbXB0eVZhbHVlOiJbS0VZX1ZBTFVFU10iLGRlZmF1bHRWYWx1ZToiIn0scGFpZENsaWNrczp7ZW1wdHlWYWx1ZToiW1BBSURfVFJBQ0tJTkdfUElYRUxdIixkZWZhdWx0VmFsdWU6IiJ9LG9yZ2FuaWNDbGlja3M6e2VtcHR5VmFsdWU6IltPUkdBTklDX1RSQUNLSU5HX1BJWEVMXSIsZGVmYXVsdFZhbHVlOiIifSxkYXRhVmlldzp7ZW1wdHlWYWx1ZToiW1ZJRVdfVFJBQ0tJTkdfUElYRUxdIixkZWZhdWx0VmFsdWU6IiJ9fTtyZXR1cm4hYS5oYXNPd25Qcm9wZXJ0eShlKXx8ciYmciE9PWFbZV0uZW1wdHlWYWx1ZT97dmFsdWU6cixmcm9tVXNlcjohMH06e3ZhbHVlOmFbZV0uZGVmYXVsdFZhbHVlLGZyb21Vc2VyOiExfX12YXIgcD17Y29kZToibXk2c2Vuc2UiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3QuYix0LmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zfHwhZS5wYXJhbXMua2V5KX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLG8pe3ZhciBpPVtdO3JldHVybiBlJiZlLmxlbmd0aCYmZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPSEoZS53aWRnZXRfbnVtPTEpLGE9ITE7aWYoZS5wYXJhbXMpZm9yKHZhciB0IGluIGUucGFyYW1zKWlmKGUucGFyYW1zLmhhc093blByb3BlcnR5KHQpKXtpZigiZGVidWciPT09dCYmITA9PT1lLnBhcmFtc1t0XSl7YT0hMCxkZWxldGUgZS5wYXJhbXNbdF07Y29udGludWV9dmFyIG49Yyh0LGUucGFyYW1zW3RdKTtlLnBhcmFtc1t0XT1uLnZhbHVlLCJwYWdlVXJsIj09PXQmJiEwPT09bi5mcm9tVXNlciYmKHI9ITApLGUucGFyYW1zW3RdfHxkZWxldGUgZS5wYXJhbXNbdF19dmFyIHAsZCx1PSIiLmNvbmNhdChnLCI/d2lkZ2V0X2tleT0iKS5jb25jYXQoZS5wYXJhbXMua2V5LCImaXNfZGF0YV91cmxfc2V0PSIpLmNvbmNhdChyKTthJiYodT0iIi5jb25jYXQoZywiP2Vudj1kZWJ1ZyZ3aWRnZXRfa2V5PSIpLmNvbmNhdChlLnBhcmFtcy5rZXksIiZpc19kYXRhX3VybF9zZXQ9IikuY29uY2F0KHIpKSxlLmdkcHI9KGQ9e2dkcHJfY29uc2VudDpudWxsLGdkcHI6bnVsbH0sKHA9bykmJiJnZHByQ29uc2VudCJpbiBwJiYoZC5nZHByX2NvbnNlbnQ9cC5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nfHxudWxsLGQuZ2Rwcj1udWxsPT09ZC5nZHByJiYxPT1wLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfHxkLmdkcHIsZC5nZHByPShudWxsIT09ZC5nZHByfHwwIT1wLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSYmZC5nZHByLGQuZ2Rwcj1udWxsPT09ZC5nZHByJiYxPT1wLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfHxkLmdkcHIsZC5nZHByPShudWxsIT09ZC5nZHByfHwwIT1wLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSYmZC5nZHByKSxkKTt2YXIgbD17fTtmb3IodmFyIHMgaW4gZSlsW3NdPWVbc10sImJpZGRlciI9PT1zJiYobFtzXT0ibXk2c2Vuc2UiKTtpLnB1c2goe3VybDp1LG1ldGhvZDoiUE9TVCIsZGF0YTpKU09OLnN0cmluZ2lmeShsKX0pfSksaX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSl7dmFyIHI9W107cmV0dXJuIGUuYm9keSYmKGUuYm9keS5iaWRkZXJDb2RlPXRoaXMuY29kZSxyLnB1c2goZS5ib2R5KSkscn19O24ocCl9fSxbNTkxXSk7CnVwYmpzQ2h1bmsoWzE4M10sezYwMTpmdW5jdGlvbihlLF8sdCl7ZS5leHBvcnRzPXQoNjAyKX0sNjAyOmZ1bmN0aW9uKG1vZHVsZSxfX3dlYnBhY2tfZXhwb3J0c19fLF9fd2VicGFja19yZXF1aXJlX18peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoX193ZWJwYWNrX2V4cG9ydHNfXywiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIkJJRERFUl9DT0RFIixmdW5jdGlvbigpe3JldHVybiBCSURERVJfQ09ERX0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJFTkdJTkVfQkFTRV9VUkwiLGZ1bmN0aW9uKCl7cmV0dXJuIEVOR0lORV9CQVNFX1VSTH0pLF9fd2VicGFja19yZXF1aXJlX18uZChfX3dlYnBhY2tfZXhwb3J0c19fLCJOQVRJVk9fSlNfVVJMIixmdW5jdGlvbigpe3JldHVybiBOQVRJVk9fSlNfVVJMfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIlVTRVJJRCIsZnVuY3Rpb24oKXtyZXR1cm4gVVNFUklEfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIlVTRVJJU05FVyIsZnVuY3Rpb24oKXtyZXR1cm4gVVNFUklTTkVXfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sIlJFRkVSRVIiLGZ1bmN0aW9uKCl7cmV0dXJuIFJFRkVSRVJ9KSxfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywiU1BPTlNPUkVEX0FSVElDTEUiLGZ1bmN0aW9uKCl7cmV0dXJuIFNQT05TT1JFRF9BUlRJQ0xFfSksX193ZWJwYWNrX3JlcXVpcmVfXy5kKF9fd2VicGFja19leHBvcnRzX18sInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHNwZWN9KTt2YXIgX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19zcmNfYWRhcHRlcnNfYmlkZGVyRmFjdG9yeV9qc19fPV9fd2VicGFja19yZXF1aXJlX18oMSksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xX19zcmNfbWVkaWFUeXBlc19qc19fPV9fd2VicGFja19yZXF1aXJlX18oMiksX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX19zcmNfYWRsb2FkZXJfanNfXz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtmdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkoZSxfLHQpe3JldHVybiBfIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXyx7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbX109dCxlfXZhciBCSURERVJfQ09ERT0ibnR2IixFTkdJTkVfQkFTRV9VUkw9Imh0dHBzOi8vamFkc2VydmUucG9zdHJlbGVhc2UuY29tL3QiLE5BVElWT19KU19VUkw9Ii8vcy5udHYuaW8vc2VydmUvbG9hZC5qcyIsVVNFUklEPSJudHZfdXNpZCIsVVNFUklTTkVXPSJudHZfdXNuZXciLFJFRkVSRVI9Im50dl91cmwiLFNQT05TT1JFRF9BUlRJQ0xFPSJwcnhfdCIsYmlkc1JlcXVlc3RlZD17fSxzcGVjPXtjb2RlOkJJRERFUl9DT0RFLHN1cHBvcnRlZE1lZGlhVHlwZXM6W19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMV9fc3JjX21lZGlhVHlwZXNfanNfXy5iXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbigpe3JldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUpe09iamVjdChfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzJfX3NyY19hZGxvYWRlcl9qc19fLmEpKE5BVElWT19KU19VUkwsIm50diIsZnVuY3Rpb24oKXt9KTt2YXIgXz1jcmVhdGVTaW5nbGVCaWRSZXF1ZXN0KGJpZHNSZXF1ZXN0ZWQ9ZSk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6RU5HSU5FX0JBU0VfVVJMLGRhdGE6XyxvcHRpb25zOnt3aXRoQ3JlZGVudGlhbHM6ITF9fX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24gaW50ZXJwcmV0UmVzcG9uc2Uoc2VydmVyUmVzcG9uc2Upe3ZhciBiaWRzPVtdLGRhdGE9c2VydmVyUmVzcG9uc2UuYm9keTt0cnl7ZGF0YT1kYXRhLnJlcGxhY2UobmV3IFJlZ0V4cChhdG9iKCJMRndpWVhWMGIxQnNZWGxRWVhKaGJYTmNJanA3TGlvL2ZRPT0iKSksIiIpO3ZhciBtYXRjaGVkQWREYXRhPWRhdGEubWF0Y2goL1Bvc3RSZWxlYXNlXC5Qcm9jZXNzUmVzcG9uc2VcKCguKilcKTt9XClcKFwpOy8pO2lmKDE8bWF0Y2hlZEFkRGF0YS5sZW5ndGgpe21hdGNoZWRBZERhdGE9SlNPTi5wYXJzZShtYXRjaGVkQWREYXRhWzFdKTt2YXIgYWRKUz0iKGZ1bmN0aW9uKCl7UG9zdFJlbGVhc2UuUHJvY2Vzc1Jlc3BvbnNlKCIrSlNPTi5zdHJpbmdpZnkobWF0Y2hlZEFkRGF0YSkrIik7fSkoKTsiO2lmKC0xPGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiP3ByeF90PSIpfHwtMTxkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIiZwcnhfdD0iKSlyZXR1cm4gT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2FkbG9hZGVyX2pzX18uYSkoTkFUSVZPX0pTX1VSTCwibnR2IixmdW5jdGlvbigpe2V2YWwoYWRKUyl9KSxiaWRzO2Zvcih2YXIgaT0wO2k8bWF0Y2hlZEFkRGF0YS5wbGFjZW1lbnRzLmxlbmd0aDtpKyspe3ZhciBjdXJyZW50UGxhY2VtZW50PW1hdGNoZWRBZERhdGEucGxhY2VtZW50c1tpXSxzZWxlY3Rvcj1jdXJyZW50UGxhY2VtZW50LnNlbGVjdG9yLHBsYWNlSG9sZGVyO3RyeXshZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3RvcikmJmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5lbnRyeS1jb250ZW50IikmJihwbGFjZUhvbGRlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxwbGFjZUhvbGRlci5pZD1zZWxlY3Rvci5yZXBsYWNlKCIjIiwiIiksZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmVudHJ5LWNvbnRlbnQiKS5uZXh0RWxlbWVudFNpYmxpbmcucGFyZW50RWxlbWVudC5pbnNlcnRCZWZvcmUocGxhY2VIb2xkZXIsZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmVudHJ5LWNvbnRlbnQiKS5uZXh0RWxlbWVudFNpYmxpbmcpKX1jYXRjaChlKXt9aWYoMDxjdXJyZW50UGxhY2VtZW50LmFkcy5sZW5ndGgpZm9yKHZhciBqPTA7ajxjdXJyZW50UGxhY2VtZW50LmFkcy5sZW5ndGg7aisrKXt2YXIgYWRXb249Y3VycmVudFBsYWNlbWVudC5hZHNbal07Ymlkcy5wdXNoKHtyZXF1ZXN0SWQ6Ymlkc1JlcXVlc3RlZFtpXS5iaWRJZCxjcG06d2luZG93Lm50dkNQTXx8LjIsd2lkdGg6MCxoZWlnaHQ6MCxhZDoiPGRpdj48L2Rpdj4iLGFkSlM6YWRKUyx0dGw6MzAwLGNyZWF0aXZlSWQ6YWRXb24uaWQsbmV0UmV2ZW51ZTohMCxjdXJyZW5jeToiVVNEIn0pfWVsc2UgT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2FkbG9hZGVyX2pzX18uYSkoTkFUSVZPX0pTX1VSTCwibnR2IixmdW5jdGlvbigpe2V2YWwoYWRKUyl9KX0wPT09bWF0Y2hlZEFkRGF0YS5wbGFjZW1lbnRzLmxlbmd0aCYmT2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fc3JjX2FkbG9hZGVyX2pzX18uYSkoTkFUSVZPX0pTX1VSTCwibnR2IixmdW5jdGlvbigpe2V2YWwoYWRKUyl9KX19Y2F0Y2goZSl7fXJldHVybiBiaWRzfX07ZnVuY3Rpb24gY3JlYXRlU2luZ2xlQmlkUmVxdWVzdChlKXt2YXIgXyx0PXdpbmRvdy5Qb3N0UmVsZWFzZT93aW5kb3cuUG9zdFJlbGVhc2UuU2Vzc2lvbk1nbXQuc2Vzc2lvbklEOnNlc3Npb25TdG9yYWdlLl9udHZzbnx8TWF0aC5mbG9vcigxZTcqTWF0aC5yYW5kb20oKSsxKTtzZXNzaW9uU3RvcmFnZS5fbnR2c258fChzZXNzaW9uU3RvcmFnZS5fbnR2c249dCk7dmFyIHI9IXdpbmRvdy5Qb3N0UmVsZWFzZXx8d2luZG93LlBvc3RSZWxlYXNlLlNlc3Npb25NZ210Lm5ld1Nlc3Npb24sbj0hMTstMTxkb2N1bWVudC5sb2NhdGlvbi5ocmVmLmluZGV4T2YoIiZwcnhfdD0iKT9uPWRvY3VtZW50LmxvY2F0aW9uLmhyZWYuc3BsaXQoIiZwcnhfdD0iKVsxXS5zcGxpdCgiJiIpWzBdOi0xPGRvY3VtZW50LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigiP3ByeF90PSIpJiYobj1kb2N1bWVudC5sb2NhdGlvbi5ocmVmLnNwbGl0KCI/cHJ4X3Q9IilbMV0uc3BsaXQoIiYiKVswXSk7dmFyIGE9KF9kZWZpbmVQcm9wZXJ0eShfPXt9LFVTRVJJRCx0KSxfZGVmaW5lUHJvcGVydHkoXyxVU0VSSVNORVcsciksX2RlZmluZVByb3BlcnR5KF8sUkVGRVJFUixlbmNvZGVVUklDb21wb25lbnQod2luZG93LmxvY2F0aW9uLmhyZWYpKSxfKTtyZXR1cm4gbiYmKGFbU1BPTlNPUkVEX0FSVElDTEVdPW4pLGF9T2JqZWN0KF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fc3JjX2FkYXB0ZXJzX2JpZGRlckZhY3RvcnlfanNfXy5yZWdpc3RlckJpZGRlcikoc3BlYyl9fSxbNjAxXSk7CnVwYmpzQ2h1bmsoWzE3M10sezYyNTpmdW5jdGlvbihlLHQscil7ZS5leHBvcnRzPXIoNjI2KX0sNjI2OmZ1bmN0aW9uKGUsdCxyKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHIuZCh0LCJVU0VSX0lEX0NPREVfVE9fUVVFUllfQVJHIixmdW5jdGlvbigpe3JldHVybiBmfSksci5kKHQsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KTt2YXIgYz1yKDMpLG49cigxKSxkPXIoMCksdT1yKDIpO2Z1bmN0aW9uIHMoZSx0KXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gZX0oZSl8fGZ1bmN0aW9uKGUsdCl7aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBTeW1ib2x8fCEoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChlKSkpcmV0dXJuO3ZhciByPVtdLG49ITAsaT0hMSxhPXZvaWQgMDt0cnl7Zm9yKHZhciBzLG89ZVtTeW1ib2wuaXRlcmF0b3JdKCk7IShuPShzPW8ubmV4dCgpKS5kb25lKSYmKHIucHVzaChzLnZhbHVlKSwhdHx8ci5sZW5ndGghPT10KTtuPSEwKTt9Y2F0Y2goZSl7aT0hMCxhPWV9ZmluYWxseXt0cnl7bnx8bnVsbD09by5yZXR1cm58fG8ucmV0dXJuKCl9ZmluYWxseXtpZihpKXRocm93IGF9fXJldHVybiByfShlLHQpfHxmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybjtpZigic3RyaW5nIj09dHlwZW9mIGUpcmV0dXJuIGkoZSx0KTt2YXIgcj1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkuc2xpY2UoOCwtMSk7Ik9iamVjdCI9PT1yJiZlLmNvbnN0cnVjdG9yJiYocj1lLmNvbnN0cnVjdG9yLm5hbWUpO2lmKCJNYXAiPT09cnx8IlNldCI9PT1yKXJldHVybiBBcnJheS5mcm9tKGUpO2lmKCJBcmd1bWVudHMiPT09cnx8L14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QocikpcmV0dXJuIGkoZSx0KX0oZSx0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIGkoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIHI9MCxuPW5ldyBBcnJheSh0KTtyPHQ7cisrKW5bcl09ZVtyXTtyZXR1cm4gbn12YXIgYT1bdS5iLHUuZF0scD0iaGJfcGIiLG09IjMuMC4zIixsPSJVU0QiLGY9e2JyaXRlcG9vbGlkOiJicml0ZXBvb2xpZCIsY3JpdGVvSWQ6ImNyaXRlb2lkIixkaWdpdHJ1c3RpZDoiZGlnaXRydXN0aWQiLGlkNWlkOiJpZDVpZCIsaWRsX2VudjoibHJlIixsaXBiOiJsaXBiaWQiLG5ldElkOiJuZXRpZCIscGFycmFibGVJZDoicGFycmFibGVpZCIscHViY2lkOiJwdWJjaWQiLHRkaWQ6InR0ZHV1aWQifSxvPXtjb2RlOiJvcGVueCIsZ3ZsaWQ6NjksYWxpYXNlczpbIm9wZW54X2FiIl0sc3VwcG9ydGVkTWVkaWFUeXBlczphLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3ZhciB0PWUucGFyYW1zLmRlbERvbWFpbnx8ZS5wYXJhbXMucGxhdGZvcm07cmV0dXJuIGQuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpJiZ0PyEhZS5wYXJhbXMudW5pdHx8MDxkLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoIik6ISghZS5wYXJhbXMudW5pdHx8IXQpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsbil7aWYoMD09PWUubGVuZ3RoKXJldHVybltdO3ZhciBpPVtdLHQ9cyhlLnJlZHVjZShmdW5jdGlvbihlLHQpe3ZhciByO3JldHVybiByPXQsZC5kZWVwQWNjZXNzKHIsIm1lZGlhVHlwZXMudmlkZW8iKSYmIWQuZGVlcEFjY2VzcyhyLCJtZWRpYVR5cGVzLmJhbm5lciIpfHxyLm1lZGlhVHlwZT09PXUuZD9lWzBdLnB1c2godCk6ZVsxXS5wdXNoKHQpLGV9LFtbXSxbXV0pLDIpLHI9dFswXSxhPXRbMV07cmV0dXJuIDA8YS5sZW5ndGgmJmkucHVzaChmdW5jdGlvbihlLHQpe3ZhciBuPVtdLGk9ITEscj1oKGUsdCksYT1kLl9tYXAoZSxmdW5jdGlvbihlKXtyZXR1cm4gZS5wYXJhbXMudW5pdH0pO3IuYXVzPWQuX21hcChlLGZ1bmN0aW9uKGUpe3JldHVybiBkLnBhcnNlU2l6ZXNJbnB1dChlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzKS5qb2luKCIsIil9KS5qb2luKCJ8Iiksci5kaXZJZHM9ZC5fbWFwKGUsZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlLmFkVW5pdENvZGUpfSkuam9pbigiLCIpLGEuc29tZShmdW5jdGlvbihlKXtyZXR1cm4gZX0pJiYoci5hdWlkPWEuam9pbigiLCIpKTtlLnNvbWUoZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLmRvTm90VHJhY2t9KSYmKHIubnM9MSk7ITAhPT1jLmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiYhZS5zb21lKGZ1bmN0aW9uKGUpe3JldHVybiBlLnBhcmFtcy5jb3BwYX0pfHwoci50ZmNkPTEpO2UuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZSxyO3QucGFyYW1zLmN1c3RvbVBhcmFtcz8oZT1kLl9tYXAoT2JqZWN0LmtleXModC5wYXJhbXMuY3VzdG9tUGFyYW1zKSxmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oZSx0KXt2YXIgcj10W2VdO2QuaXNBcnJheShyKSYmKHI9ci5qb2luKCIsIikpO3JldHVybihlLnRvTG93ZXJDYXNlKCkrIj0iK3IudG9Mb3dlckNhc2UoKSkucmVwbGFjZSgiKyIsIi4iKS5yZXBsYWNlKCIvIiwiXyIpfShlLHQucGFyYW1zLmN1c3RvbVBhcmFtcyl9KSxyPXdpbmRvdy5idG9hKGUuam9pbigiJiIpKSxpPSEwLG4ucHVzaChyKSk6bi5wdXNoKCIiKX0pLGkmJihyLnRwcz1uLmpvaW4oIiwiKSk7dmFyIHM9W10sbz0hMTtlLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fSxuPWMuYi5nZXRDb25maWcoImN1cnJlbmN5LmFkU2VydmVyQ3VycmVuY3kiKXx8bDsiZnVuY3Rpb24iPT10eXBlb2YgZS5nZXRGbG9vciYmKHI9ZS5nZXRGbG9vcih7Y3VycmVuY3k6bixtZWRpYVR5cGU6dCxzaXplOiIqIn0pKTt2YXIgaT1yLmZsb29yfHxlLnBhcmFtcy5jdXN0b21GbG9vcnx8MDtyZXR1cm4gTWF0aC5yb3VuZCgxZTMqaSl9KGUsdS5iKTt0PyhzLnB1c2godCksbz0hMCk6cy5wdXNoKDApfSksbyYmKHIuYXVtZnM9cy5qb2luKCIsIikpO3JldHVybnttZXRob2Q6IkdFVCIsdXJsOnIucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdy8xLjAvYXJqIjoiaHR0cHM6Ly8iLmNvbmNhdChlWzBdLnBhcmFtcy5kZWxEb21haW4sIi93LzEuMC9hcmoiKSxkYXRhOnIscGF5bG9hZDp7YmlkczplLHN0YXJ0VGltZTpuZXcgRGF0ZX19fShhLG4pKSwwPHIubGVuZ3RoJiZyLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQscjtpLnB1c2goe21ldGhvZDoiR0VUIix1cmw6KHI9ZnVuY3Rpb24oZSx0KXt2YXIgcixuLGk9aChbZV0sdCksYT1kLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIil8fHt9LHM9ZC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8uY29udGV4dCIpLG89ZC5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpO2QuaXNBcnJheShlLnNpemVzKSYmMj09PWUuc2l6ZXMubGVuZ3RoJiYhZC5pc0FycmF5KGUuc2l6ZXNbMF0pPyhyPXBhcnNlSW50KGUuc2l6ZXNbMF0sMTApLG49cGFyc2VJbnQoZS5zaXplc1sxXSwxMCkpOmQuaXNBcnJheShlLnNpemVzKSYmZC5pc0FycmF5KGUuc2l6ZXNbMF0pJiYyPT09ZS5zaXplc1swXS5sZW5ndGg/KHI9cGFyc2VJbnQoZS5zaXplc1swXVswXSwxMCksbj1wYXJzZUludChlLnNpemVzWzBdWzFdLDEwKSk6ZC5pc0FycmF5KG8pJiYyPT09by5sZW5ndGgmJihyPXBhcnNlSW50KG9bMF0sMTApLG49cGFyc2VJbnQob1sxXSwxMCkpO09iamVjdC5rZXlzKGEpLmZvckVhY2goZnVuY3Rpb24oZSl7Im9wZW5ydGIiPT09ZT8oYVtlXS53PXJ8fGFbZV0udyxhW2VdLnY9bnx8YVtlXS52LGlbZV09SlNPTi5zdHJpbmdpZnkoYVtlXSkpOmUgaW4gaXx8InVybCI9PT1lfHwoaVtlXT1hW2VdKX0pLGkuYXVpZD1lLnBhcmFtcy51bml0LGkudndkPXJ8fGEudndkLGkudmh0PW58fGEudmh0LCJvdXRzdHJlYW0iPT09cyYmKGkudm9zPSIxMDEiKTthLm1pbWVzJiYoaS52bWltZXM9YS5taW1lcyk7ZS5wYXJhbXMudGVzdCYmKGkudnRlc3Q9MSk7cmV0dXJuIGl9KHQ9ZSxuKSkucGg/Imh0dHBzOi8vdS5vcGVueC5uZXQvdi8xLjAvYXZqcCI6Imh0dHBzOi8vIi5jb25jYXQodC5wYXJhbXMuZGVsRG9tYWluLCIvdi8xLjAvYXZqcCIpLGRhdGE6cixwYXlsb2FkOntiaWQ6dCxzdGFydFRpbWU6bmV3IERhdGV9fSl9KSxpfSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciByPWUuYm9keTtyZXR1cm4oKC9hdmpwJC8udGVzdCh0LnVybCk/dS5kOnUuYik9PT11LmQ/ZnVuY3Rpb24oZSx0KXt2YXIgcj10LmJpZCxuPSh0LnN0YXJ0VGltZSxbXSk7e3ZhciBpLGE7dm9pZCAwIT09ZSYmIiIhPT1lLnZhc3RVcmwmJjA8ZS5wdWJfcmV2JiYoaT1kLnBhcnNlVXJsKGUudmFzdFVybCkuc2VhcmNofHx7fSwoYT17fSkucmVxdWVzdElkPXIuYmlkSWQsYS50dGw9MzAwLGEubmV0UmV2ZW51ZT0hMCxhLmN1cnJlbmN5PWUuY3VycmVuY3ksYS5jcG09cGFyc2VJbnQoZS5wdWJfcmV2LDEwKS8xZTMsYS53aWR0aD1wYXJzZUludChlLndpZHRoLDEwKSxhLmhlaWdodD1wYXJzZUludChlLmhlaWdodCwxMCksYS5jcmVhdGl2ZUlkPWUuYWRpZCxhLnZhc3RVcmw9ZS52YXN0VXJsLGEubWVkaWFUeXBlPXUuZCxlLnBoPWkucGgsZS5jb2xvPWkuY29sbyxlLnRzPWkudHMsbi5wdXNoKGEpKX1yZXR1cm4gbn06ZnVuY3Rpb24oZSx0KXtmb3IodmFyIHI9dC5iaWRzLG49KHQuc3RhcnRUaW1lLGUuYWRzLmFkKSxpPVtdLGE9MDthPG4ubGVuZ3RoO2ErKyl7dmFyIHMsbz1uW2FdLGM9cGFyc2VJbnQoby5pZHgsMTApLGQ9e307ZC5yZXF1ZXN0SWQ9cltjXS5iaWRJZCxvLnB1Yl9yZXYmJihkLmNwbT1OdW1iZXIoby5wdWJfcmV2KS8xZTMsKHM9by5jcmVhdGl2ZVswXSkmJihkLndpZHRoPXMud2lkdGgsZC5oZWlnaHQ9cy5oZWlnaHQpLGQuY3JlYXRpdmVJZD1zLmlkLGQuYWQ9by5odG1sLG8uZGVhbF9pZCYmKGQuZGVhbElkPW8uZGVhbF9pZCksZC50dGw9MzAwLGQubmV0UmV2ZW51ZT0hMCxkLmN1cnJlbmN5PW8uY3VycmVuY3ksby50YmQmJihkLnRiZD1vLnRiZCksZC50cz1vLnRzLGQubWV0YT17fSxvLmJyYW5kX2lkJiYoZC5tZXRhLmJyYW5kSWQ9by5icmFuZF9pZCksby5hZHZfaWQmJihkLm1ldGEuZHNwaWQ9by5hZHZfaWQpLGkucHVzaChkKSl9cmV0dXJuIGl9KShyLHQucGF5bG9hZCl9LGdldFVzZXJTeW5jczpmdW5jdGlvbihlLHQscixuKXtpZihlLmlmcmFtZUVuYWJsZWR8fGUucGl4ZWxFbmFibGVkKXJldHVyblt7dHlwZTplLmlmcmFtZUVuYWJsZWQ/ImlmcmFtZSI6ImltYWdlIix1cmw6ZC5kZWVwQWNjZXNzKHQsIjAuYm9keS5hZHMucGl4ZWxzIil8fGQuZGVlcEFjY2Vzcyh0LCIwLmJvZHkucGl4ZWxzIil8fGZ1bmN0aW9uKGUsdCl7dmFyIHI9W107ZSYmKHIucHVzaCgiZ2Rwcj0iKyhlLmdkcHJBcHBsaWVzPzE6MCkpLHIucHVzaCgiZ2Rwcl9jb25zZW50PSIrZW5jb2RlVVJJQ29tcG9uZW50KGUuY29uc2VudFN0cmluZ3x8IiIpKSk7dCYmci5wdXNoKCJ1c19wcml2YWN5PSIrZW5jb2RlVVJJQ29tcG9uZW50KHQpKTtyZXR1cm4iIi5jb25jYXQoImh0dHBzOi8vdS5vcGVueC5uZXQvdy8xLjAvcGQiKS5jb25jYXQoMDxyLmxlbmd0aD8iPyIrci5qb2luKCImIik6IiIpfShyLG4pfV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gZC5jb252ZXJ0VHlwZXMoe3VuaXQ6InN0cmluZyIsY3VzdG9tRmxvb3I6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gaChlLHQpe3ZhciByLG4saSxhLHM9ZC5pbklmcmFtZSgpLG89e2p1OmMuYi5nZXRDb25maWcoInBhZ2VVcmwiKXx8dC5yZWZlcmVySW5mby5yZWZlcmVyLGNoOmRvY3VtZW50LmNoYXJTZXR8fGRvY3VtZW50LmNoYXJhY3RlclNldCxyZXM6IiIuY29uY2F0KHNjcmVlbi53aWR0aCwieCIpLmNvbmNhdChzY3JlZW4uaGVpZ2h0LCJ4IikuY29uY2F0KHNjcmVlbi5jb2xvckRlcHRoKSxpZnI6cyx0ejoobmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCksdHdzOmZ1bmN0aW9uKGUpe3ZhciB0LHIsbixpPXdpbmRvdyxhPWRvY3VtZW50LHM9YS5kb2N1bWVudEVsZW1lbnQ7aWYoZSl7dHJ5e2k9d2luZG93LnRvcCxhPXdpbmRvdy50b3AuZG9jdW1lbnR9Y2F0Y2goZSl7cmV0dXJufXM9YS5kb2N1bWVudEVsZW1lbnQsbj1hLmJvZHksdD1pLmlubmVyV2lkdGh8fHMuY2xpZW50V2lkdGh8fG4uY2xpZW50V2lkdGgscj1pLmlubmVySGVpZ2h0fHxzLmNsaWVudEhlaWdodHx8bi5jbGllbnRIZWlnaHR9ZWxzZSBzPWEuZG9jdW1lbnRFbGVtZW50LHQ9aS5pbm5lcldpZHRofHxzLmNsaWVudFdpZHRoLHI9aS5pbm5lckhlaWdodHx8cy5jbGllbnRIZWlnaHQ7cmV0dXJuIiIuY29uY2F0KHQsIngiKS5jb25jYXQocil9KHMpLGJlOjEsYmM6ZVswXS5wYXJhbXMuYmN8fCIiLmNvbmNhdChwLCJfIikuY29uY2F0KG0pLGRkZGlkOmQuX21hcChlLGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyYW5zYWN0aW9uSWR9KS5qb2luKCIsIiksbm9jYWNoZToobmV3IERhdGUpLmdldFRpbWUoKX07cmV0dXJuIGVbMF0ucGFyYW1zLnBsYXRmb3JtJiYoby5waD1lWzBdLnBhcmFtcy5wbGF0Zm9ybSksdC5nZHByQ29uc2VudCYmKHZvaWQgMCE9PShyPXQuZ2RwckNvbnNlbnQpLmNvbnNlbnRTdHJpbmcmJihvLmdkcHJfY29uc2VudD1yLmNvbnNlbnRTdHJpbmcpLHZvaWQgMCE9PXIuZ2RwckFwcGxpZXMmJihvLmdkcHI9ci5nZHByQXBwbGllcz8xOjApLCJpYWIiPT09Yy5iLmdldENvbmZpZygiY29uc2VudE1hbmFnZW1lbnQuY21wQXBpIikmJihvLnhfZ2Rwcl9mPTEpKSx0JiZ0LnVzcENvbnNlbnQmJihvLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSxkLmRlZXBBY2Nlc3MoZVswXSwiY3J1bWJzLnB1YmNpZCIpJiZkLmRlZXBTZXRWYWx1ZShlWzBdLCJ1c2VySWQucHViY2lkIixkLmRlZXBBY2Nlc3MoZVswXSwiY3J1bWJzLnB1YmNpZCIpKSxuPW8saT1lWzBdLnVzZXJJZCxkLl9lYWNoKGksZnVuY3Rpb24oZSx0KXt2YXIgcj1mW3RdO2lmKGYuaGFzT3duUHJvcGVydHkodCkpc3dpdGNoKHQpe2Nhc2UiZGlnaXRydXN0aWQiOm5bcl09ZC5kZWVwQWNjZXNzKGUsImRhdGEuaWQiKTticmVhaztjYXNlImxpcGIiOm5bcl09ZS5saXBiaWQ7YnJlYWs7Y2FzZSJwYXJyYWJsZUlkIjpuW3JdPWUuZWlkO2JyZWFrO2Nhc2UiaWQ1aWQiOm5bcl09ZS51aWQ7YnJlYWs7ZGVmYXVsdDpuW3JdPWV9fSksbz1uLGVbMF0uc2NoYWluJiYoby5zY2hhaW49KGE9ZVswXS5zY2hhaW4sIiIuY29uY2F0KGEudmVyLCIsIikuY29uY2F0KGEuY29tcGxldGUsIiEiKS5jb25jYXQoZnVuY3Rpb24oZSl7dmFyIHI9WyJhc2kiLCJzaWQiLCJocCIsInJpZCIsIm5hbWUiLCJkb21haW4iXTtyZXR1cm4gZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHIubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfHwiIn0pLmpvaW4oIiwiKX0pLmpvaW4oIiEiKX0oYS5ub2RlcykpKSksb31PYmplY3Qobi5yZWdpc3RlckJpZGRlcikobyl9fSxbNjI1XSk7CnVwYmpzQ2h1bmsoWzE1Nl0sezY2NDpmdW5jdGlvbihlLGQsbil7ZS5leHBvcnRzPW4oNjY1KX0sNjY1OmZ1bmN0aW9uKGUsZCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZChkLCJwdWJQcm92aWRlZElkU3VibW9kdWxlIixmdW5jdGlvbigpe3JldHVybiBpfSk7dmFyIG89bigxMyksdT1uKDApLGk9e25hbWU6InB1YlByb3ZpZGVkSWQiLGRlY29kZTpmdW5jdGlvbihlKXt2YXIgZD1lP3twdWJQcm92aWRlZElkOmV9OnZvaWQgMDtyZXR1cm4gdS5sb2dJbmZvKCJQdWJQcm92aWRlZElkOiBEZWNvZGVkIHZhbHVlICIrSlNPTi5zdHJpbmdpZnkoZCkpLGR9LGdldElkOmZ1bmN0aW9uKGUpe3ZhciBkPWUmJmUucGFyYW1zfHx7fSxuPVtdO3JldHVybiB1LmlzQXJyYXkoZC5laWRzKSYmKG49bi5jb25jYXQoZC5laWRzKSksImZ1bmN0aW9uIj09dHlwZW9mIGQuZWlkc0Z1bmN0aW9uJiYobj1uLmNvbmNhdChkLmVpZHNGdW5jdGlvbigpKSkse2lkOm59fX07T2JqZWN0KG8uZSkoInVzZXJJZCIsaSl9fSxbNjY0XSk7CnVwYmpzQ2h1bmsoWzE1NF0sezY3MDpmdW5jdGlvbihlLHIsYSl7ZS5leHBvcnRzPWEoNjcxKX0sNjcxOmZ1bmN0aW9uKGUscixhKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLGEuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBifSk7dmFyIE89YSgwKSx0PWEoMSksUz1hKDIpLFI9YSgzKSxpPWEoMTEpO2Z1bmN0aW9uIFAoKXtyZXR1cm4oUD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgYT1hcmd1bWVudHNbcl07Zm9yKHZhciB0IGluIGEpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsdCkmJihlW3RdPWFbdF0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIEQoZSl7cmV0dXJuKEQ9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgWT0iUHViTWF0aWM6ICIsQT0iVVNEIix4PXZvaWQgMCxzPSJodHRwczovL3B1Ym1hdGljLmJidm1zLmNvbS9yLyIuY29uY2F0KCIkUkVOREVSRVIiLCIuanMiKSxOPXtrYWRwYWdldXJsOiIiLGdlbmRlcjoiIix5b2I6IiIsbGF0OiIiLGxvbjoiIix3aWlkOiIiLHByb2ZJZDoiIix2ZXJJZDoiIn0sbj17TlVNQkVSOiJudW1iZXIiLFNUUklORzoic3RyaW5nIixCT09MRUFOOiJib29sZWFuIixBUlJBWToiYXJyYXkiLE9CSkVDVDoib2JqZWN0In0sbz17bWltZXM6bi5BUlJBWSxtaW5kdXJhdGlvbjpuLk5VTUJFUixtYXhkdXJhdGlvbjpuLk5VTUJFUixzdGFydGRlbGF5Om4uTlVNQkVSLHBsYXliYWNrbWV0aG9kOm4uQVJSQVksYXBpOm4uQVJSQVkscHJvdG9jb2xzOm4uQVJSQVksdzpuLk5VTUJFUixoOm4uTlVNQkVSLGJhdHRyOm4uQVJSQVksbGluZWFyaXR5Om4uTlVNQkVSLHBsYWNlbWVudDpuLk5VTUJFUixtaW5iaXRyYXRlOm4uTlVNQkVSLG1heGJpdHJhdGU6bi5OVU1CRVJ9LGM9e1RJVExFOntJRDoxLEtFWToidGl0bGUiLFRZUEU6MH0sSU1BR0U6e0lEOjIsS0VZOiJpbWFnZSIsVFlQRTowfSxJQ09OOntJRDozLEtFWToiaWNvbiIsVFlQRTowfSxTUE9OU09SRURCWTp7SUQ6NCxLRVk6InNwb25zb3JlZEJ5IixUWVBFOjF9LEJPRFk6e0lEOjUsS0VZOiJib2R5IixUWVBFOjJ9LENMSUNLVVJMOntJRDo2LEtFWToiY2xpY2tVcmwiLFRZUEU6MH0sVklERU86e0lEOjcsS0VZOiJ2aWRlbyIsVFlQRTowfSxFWFQ6e0lEOjgsS0VZOiJleHQiLFRZUEU6MH0sREFUQTp7SUQ6OSxLRVk6ImRhdGEiLFRZUEU6MH0sTE9HTzp7SUQ6MTAsS0VZOiJsb2dvIixUWVBFOjB9LFNQT05TT1JFRDp7SUQ6MTEsS0VZOiJzcG9uc29yZWQiLFRZUEU6MX0sREVTQzp7SUQ6MTIsS0VZOiJkYXRhIixUWVBFOjJ9LFJBVElORzp7SUQ6MTMsS0VZOiJyYXRpbmciLFRZUEU6M30sTElLRVM6e0lEOjE0LEtFWToibGlrZXMiLFRZUEU6NH0sRE9XTkxPQURTOntJRDoxNSxLRVk6ImRvd25sb2FkcyIsVFlQRTo1fSxQUklDRTp7SUQ6MTYsS0VZOiJwcmljZSIsVFlQRTo2fSxTQUxFUFJJQ0U6e0lEOjE3LEtFWToic2FsZXByaWNlIixUWVBFOjd9LFBIT05FOntJRDoxOCxLRVk6InBob25lIixUWVBFOjh9LEFERFJFU1M6e0lEOjE5LEtFWToiYWRkcmVzcyIsVFlQRTo5fSxERVNDMjp7SUQ6MjAsS0VZOiJkZXNjMiIsVFlQRToxMH0sRElTUExBWVVSTDp7SUQ6MjEsS0VZOiJkaXNwbGF5dXJsIixUWVBFOjExfSxDVEE6e0lEOjIyLEtFWToiY3RhIixUWVBFOjEyfX0sbD17SUNPTjoxLExPR086MixJTUFHRTozfSx1PVt7aWQ6Yy5TUE9OU09SRURCWS5JRCxyZXF1aXJlZDohMCxkYXRhOnt0eXBlOjF9fSx7aWQ6Yy5USVRMRS5JRCxyZXF1aXJlZDohMH0se2lkOmMuSU1BR0UuSUQscmVxdWlyZWQ6ITB9XSxkPXsxOiJQTVAiLDU6IlBSRUYiLDY6IlBNUEcifSxwPXtib290c3RyYXBQbGF5ZXI6ZnVuY3Rpb24oZSl7dmFyIHI9e2NvZGU6ZS5hZFVuaXRDb2RlfTtpZihlLnZhc3RYbWw/ci52YXN0WG1sPWUudmFzdFhtbDplLnZhc3RVcmwmJihyLnZhc3RVcmw9ZS52YXN0VXJsKSxlLnZhc3RYbWx8fGUudmFzdFVybCl7Zm9yKHZhciBhLHQ9cC5nZXRSZW5kZXJlcklkKCJwdWJtYXRpYyIsZS5yZW5kZXJlckNvZGUpLGk9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZS5hZFVuaXRDb2RlKSxzPTA7czx3aW5kb3cuYmx1ZWJpbGx5d2lnLnJlbmRlcmVycy5sZW5ndGg7cysrKWlmKHdpbmRvdy5ibHVlYmlsbHl3aWcucmVuZGVyZXJzW3NdLl9pZD09PXQpe2E9d2luZG93LmJsdWViaWxseXdpZy5yZW5kZXJlcnNbc107YnJlYWt9YT9hLmJvb3RzdHJhcChyLGkpOk8ubG9nV2FybigiIi5jb25jYXQoWSwiOiBDb3VsZG4ndCBmaW5kIGEgcmVuZGVyZXIgd2l0aCAiKS5jb25jYXQodCkpfWVsc2UgTy5sb2dXYXJuKCIiLmNvbmNhdChZLCI6IE5vIHZhc3RYbWwgb3IgdmFzdFVybCBvbiBiaWQsIGJhaWxpbmcuLi4iKSl9LG5ld1JlbmRlcmVyOmZ1bmN0aW9uKGUscil7dmFyIGE9cy5yZXBsYWNlKCIkUkVOREVSRVIiLGUpLHQ9aS5hLmluc3RhbGwoe3VybDphLGxvYWRlZDohMSxhZFVuaXRDb2RlOnJ9KTt0cnl7dC5zZXRSZW5kZXIocC5vdXRzdHJlYW1SZW5kZXIpfWNhdGNoKGUpe08ubG9nV2FybigiIi5jb25jYXQoWSwiOiBFcnJvciB0eWluZyB0byBzZXRSZW5kZXIgb24gcmVuZGVyZXIiKSxlKX1yZXR1cm4gdH0sb3V0c3RyZWFtUmVuZGVyOmZ1bmN0aW9uKGUpe2UucmVuZGVyZXIucHVzaChmdW5jdGlvbigpe3AuYm9vdHN0cmFwUGxheWVyKGUpfSl9LGdldFJlbmRlcmVySWQ6ZnVuY3Rpb24oZSxyKXtyZXR1cm4iIi5jb25jYXQoZSwiLSIpLmNvbmNhdChyKX19LGs9MCxtPSExLGc9e30saD17fTtmdW5jdGlvbiBDKGUscil7aWYoIU8uaXNTdHIocikpcmV0dXJuIHImJk8ubG9nV2FybihZKyJJZ25vcmluZyBwYXJhbSBrZXk6ICIrZSsiLCBleHBlY3RzIHN0cmluZy12YWx1ZSwgZm91bmQgIitEKHIpKSx4O3N3aXRjaChlKXtjYXNlInBtem9uZWlkIjpyZXR1cm4gci5zcGxpdCgiLCIpLnNsaWNlKDAsNTApLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS50cmltKCl9KS5qb2luKCk7Y2FzZSJrYWRmbG9vciI6Y2FzZSJsYXQiOmNhc2UibG9uIjpyZXR1cm4gcGFyc2VGbG9hdChyKXx8eDtjYXNlInlvYiI6cmV0dXJuIHBhcnNlSW50KHIpfHx4O2RlZmF1bHQ6cmV0dXJuIHJ9fWZ1bmN0aW9uIFUoZSl7dmFyIHI7ZS5wYXJhbXMuYWRVbml0PSIiLGUucGFyYW1zLmFkVW5pdEluZGV4PSIwIixlLnBhcmFtcy53aWR0aD0wLGUucGFyYW1zLmhlaWdodD0wLGUucGFyYW1zLmFkU2xvdD0ocj1lLnBhcmFtcy5hZFNsb3QsTy5pc1N0cihyKT9yLnJlcGxhY2UoL15ccysvZywiIikucmVwbGFjZSgvXHMrJC9nLCIiKToiIik7dmFyIGE9KHQ9ZS5wYXJhbXMuYWRTbG90KS5zcGxpdCgiOiIpLHQ9YVswXTtpZigyPT1hLmxlbmd0aCYmKGUucGFyYW1zLmFkVW5pdEluZGV4PWFbMV0pLGE9dC5zcGxpdCgiQCIpLGUucGFyYW1zLmFkVW5pdD1hWzBdLDE8YS5sZW5ndGgpe2lmKDIhPShhPWFbMV0uc3BsaXQoIngiKSkubGVuZ3RoKXJldHVybiB2b2lkIE8ubG9nV2FybihZKyJBZFNsb3QgRXJyb3I6IGFkU2xvdCBub3QgaW4gcmVxdWlyZWQgZm9ybWF0Iik7ZS5wYXJhbXMud2lkdGg9cGFyc2VJbnQoYVswXSwxMCksZS5wYXJhbXMuaGVpZ2h0PXBhcnNlSW50KGFbMV0sMTApfWVsc2UgaWYoZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkoUy5iKSYmZS5tZWRpYVR5cGVzLmJhbm5lci5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKSl7Zm9yKHZhciBpPTAscz1bXTtpPGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMubGVuZ3RoO2krKykyPT09ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc1tpXS5sZW5ndGgmJnMucHVzaChlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzW2ldKTtlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzPXMsMTw9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5sZW5ndGgmJihlLnBhcmFtcy53aWR0aD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzBdLGUucGFyYW1zLmhlaWdodD1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzWzBdWzFdLGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcy5zcGxpY2UoMSxlLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLmxlbmd0aC0xKSl9fWZ1bmN0aW9uIGYoZSl7dmFyIHIsYT1lLnBhcmFtcy52aWRlbztpZihhIT09eCl7Zm9yKHZhciB0IGluIHI9e30sbylhLmhhc093blByb3BlcnR5KHQpJiYoclt0XT1mdW5jdGlvbihlLHIsYSl7dmFyIHQsaT0iSWdub3JpbmcgcGFyYW0ga2V5OiAiK2UrIiwgZXhwZWN0cyAiK2ErIiwgZm91bmQgIitEKHIpO3N3aXRjaChhKXtjYXNlIG4uQk9PTEVBTjp0PU8uaXNCb29sZWFuO2JyZWFrO2Nhc2Ugbi5OVU1CRVI6dD1PLmlzTnVtYmVyO2JyZWFrO2Nhc2Ugbi5TVFJJTkc6dD1PLmlzU3RyO2JyZWFrO2Nhc2Ugbi5BUlJBWTp0PU8uaXNBcnJheX1yZXR1cm4gdChyKT9yOihPLmxvZ1dhcm4oWStpKSx4KX0odCxhW3RdLG9bdF0pKTtPLmlzQXJyYXkoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pPyhyLnc9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF1bMF0sMTApLHIuaD1wYXJzZUludChlLm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZVswXVsxXSwxMCkpOk8uaXNOdW1iZXIoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pJiYoci53PXBhcnNlSW50KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdLDEwKSxyLmg9cGFyc2VJbnQoZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMV0sMTApKSxlLnBhcmFtcy52aWRlby5oYXNPd25Qcm9wZXJ0eSgic2tpcHBhYmxlIikmJihyLmV4dD17dmlkZW9fc2tpcHBhYmxlOmUucGFyYW1zLnZpZGVvLnNraXBwYWJsZT8xOjB9KX1lbHNlIHI9eCxPLmxvZ1dhcm4oWSsiRXJyb3I6IFZpZGVvIGNvbmZpZyBwYXJhbXMgbWlzc2luZyBmb3IgYWR1bml0OiAiK2UucGFyYW1zLmFkVW5pdCsiIHdpdGggbWVkaWFUeXBlIHNldCBhcyB2aWRlby4gSWdub3JpbmcgdmlkZW8gaW1wcmVzc2lvbiBpbiB0aGUgYWR1bml0LiIpO3JldHVybiByfWZ1bmN0aW9uIHooZSl7dmFyIHIsYSx0LGkscz17fSxuPXt9LG89ZS5oYXNPd25Qcm9wZXJ0eSgic2l6ZXMiKT9lLnNpemVzOltdLGQ9IiIscD1bXSxzPXtpZDplLmJpZElkLHRhZ2lkOmUucGFyYW1zLmFkVW5pdHx8dm9pZCAwLGJpZGZsb29yOkMoImthZGZsb29yIixlLnBhcmFtcy5rYWRmbG9vciksc2VjdXJlOjEsZXh0OntwbVpvbmVJZDpDKCJwbXpvbmVpZCIsZS5wYXJhbXMucG16b25laWQpfSxiaWRmbG9vcmN1cjplLnBhcmFtcy5jdXJyZW5jeT9DKCJjdXJyZW5jeSIsZS5wYXJhbXMuY3VycmVuY3kpOkF9O2lmKHQ9cywoaT1lKS5wYXJhbXMuZGVhbHMmJihPLmlzQXJyYXkoaS5wYXJhbXMuZGVhbHMpP2kucGFyYW1zLmRlYWxzLmZvckVhY2goZnVuY3Rpb24oZSl7Ty5pc1N0cihlKSYmMzxlLmxlbmd0aD8odC5wbXB8fCh0LnBtcD17cHJpdmF0ZV9hdWN0aW9uOjAsZGVhbHM6W119KSx0LnBtcC5kZWFscy5wdXNoKHtpZDplfSkpOk8ubG9nV2FybihZKyJFcnJvcjogZGVhbC1pZCBwcmVzZW50IGluIGFycmF5IGJpZC5wYXJhbXMuZGVhbHMgc2hvdWxkIGJlIGEgc3RyaW5ncyB3aXRoIG1vcmUgdGhhbiAzIGNoYXJhdGVycyBsZW5ndGgsIGRlYWwtaWQgaWdub3JlZDogIitlKX0pOk8ubG9nV2FybihZKyJFcnJvcjogYmlkLnBhcmFtcy5kZWFscyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncy4iKSksZS5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpKWZvcihkIGluIGUubWVkaWFUeXBlcylzd2l0Y2goZCl7Y2FzZSBTLmI6KHI9ZnVuY3Rpb24oZSl7dmFyIHIsYT1lLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzLHQ9W107aWYoYSE9PXgmJk8uaXNBcnJheShhKSl7aWYocj17fSxlLnBhcmFtcy53aWR0aHx8ZS5wYXJhbXMuaGVpZ2h0KXIudz1lLnBhcmFtcy53aWR0aCxyLmg9ZS5wYXJhbXMuaGVpZ2h0O2Vsc2V7aWYoMD09PWEubGVuZ3RoKXJldHVybiByPXgsTy5sb2dXYXJuKFkrIkVycm9yOiBtZWRpYVR5cGVzLmJhbm5lci5zaXplIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIi4gSWdub3JpbmcgdGhlIGJhbm5lciBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIikscjtyLnc9cGFyc2VJbnQoYVswXVswXSwxMCksci5oPXBhcnNlSW50KGFbMF1bMV0sMTApLGE9YS5zcGxpY2UoMSxhLmxlbmd0aC0xKX0wPGEubGVuZ3RoJiYodD1bXSxhLmZvckVhY2goZnVuY3Rpb24oZSl7MTxlLmxlbmd0aCYmdC5wdXNoKHt3OmVbMF0saDplWzFdfSl9KSwwPHQubGVuZ3RoJiYoci5mb3JtYXQ9dCkpLHIucG9zPTAsci50b3BmcmFtZT1PLmluSWZyYW1lKCk/MDoxfWVsc2UgTy5sb2dXYXJuKFkrIkVycm9yOiBtZWRpYVR5cGVzLmJhbm5lci5zaXplIG1pc3NpbmcgZm9yIGFkdW5pdDogIitlLnBhcmFtcy5hZFVuaXQrIi4gSWdub3JpbmcgdGhlIGJhbm5lciBpbXByZXNzaW9uIGluIHRoZSBhZHVuaXQuIikscj14O3JldHVybiByfShlKSkhPT14JiYocy5iYW5uZXI9cik7YnJlYWs7Y2FzZSBTLmM6bi5yZXF1ZXN0PUpTT04uc3RyaW5naWZ5KGZ1bmN0aW9uKGUpe3ZhciByLGEsdCxpPXthc3NldHM6W119O2Zvcih2YXIgcyBpbiBlKXtpZihlLmhhc093blByb3BlcnR5KHMpKXt2YXIgbj17fTtpZighKGkuYXNzZXRzJiYwPGkuYXNzZXRzLmxlbmd0aCYmaS5hc3NldHMuaGFzT3duUHJvcGVydHkocykpKXN3aXRjaChzKXtjYXNlIGMuVElUTEUuS0VZOmVbc10ubGVufHxlW3NdLmxlbmd0aD9uPXtpZDpjLlRJVExFLklELHJlcXVpcmVkOmVbc10ucmVxdWlyZWQ/MTowLHRpdGxlOntsZW46ZVtzXS5sZW58fGVbc10ubGVuZ3RoLGV4dDplW3NdLmV4dH19Ok8ubG9nV2FybihZKyJFcnJvcjogVGl0bGUgTGVuZ3RoIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgYy5JTUFHRS5LRVk6ZVtzXS5zaXplcyYmMDxlW3NdLnNpemVzLmxlbmd0aD9uPXtpZDpjLklNQUdFLklELHJlcXVpcmVkOmVbc10ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpsLklNQUdFLHc6ZVtzXS53fHxlW3NdLndpZHRofHwoZVtzXS5zaXplcz9lW3NdLnNpemVzWzBdOngpLGg6ZVtzXS5ofHxlW3NdLmhlaWdodHx8KGVbc10uc2l6ZXM/ZVtzXS5zaXplc1sxXTp4KSx3bWluOmVbc10ud21pbnx8ZVtzXS5taW5pbXVtV2lkdGh8fChlW3NdLm1pbnNpemVzP2Vbc10ubWluc2l6ZXNbMF06eCksaG1pbjplW3NdLmhtaW58fGVbc10ubWluaW11bUhlaWdodHx8KGVbc10ubWluc2l6ZXM/ZVtzXS5taW5zaXplc1sxXTp4KSxtaW1lczplW3NdLm1pbWVzLGV4dDplW3NdLmV4dH19Ok8ubG9nV2FybihZKyJFcnJvcjogSW1hZ2Ugc2l6ZXMgaXMgcmVxdWlyZWQgZm9yIG5hdGl2ZSBhZDogIitKU09OLnN0cmluZ2lmeShlKSk7YnJlYWs7Y2FzZSBjLklDT04uS0VZOmVbc10uc2l6ZXMmJjA8ZVtzXS5zaXplcy5sZW5ndGg/bj17aWQ6Yy5JQ09OLklELHJlcXVpcmVkOmVbc10ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpsLklDT04sdzplW3NdLnd8fGVbc10ud2lkdGh8fChlW3NdLnNpemVzP2Vbc10uc2l6ZXNbMF06eCksaDplW3NdLmh8fGVbc10uaGVpZ2h0fHwoZVtzXS5zaXplcz9lW3NdLnNpemVzWzFdOngpfX06Ty5sb2dXYXJuKFkrIkVycm9yOiBJY29uIHNpemVzIGlzIHJlcXVpcmVkIGZvciBuYXRpdmUgYWQ6ICIrSlNPTi5zdHJpbmdpZnkoZSkpO2JyZWFrO2Nhc2UgYy5WSURFTy5LRVk6bj17aWQ6Yy5WSURFTy5JRCxyZXF1aXJlZDplW3NdLnJlcXVpcmVkPzE6MCx2aWRlbzp7bWluZHVyYXRpb246ZVtzXS5taW5kdXJhdGlvbixtYXhkdXJhdGlvbjplW3NdLm1heGR1cmF0aW9uLHByb3RvY29sczplW3NdLnByb3RvY29scyxtaW1lczplW3NdLm1pbWVzLGV4dDplW3NdLmV4dH19O2JyZWFrO2Nhc2UgYy5FWFQuS0VZOm49e2lkOmMuRVhULklELHJlcXVpcmVkOmVbc10ucmVxdWlyZWQ/MTowfTticmVhaztjYXNlIGMuTE9HTy5LRVk6bj17aWQ6Yy5MT0dPLklELHJlcXVpcmVkOmVbc10ucmVxdWlyZWQ/MTowLGltZzp7dHlwZTpsLkxPR08sdzplW3NdLnd8fGVbc10ud2lkdGh8fChlW3NdLnNpemVzP2Vbc10uc2l6ZXNbMF06eCksaDplW3NdLmh8fGVbc10uaGVpZ2h0fHwoZVtzXS5zaXplcz9lW3NdLnNpemVzWzFdOngpfX07YnJlYWs7Y2FzZSBjLlNQT05TT1JFREJZLktFWTpjYXNlIGMuQk9EWS5LRVk6Y2FzZSBjLlJBVElORy5LRVk6Y2FzZSBjLkxJS0VTLktFWTpjYXNlIGMuRE9XTkxPQURTLktFWTpjYXNlIGMuUFJJQ0UuS0VZOmNhc2UgYy5TQUxFUFJJQ0UuS0VZOmNhc2UgYy5QSE9ORS5LRVk6Y2FzZSBjLkFERFJFU1MuS0VZOmNhc2UgYy5ERVNDMi5LRVk6Y2FzZSBjLkRJU1BMQVlVUkwuS0VZOmNhc2UgYy5DVEEuS0VZOnI9aFtzXSxhPWUsdD12b2lkIDAsdD1yLktFWSxuPXtpZDpyLklELHJlcXVpcmVkOmFbdF0ucmVxdWlyZWQ/MTowLGRhdGE6e3R5cGU6ci5UWVBFLGxlbjphW3RdLmxlbixleHQ6YVt0XS5leHR9fX19biYmbi5pZCYmKGkuYXNzZXRzW2kuYXNzZXRzLmxlbmd0aF09bil9dmFyIG89dS5sZW5ndGgsZD0wO3JldHVybiB1LmZvckVhY2goZnVuY3Rpb24oZSl7Zm9yKHZhciByPWkuYXNzZXRzLmxlbmd0aCxhPTA7YTxyO2ErKylpZihlLmlkPT1pLmFzc2V0c1thXS5pZCl7ZCsrO2JyZWFrfX0pLG09byE9ZCxpfShlLm5hdGl2ZVBhcmFtcykpLG0/Ty5sb2dXYXJuKFkrIkVycm9yOiBFcnJvciBpbiBOYXRpdmUgYWR1bml0ICIrZS5wYXJhbXMuYWRVbml0KyIuIElnbm9yaW5nIHRoZSBhZHVuaXQuIFJlZmVyIHRvIGh0dHA6Ly9wcmViaWQub3JnL2Rldi1kb2NzL3Nob3ctbmF0aXZlLWFkcy5odG1sIGZvciBtb3JlIGRldGFpbHMuIik6cy5uYXRpdmU9bjticmVhaztjYXNlIFMuZDooYT1mKGUpKSE9PXgmJihzLnZpZGVvPWEpfWVsc2Ugcj17cG9zOjAsdzplLnBhcmFtcy53aWR0aCxoOmUucGFyYW1zLmhlaWdodCx0b3BmcmFtZTpPLmluSWZyYW1lKCk/MDoxfSxPLmlzQXJyYXkobykmJjE8by5sZW5ndGgmJigobz1vLnNwbGljZSgxLG8ubGVuZ3RoLTEpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3AucHVzaCh7dzplWzBdLGg6ZVsxXX0pfSksci5mb3JtYXQ9cCkscy5iYW5uZXI9cjtyZXR1cm4gZnVuY3Rpb24odCxpKXt2YXIgcz0tMTsiZnVuY3Rpb24iIT10eXBlb2YgaS5nZXRGbG9vcnx8Ui5iLmdldENvbmZpZygicHVibWF0aWMuZGlzYWJsZUZsb29ycyIpfHxbUy5iLFMuZCxTLmNdLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHIsYTt0Lmhhc093blByb3BlcnR5KGUpJiYoIm9iamVjdCIhPT1EKHI9aS5nZXRGbG9vcih7Y3VycmVuY3k6dC5iaWRmbG9vcmN1cixtZWRpYVR5cGU6ZSxzaXplOiIqIn0pKXx8ci5jdXJyZW5jeSE9PXQuYmlkZmxvb3JjdXJ8fGlzTmFOKHBhcnNlSW50KHIuZmxvb3IpKXx8KGE9cGFyc2VGbG9hdChyLmZsb29yKSxzPS0xPT1zP2E6TWF0aC5taW4oYSxzKSkpfSk7dC5iaWRmbG9vciYmKHM9TWF0aC5tYXgocyx0LmJpZGZsb29yKSk7dC5iaWRmbG9vcj0haXNOYU4ocykmJjA8cz9zOnh9KHMsZSkscy5oYXNPd25Qcm9wZXJ0eShTLmIpfHxzLmhhc093blByb3BlcnR5KFMuYyl8fHMuaGFzT3duUHJvcGVydHkoUy5kKT9zOnh9Ty5fZWFjaChjLGZ1bmN0aW9uKGUpe2dbZS5JRF09ZS5LRVl9KSxPLl9lYWNoKGMsZnVuY3Rpb24oZSl7aFtlLktFWV09ZX0pO3ZhciBiPXtjb2RlOiJwdWJtYXRpYyIsZ3ZsaWQ6NzYsc3VwcG9ydGVkTWVkaWFUeXBlczpbUy5iLFMuZCxTLmNdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKGUmJmUucGFyYW1zKXtpZighTy5pc1N0cihlLnBhcmFtcy5wdWJsaXNoZXJJZCkpcmV0dXJuIE8ubG9nV2FybihZKyJFcnJvcjogcHVibGlzaGVySWQgaXMgbWFuZGF0b3J5IGFuZCBjYW5ub3QgYmUgbnVtZXJpYyAod3JhcCBpdCBpbiBxdW90ZXMgaW4geW91ciBjb25maWcpLiBDYWxsIHRvIE9wZW5CaWQgd2lsbCBub3QgYmUgc2VudCBmb3IgYWQgdW5pdDogIitKU09OLnN0cmluZ2lmeShlKSksITE7aWYoZS5wYXJhbXMuaGFzT3duUHJvcGVydHkoInZpZGVvIikpe2lmKCFlLnBhcmFtcy52aWRlby5oYXNPd25Qcm9wZXJ0eSgibWltZXMiKXx8IU8uaXNBcnJheShlLnBhcmFtcy52aWRlby5taW1lcyl8fDA9PT1lLnBhcmFtcy52aWRlby5taW1lcy5sZW5ndGgpcmV0dXJuIE8ubG9nV2FybihZKyJFcnJvcjogRm9yIHZpZGVvIGFkcywgbWltZXMgaXMgbWFuZGF0b3J5IGFuZCBtdXN0IHNwZWNpZnkgYXRsZWFzZSAxIG1pbWUgdmFsdWUuIENhbGwgdG8gT3BlbkJpZCB3aWxsIG5vdCBiZSBzZW50IGZvciBhZCB1bml0OiIrSlNPTi5zdHJpbmdpZnkoZSkpLCExO2lmKCFlLmhhc093blByb3BlcnR5KCJtZWRpYVR5cGVzIil8fCFlLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkoUy5kKSlyZXR1cm4gTy5sb2dFcnJvcigiIi5jb25jYXQoWSwiOiBtZWRpYVR5cGVzIG9yIG1lZGlhVHlwZXMudmlkZW8gaXMgbm90IHNwZWNpZmllZC4gUmVqZWN0aW5nIGJpZDogIiksZSksITE7aWYoIWUubWVkaWFUeXBlc1tTLmRdLmhhc093blByb3BlcnR5KCJjb250ZXh0IikpcmV0dXJuIE8ubG9nRXJyb3IoIiIuY29uY2F0KFksIjogbm8gY29udGV4dCBzcGVjaWZpZWQgaW4gYmlkLiBSZWplY3RpbmcgYmlkOiAiKSxlKSwhMTtpZigib3V0c3RyZWFtIj09PWUubWVkaWFUeXBlc1tTLmRdLmNvbnRleHQmJiFPLmlzU3RyKGUucGFyYW1zLm91dHN0cmVhbUFVKSlyZXR1cm4gTy5sb2dFcnJvcigiIi5jb25jYXQoWSwnOiBmb3IgIm91dHN0cmVhbSIgYmlkcyBvdXRzdHJlYW1BVSBpcyByZXF1aXJlZC4gUmVqZWN0aW5nIGJpZDogJyksZSksITF9cmV0dXJuITB9cmV0dXJuITF9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgYTtyJiZyLnJlZmVyZXJJbmZvJiYoYT1yLnJlZmVyZXJJbmZvKTt2YXIgdCxpLHMsbixvLGQscCxjLGwsdSxtLGcsaCxmLGIseSx2PXtwYWdlVVJMOih0PWEpJiZ0LnJlZmVyZXI/dC5yZWZlcmVyOndpbmRvdy5sb2NhdGlvbi5ocmVmLHJlZlVSTDp3aW5kb3cuZG9jdW1lbnQucmVmZXJyZXJ9LEU9KGk9dix7aWQ6IiIrKG5ldyBEYXRlKS5nZXRUaW1lKCksYXQ6MSxjdXI6W0FdLGltcDpbXSxzaXRlOntwYWdlOmkucGFnZVVSTCxyZWY6aS5yZWZVUkwscHVibGlzaGVyOnt9fSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsanM6MSxkbnQ6InllcyI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5kb05vdFRyYWNrfHwiMSI9PW5hdmlnYXRvci5tc0RvTm90VHJhY2s/MTowLGg6c2NyZWVuLmhlaWdodCx3OnNjcmVlbi53aWR0aCxsYW5ndWFnZTpuYXZpZ2F0b3IubGFuZ3VhZ2V9LHVzZXI6e30sZXh0Ont9fSksST0iIix3PVtdLFQ9W107aWYoZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByOyhzPU8uZGVlcENsb25lKGUpKS5wYXJhbXMuYWRTbG90PXMucGFyYW1zLmFkU2xvdHx8IiIsVShzKSxzLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKXx8cy5oYXNPd25Qcm9wZXJ0eSgibWVkaWFUeXBlcyIpJiZzLm1lZGlhVHlwZXMuaGFzT3duUHJvcGVydHkoUy5jKXx8MCE9PXMucGFyYW1zLndpZHRofHwwIT09cy5wYXJhbXMuaGVpZ2h0Pyh2LnB1YklkPXYucHViSWR8fHMucGFyYW1zLnB1Ymxpc2hlcklkLCh2PWZ1bmN0aW9uKGUscil7dmFyIGEsdCxpO2ZvcihhIGluIHIua2FkcGFnZXVybHx8KHIua2FkcGFnZXVybD1yLnBhZ2VVUkwpLE4pTi5oYXNPd25Qcm9wZXJ0eShhKSYmKHQ9ZVthXSkmJigib2JqZWN0Ij09PUQoaT1OW2FdKSYmKHQ9aS5mKHQscikpLE8uaXNTdHIodCk/clthXT10Ok8ubG9nV2FybihZKyJJZ25vcmluZyBwYXJhbSA6ICIrYSsiIHdpdGggdmFsdWUgOiAiK05bYV0rIiwgZXhwZWN0cyBzdHJpbmctdmFsdWUsIGZvdW5kICIrRCh0KSkpO3JldHVybiByfShzLnBhcmFtcyx2KSkudHJhbnNhY3Rpb25JZD1zLnRyYW5zYWN0aW9uSWQsIiI9PT1JP0k9cy5wYXJhbXMuY3VycmVuY3l8fHg6cy5wYXJhbXMuaGFzT3duUHJvcGVydHkoImN1cnJlbmN5IikmJkkhPT1zLnBhcmFtcy5jdXJyZW5jeSYmTy5sb2dXYXJuKFkrIkN1cnJlbmN5IHNwZWNpZmllciBpZ25vcmVkLiBPbmx5IG9uZSBjdXJyZW5jeSBwZXJtaXR0ZWQuIikscy5wYXJhbXMuY3VycmVuY3k9SSxzLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgiZGN0ciIpJiZPLmlzU3RyKHMucGFyYW1zLmRjdHIpJiZ3LnB1c2gocy5wYXJhbXMuZGN0cikscy5wYXJhbXMuaGFzT3duUHJvcGVydHkoImJjYXQiKSYmTy5pc0FycmF5KHMucGFyYW1zLmJjYXQpJiYoVD1ULmNvbmNhdChzLnBhcmFtcy5iY2F0KSksKHI9eihzKSkmJkUuaW1wLnB1c2gocikpOk8ubG9nV2FybihZKyJTa2lwcGluZyB0aGUgbm9uLXN0YW5kYXJkIGFkc2xvdDogIixzLnBhcmFtcy5hZFNsb3QsSlNPTi5zdHJpbmdpZnkocykpfSksMCE9RS5pbXAubGVuZ3RoKXJldHVybiBFLnNpdGUucHVibGlzaGVyLmlkPXYucHViSWQudHJpbSgpLGs9di5wdWJJZC50cmltKCksRS5leHQud3JhcHBlcj17fSxFLmV4dC53cmFwcGVyLnByb2ZpbGU9cGFyc2VJbnQodi5wcm9mSWQpfHx4LEUuZXh0LndyYXBwZXIudmVyc2lvbj1wYXJzZUludCh2LnZlcklkKXx8eCxFLmV4dC53cmFwcGVyLndpaWQ9di53aWlkfHxyLmF1Y3Rpb25JZCxFLmV4dC53cmFwcGVyLnd2PSJwcmViaWRfcHJlYmlkXzQuMTcuMCIsRS5leHQud3JhcHBlci50cmFuc2FjdGlvbklkPXYudHJhbnNhY3Rpb25JZCxFLmV4dC53cmFwcGVyLndwPSJwYmpzIixFLnVzZXIuZ2VuZGVyPXYuZ2VuZGVyP3YuZ2VuZGVyLnRyaW0oKTp4LEUudXNlci5nZW89e30sRS51c2VyLmdlby5sYXQ9QygibGF0Iix2LmxhdCksRS51c2VyLmdlby5sb249QygibG9uIix2LmxvbiksRS51c2VyLnlvYj1DKCJ5b2IiLHYueW9iKSxFLmRldmljZS5nZW89RS51c2VyLmdlbyxFLnNpdGUucGFnZT12LmthZHBhZ2V1cmwudHJpbSgpfHxFLnNpdGUucGFnZS50cmltKCksRS5zaXRlLmRvbWFpbj0obj1FLnNpdGUucGFnZSwobz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJhIikpLmhyZWY9bixvLmhvc3RuYW1lKSwib2JqZWN0Ij09PUQoUi5iLmdldENvbmZpZygiY29udGVudCIpKSYmKEUuc2l0ZS5jb250ZW50PVIuYi5nZXRDb25maWcoImNvbnRlbnQiKSksIm9iamVjdCI9PT1EKFIuYi5nZXRDb25maWcoImRldmljZSIpKSYmKEUuZGV2aWNlPVAoRS5kZXZpY2UsUi5iLmdldENvbmZpZygiZGV2aWNlIikpKSxPLmRlZXBTZXRWYWx1ZShFLCJzb3VyY2UudGlkIix2LnRyYW5zYWN0aW9uSWQpLC0xIT09d2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZigicHVibWF0aWNUZXN0PXRydWUiKSYmKEUudGVzdD0xKSxlWzBdLnNjaGFpbiYmTy5kZWVwU2V0VmFsdWUoRSwic291cmNlLmV4dC5zY2hhaW4iLGVbMF0uc2NoYWluKSxyJiZyLmdkcHJDb25zZW50JiYoTy5kZWVwU2V0VmFsdWUoRSwidXNlci5leHQuY29uc2VudCIsci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxPLmRlZXBTZXRWYWx1ZShFLCJyZWdzLmV4dC5nZHByIixyLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzPzE6MCkpLHImJnIudXNwQ29uc2VudCYmTy5kZWVwU2V0VmFsdWUoRSwicmVncy5leHQudXNfcHJpdmFjeSIsci51c3BDb25zZW50KSwhMD09PVIuYi5nZXRDb25maWcoImNvcHBhIikmJk8uZGVlcFNldFZhbHVlKEUsInJlZ3MuY29wcGEiLDEpLGQ9RSxjPWUsbT0iIiwwPChwPXcpLmxlbmd0aCYmKGNbMF0ucGFyYW1zLmhhc093blByb3BlcnR5KCJkY3RyIik/KG09Y1swXS5wYXJhbXMuZGN0cixPLmlzU3RyKG0pJiYwPG0ubGVuZ3RoPyh1PW0uc3BsaXQoInwiKSxtPSIiLHUuZm9yRWFjaChmdW5jdGlvbihlKXttKz0wPGUubGVuZ3RoP2UudHJpbSgpKyJ8IjoiIn0pLGw9bS5sZW5ndGgsInwiPT09bS5zdWJzdHJpbmcobCxsLTEpJiYobT1tLnN1YnN0cmluZygwLGwtMSkpLGQuc2l0ZS5leHQ9e2tleV92YWw6bS50cmltKCl9KTpPLmxvZ1dhcm4oWSsiSWdub3JpbmcgcGFyYW0gOiBkY3RyIHdpdGggdmFsdWUgOiAiK20rIiwgZXhwZWN0cyBzdHJpbmctdmFsdWUsIGZvdW5kIGVtcHR5IG9yIG5vbi1zdHJpbmcgdmFsdWUiKSwxPHAubGVuZ3RoJiZPLmxvZ1dhcm4oWSsiZGN0ciB2YWx1ZSBmb3VuZCBpbiBtb3JlIHRoYW4gMSBhZHVuaXRzLiBWYWx1ZSBmcm9tIDFzdCBhZHVuaXQgd2lsbCBiZSBwaWNrZWQuIElnbm9yaW5nIHZhbHVlcyBmcm9tIHN1YnNlcXVlbnQgYWR1bml0cyIpKTpPLmxvZ1dhcm4oWSsiZGN0ciB2YWx1ZSBub3QgZm91bmQgaW4gMXN0IGFkdW5pdCwgaWdub3JpbmcgdmFsdWVzIGZyb20gc3Vic2VxdWVudCBhZHVuaXRzIikpLGc9RSxoPWUsZj1PLmRlZXBBY2Nlc3MoaCwiMC51c2VySWRBc0VpZHMiKSxPLmlzQXJyYXkoZikmJjA8Zi5sZW5ndGgmJk8uZGVlcFNldFZhbHVlKGcsInVzZXIuZWlkcyIsZiksYj1FLDA8KHk9KHk9VCkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJzdHJpbmciPT10eXBlb2YgZXx8KE8ubG9nV2FybihZKyJiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBiZSBhIHN0cmluZywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSksITEpfSkubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKX0pLmZpbHRlcihmdW5jdGlvbihlLHIsYSl7cmV0dXJuIDM8ZS5sZW5ndGg/YS5pbmRleE9mKGUpPT09cjp2b2lkIE8ubG9nV2FybihZKyJiY2F0OiBFYWNoIGNhdGVnb3J5IHNob3VsZCBoYXZlIGEgdmFsdWUgb2YgYSBsZW5ndGggb2YgbW9yZSB0aGFuIDMgY2hhcmFjdGVycywgaWdub3JpbmcgY2F0ZWdvcnk6ICIrZSl9KSkubGVuZ3RoJiYoTy5sb2dXYXJuKFkrImJjYXQ6IFNlbGVjdGVkOiAiLHkpLGIuYmNhdD15KSwib2JqZWN0Ij09PUQoUi5iLmdldENvbmZpZygiYXBwIikpJiYoRS5hcHA9Ui5iLmdldENvbmZpZygiYXBwIiksRS5hcHAucHVibGlzaGVyPUUuc2l0ZS5wdWJsaXNoZXIsRS5hcHAuZXh0PUUuc2l0ZS5leHR8fHgsIm9iamVjdCIhPT1EKEUuYXBwLmNvbnRlbnQpJiYoRS5hcHAuY29udGVudD1FLnNpdGUuY29udGVudHx8eCksZGVsZXRlIEUuc2l0ZSkse21ldGhvZDoiUE9TVCIsdXJsOiJodHRwczovL2hib3BlbmJpZC5wdWJtYXRpYy5jb20vdHJhbnNsYXRvcj9zb3VyY2U9cHJlYmlkLWNsaWVudCIsZGF0YTpKU09OLnN0cmluZ2lmeShFKSxiaWRkZXJSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBpPVtdLHM9QSxuPUpTT04ucGFyc2UodC5kYXRhKSxvPW4uc2l0ZSYmbi5zaXRlLnJlZj9uLnNpdGUucmVmOiIiO3RyeXtlLmJvZHkmJmUuYm9keS5zZWF0YmlkJiZPLmlzQXJyYXkoZS5ib2R5LnNlYXRiaWQpJiYocz1lLmJvZHkuY3VyfHxzLGUuYm9keS5zZWF0YmlkLmZvckVhY2goZnVuY3Rpb24oZSl7ZS5iaWQmJk8uaXNBcnJheShlLmJpZCkmJmUuYmlkLmZvckVhY2goZnVuY3Rpb24ocil7dmFyIGE9e3JlcXVlc3RJZDpyLmltcGlkLGNwbToocGFyc2VGbG9hdChyLnByaWNlKXx8MCkudG9GaXhlZCgyKSx3aWR0aDpyLncsaGVpZ2h0OnIuaCxjcmVhdGl2ZUlkOnIuY3JpZCxkZWFsSWQ6ci5kZWFsaWQsY3VycmVuY3k6cyxuZXRSZXZlbnVlOiExLHR0bDozMDAscmVmZXJyZXI6byxhZDpyLmFkbSxwbV9zZWF0OmUuc2VhdHx8bnVsbCxwbV9kc3BpZDpyLmV4dCYmci5leHQuZHNwaWQ/ci5leHQuZHNwaWQ6bnVsbCxwYXJ0bmVySW1wSWQ6ci5pZHx8IiJ9O24uaW1wJiYwPG4uaW1wLmxlbmd0aCYmbi5pbXAuZm9yRWFjaChmdW5jdGlvbihlKXtpZihyLmltcGlkPT09ZS5pZClzd2l0Y2goIWZ1bmN0aW9uKHIsZSl7dmFyIGEsdD1uZXcgUmVnRXhwKC9WQVNUXHMrdmVyc2lvbi8pO2lmKDA8PXIuaW5kZXhPZignc3BhbiBjbGFzcz0iUHViQVBJQWQiJykpZS5tZWRpYVR5cGU9Uy5iO2Vsc2UgaWYodC50ZXN0KHIpKWUubWVkaWFUeXBlPVMuZDtlbHNlIHRyeXsoYT1KU09OLnBhcnNlKHIucmVwbGFjZSgvXFwvZywiIikpKSYmYS5uYXRpdmUmJihlLm1lZGlhVHlwZT1TLmMpfWNhdGNoKGUpe08ubG9nV2FybihZKyJFcnJvcjogQ2Fubm90IHBhcnNlIG5hdGl2ZSByZXBvbnNlIGZvciBhZCByZXNwb25zZTogIityKX19KHIuYWRtLGEpLGEubWVkaWFUeXBlKXtjYXNlIFMuYjpicmVhaztjYXNlIFMuZDphLndpZHRoPXIuaGFzT3duUHJvcGVydHkoInciKT9yLnc6ZS52aWRlby53LGEuaGVpZ2h0PXIuaGFzT3duUHJvcGVydHkoImgiKT9yLmg6ZS52aWRlby5oLGEudmFzdFhtbD1yLmFkbSxmdW5jdGlvbihlLHIpe3ZhciBhLHQsaTtpZihyLmJpZGRlclJlcXVlc3QmJnIuYmlkZGVyUmVxdWVzdC5iaWRzKXtmb3IodmFyIHM9MDtzPHIuYmlkZGVyUmVxdWVzdC5iaWRzLmxlbmd0aDtzKyspci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10uYmlkSWQ9PT1lLnJlcXVlc3RJZCYmKGE9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10ucGFyYW1zLHQ9ci5iaWRkZXJSZXF1ZXN0LmJpZHNbc10ubWVkaWFUeXBlc1tTLmRdLmNvbnRleHQsaT1yLmJpZGRlclJlcXVlc3QuYmlkc1tzXS5hZFVuaXRDb2RlKTt0JiYib3V0c3RyZWFtIj09PXQmJmEmJmEub3V0c3RyZWFtQVUmJmkmJihlLnJlbmRlcmVyQ29kZT1hLm91dHN0cmVhbUFVLGUucmVuZGVyZXI9cC5uZXdSZW5kZXJlcihlLnJlbmRlcmVyQ29kZSxpKSl9fShhLHQpO2JyZWFrO2Nhc2UgUy5jOiFmdW5jdGlvbihlLHIpe2lmKHIubmF0aXZlPXt9LGUuaGFzT3duUHJvcGVydHkoImFkbSIpKXt2YXIgYT0iIjt0cnl7YT1KU09OLnBhcnNlKGUuYWRtLnJlcGxhY2UoL1xcL2csIiIpKX1jYXRjaChlKXtyZXR1cm4gTy5sb2dXYXJuKFkrIkVycm9yOiBDYW5ub3QgcGFyc2UgbmF0aXZlIHJlcG9uc2UgZm9yIGFkIHJlc3BvbnNlOiAiK3IuYWRtKX1pZihhJiZhLm5hdGl2ZSYmYS5uYXRpdmUuYXNzZXRzJiYwPGEubmF0aXZlLmFzc2V0cy5sZW5ndGgpe3IubWVkaWFUeXBlPVMuYztmb3IodmFyIHQ9MCxpPWEubmF0aXZlLmFzc2V0cy5sZW5ndGg7dDxpO3QrKylzd2l0Y2goYS5uYXRpdmUuYXNzZXRzW3RdLmlkKXtjYXNlIGMuVElUTEUuSUQ6ci5uYXRpdmUudGl0bGU9YS5uYXRpdmUuYXNzZXRzW3RdLnRpdGxlJiZhLm5hdGl2ZS5hc3NldHNbdF0udGl0bGUudGV4dDticmVhaztjYXNlIGMuSU1BR0UuSUQ6ci5uYXRpdmUuaW1hZ2U9e3VybDphLm5hdGl2ZS5hc3NldHNbdF0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbdF0uaW1nLnVybCxoZWlnaHQ6YS5uYXRpdmUuYXNzZXRzW3RdLmltZyYmYS5uYXRpdmUuYXNzZXRzW3RdLmltZy5oLHdpZHRoOmEubmF0aXZlLmFzc2V0c1t0XS5pbWcmJmEubmF0aXZlLmFzc2V0c1t0XS5pbWcud307YnJlYWs7Y2FzZSBjLklDT04uSUQ6ci5uYXRpdmUuaWNvbj17dXJsOmEubmF0aXZlLmFzc2V0c1t0XS5pbWcmJmEubmF0aXZlLmFzc2V0c1t0XS5pbWcudXJsLGhlaWdodDphLm5hdGl2ZS5hc3NldHNbdF0uaW1nJiZhLm5hdGl2ZS5hc3NldHNbdF0uaW1nLmgsd2lkdGg6YS5uYXRpdmUuYXNzZXRzW3RdLmltZyYmYS5uYXRpdmUuYXNzZXRzW3RdLmltZy53fTticmVhaztjYXNlIGMuU1BPTlNPUkVEQlkuSUQ6Y2FzZSBjLkJPRFkuSUQ6Y2FzZSBjLkxJS0VTLklEOmNhc2UgYy5ET1dOTE9BRFMuSUQ6Y2FzZSBjLlBSSUNFOmNhc2UgYy5TQUxFUFJJQ0UuSUQ6Y2FzZSBjLlBIT05FLklEOmNhc2UgYy5BRERSRVNTLklEOmNhc2UgYy5ERVNDMi5JRDpjYXNlIGMuQ1RBLklEOmNhc2UgYy5SQVRJTkcuSUQ6Y2FzZSBjLkRJU1BMQVlVUkwuSUQ6ci5uYXRpdmVbZ1thLm5hdGl2ZS5hc3NldHNbdF0uaWRdXT1hLm5hdGl2ZS5hc3NldHNbdF0uZGF0YSYmYS5uYXRpdmUuYXNzZXRzW3RdLmRhdGEudmFsdWV9ci5uYXRpdmUuY2xpY2tVcmw9YS5uYXRpdmUubGluayYmYS5uYXRpdmUubGluay51cmwsci5uYXRpdmUuY2xpY2tUcmFja2Vycz1hLm5hdGl2ZS5saW5rJiZhLm5hdGl2ZS5saW5rLmNsaWNrdHJhY2tlcnN8fFtdLHIubmF0aXZlLmltcHJlc3Npb25UcmFja2Vycz1hLm5hdGl2ZS5pbXB0cmFja2Vyc3x8W10sci5uYXRpdmUuanN0cmFja2VyPWEubmF0aXZlLmpzdHJhY2tlcnx8W10sci53aWR0aHx8KHIud2lkdGg9MCksci5oZWlnaHR8fChyLmhlaWdodD0wKX19fShyLGEpfX0pLHIuZXh0JiZyLmV4dC5kZWFsX2NoYW5uZWwmJihhLmRlYWxDaGFubmVsPWRbci5leHQuZGVhbF9jaGFubmVsXXx8bnVsbCksYS5tZXRhPXt9LHIuZXh0JiZyLmV4dC5kc3BpZCYmKGEubWV0YS5uZXR3b3JrSWQ9ci5leHQuZHNwaWQpLHIuZXh0JiZyLmV4dC5hZHZpZCYmKGEubWV0YS5idXllcklkPXIuZXh0LmFkdmlkKSxyLmFkb21haW4mJjA8ci5hZG9tYWluLmxlbmd0aCYmKGEubWV0YS5hZHZlcnRpc2VyRG9tYWlucz1yLmFkb21haW4sYS5tZXRhLmNsaWNrVXJsPXIuYWRvbWFpblswXSksZS5leHQmJmUuZXh0LmJ1eWlkJiYoYS5hZHNlcnZlclRhcmdldGluZz17aGJfYnV5aWRfcHVibWF0aWM6ZS5leHQuYnV5aWR9KSxpLnB1c2goYSl9KX0pKX1jYXRjaChlKXtPLmxvZ0Vycm9yKGUpfXJldHVybiBpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLGEsdCl7dmFyIGk9IiIraztyZXR1cm4gYSYmKGkrPSImZ2Rwcj0iKyhhLmdkcHJBcHBsaWVzPzE6MCksaSs9IiZnZHByX2NvbnNlbnQ9IitlbmNvZGVVUklDb21wb25lbnQoYS5jb25zZW50U3RyaW5nfHwiIikpLHQmJihpKz0iJnVzX3ByaXZhY3k9IitlbmNvZGVVUklDb21wb25lbnQodCkpLCEwPT09Ui5iLmdldENvbmZpZygiY29wcGEiKSYmKGkrPSImY29wcGE9MSIpLGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2Fkcy5wdWJtYXRpYy5jb20vQWRTZXJ2ZXIvanMvc2hvd2FkLmpzI1BJWCZrZG50dWlkPTEmcD0iK2l9XTpbe3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8vaW1hZ2U4LnB1Ym1hdGljLmNvbS9BZFNlcnZlci9JbWdTeW5jP3A9IitpfV19LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gTy5jb252ZXJ0VHlwZXMoe3B1Ymxpc2hlcklkOiJzdHJpbmciLGFkU2xvdDoic3RyaW5nIn0sZSl9fTtPYmplY3QodC5yZWdpc3RlckJpZGRlcikoYil9fSxbNjcwXSk7CnVwYmpzQ2h1bmsoWzE1MV0sezY4NDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNjg1KX0sNjg1OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBpfSk7dmFyIGM9dCgwKSxuPXQoMSkscD10KDExKTtmdW5jdGlvbiBhKCl7cmV0dXJuKGE9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24oZSl7Zm9yKHZhciByPTE7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyl7dmFyIHQ9YXJndW1lbnRzW3JdO2Zvcih2YXIgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoZVtuXT10W25dKX1yZXR1cm4gZX0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX12YXIgcz17VElUTEVfTEVOOjEwMCxERVNDUl9MRU46MjAwLFNQT05TT1JFRF9CWV9MRU46NTAsSU1HX01JTjoxNTAsSUNPTl9NSU46NTB9LGQ9WyJjcCIsImN0IiwiY2YiLCJ2aWRlbyIsImJhdHRyIiwiYmNhdCIsImJhZHYiLCJiaWRmbG9vciJdLGk9e2NvZGU6InB1bHNlcG9pbnQiLGd2bGlkOjgxLGFsaWFzZXM6WyJwdWxzZUxpdGUiLCJwdWxzZXBvaW50TGl0ZSJdLHN1cHBvcnRlZE1lZGlhVHlwZXM6WyJiYW5uZXIiLCJuYXRpdmUiLCJ2aWRlbyJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJmUucGFyYW1zJiZlLnBhcmFtcy5jcCYmZS5wYXJhbXMuY3QpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIHQsbixpO3JldHVybnttZXRob2Q6IlBPU1QiLHVybDoiaHR0cHM6Ly9iaWQuY29udGV4dHdlYi5jb20vaGVhZGVyL29ydGI/c3JjPXByZWJpZCIsZGF0YTp7aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmUubWFwKGZ1bmN0aW9uKGUpe3JldHVybntpZDoocj1lKS5iaWRJZCxiYW5uZXI6ZnVuY3Rpb24oZSl7dmFyIHI9ZnVuY3Rpb24oZSl7dmFyIHI9Yy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik7cmV0dXJuIHImJmMuaXNBcnJheShyKT9yLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gYy5pc0FycmF5KGUpJiYyPT09ZS5sZW5ndGh9KS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSk6bnVsbH0oZSksdD1mdW5jdGlvbihlLHIpe2lmKGUucGFyYW1zLmNmKXt2YXIgdD1lLnBhcmFtcy5jZi50b1VwcGVyQ2FzZSgpLnNwbGl0KCJYIiksbj1wYXJzZUludChlLnBhcmFtcy5jd3x8dFswXSwxMCksaT1wYXJzZUludChlLnBhcmFtcy5jaHx8dFsxXSwxMCk7cmV0dXJuW24saV19cmV0dXJuIHImJjA8ci5sZW5ndGg/W3JbMF0udyxyWzBdLmhdOlsxLDFdfShlLHIpO3JldHVybiBlLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXI/e3c6dFswXSxoOnRbMV0sYmF0dHI6ZS5wYXJhbXMuYmF0dHIsZm9ybWF0OnJ9Om51bGx9KHIpLG5hdGl2ZTpmdW5jdGlvbihlKXtpZihlLm5hdGl2ZVBhcmFtcyl7dmFyIHI9W107cmV0dXJuIHUocixmdW5jdGlvbihlLHIsdCl7cmV0dXJuIHI/e2lkOmUscmVxdWlyZWQ6ci5yZXF1aXJlZD8xOjAsdGl0bGU6e2xlbjpyLmxlbnx8dH19Om51bGx9KHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMudGl0bGUscy5USVRMRV9MRU4pKSx1KHIsbChyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmJvZHksMixzLkRFU0NSX0xFTikpLHUocixsKHIubGVuZ3RoKzEsZS5uYXRpdmVQYXJhbXMuc3BvbnNvcmVkQnksMSxzLlNQT05TT1JFRF9CWV9MRU4pKSx1KHIsbyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmljb24sMSxzLklDT05fTUlOLHMuSUNPTl9NSU4pKSx1KHIsbyhyLmxlbmd0aCsxLGUubmF0aXZlUGFyYW1zLmltYWdlLDMscy5JTUdfTUlOLHMuSU1HX01JTikpLHtyZXF1ZXN0OkpTT04uc3RyaW5naWZ5KHthc3NldHM6cn0pLHZlcjoiMS4xIixiYXR0cjplLnBhcmFtcy5iYXR0cn19cmV0dXJuIG51bGx9KHIpLHRhZ2lkOnIucGFyYW1zLmN0LnRvU3RyaW5nKCksdmlkZW86ZnVuY3Rpb24oZSl7cmV0dXJuIGUucGFyYW1zLnZpZGVvP2Eoe30sZS5wYXJhbXMudmlkZW8se2JhdHRyOmUucGFyYW1zLmJhdHRyfSk6bnVsbH0ociksYmlkZmxvb3I6ci5wYXJhbXMuYmlkZmxvb3IsZXh0OmZ1bmN0aW9uKHIpe3ZhciB0PXt9LG49e307cmV0dXJuIGQuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gbltlXT0xfSksT2JqZWN0LmtleXMoci5wYXJhbXMpLmZvckVhY2goZnVuY3Rpb24oZSl7bltlXXx8KHRbZV09ci5wYXJhbXNbZV0pfSksMDxPYmplY3Qua2V5cyh0KS5sZW5ndGg/e3ByZWJpZDp0fTpudWxsfShyKX07dmFyIHJ9KSxzaXRlOihuPXIsaT0odD1lKSYmMDx0Lmxlbmd0aD90WzBdLnBhcmFtcy5jcDoiMCIsdFswXS5wYXJhbXMuYXBwP251bGw6e3B1Ymxpc2hlcjp7aWQ6aS50b1N0cmluZygpfSxyZWY6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHdpbmRvdy50b3AuZG9jdW1lbnQucmVmZXJyZXJ9Y2F0Y2goZSl7cmV0dXJuIGRvY3VtZW50LnJlZmVycmVyfX0oKSxwYWdlOm4mJm4ucmVmZXJlckluZm8/bi5yZWZlcmVySW5mby5yZWZlcmVyOiIifSksYXBwOmZ1bmN0aW9uKGUpe3ZhciByPWUmJjA8ZS5sZW5ndGg/ZVswXS5wYXJhbXMuY3A6IjAiLHQ9ZVswXS5wYXJhbXMuYXBwO2lmKHQpcmV0dXJue3B1Ymxpc2hlcjp7aWQ6ci50b1N0cmluZygpfSxidW5kbGU6dC5idW5kbGUsc3RvcmV1cmw6dC5zdG9yZVVybCxkb21haW46dC5kb21haW59O3JldHVybiBudWxsfShlKSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsbGFuZ3VhZ2U6bmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IuYnJvd3Nlckxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHxuYXZpZ2F0b3Iuc3lzdGVtTGFuZ3VhZ2V9LGJjYXQ6ZVswXS5wYXJhbXMuYmNhdCxiYWR2OmVbMF0ucGFyYW1zLmJhZHYsdXNlcjpmdW5jdGlvbihlLHIpe3ZhciB0PXt9O3ImJnIuZ2RwckNvbnNlbnQmJih0LmNvbnNlbnQ9ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKTt7dmFyIG4saTtlJiZlLnVzZXJJZCYmKHQuZWlkcz1bXSxtKHQuZWlkcyxlLnVzZXJJZC5wdWJjaWQsInB1YmNvbW1vbiIpLG0odC5laWRzLGUudXNlcklkLmJyaXRlcG9vbGlkLCJicml0ZXBvb2wuY29tIiksbSh0LmVpZHMsZS51c2VySWQuY3JpdGVvSWQsImNyaXRlbyIpLG0odC5laWRzLGUudXNlcklkLmlkbF9lbnYsImlkZW50aXR5TGluayIpLG0odC5laWRzLGMuZGVlcEFjY2VzcyhlLCJ1c2VySWQuaWQ1aWQudWlkIiksImlkNS1zeW5jLmNvbSIsYy5kZWVwQWNjZXNzKGUsInVzZXJJZC5pZDVpZC5leHQiKSksbSh0LmVpZHMsYy5kZWVwQWNjZXNzKGUsInVzZXJJZC5wYXJyYWJsZUlkLmVpZCIpLCJwYXJyYWJsZS5jb20iKSxlLnVzZXJJZC5saXBiJiZlLnVzZXJJZC5saXBiLmxpcGJpZCYmbSh0LmVpZHMsZS51c2VySWQubGlwYi5saXBiaWQsImxpdmVpbnRlbnQuY29tIiksbSh0LmVpZHMsZS51c2VySWQudGRpZCwiYWRzZXJ2ZXIub3JnIix7cnRpUGFydG5lcjoiVERJRCJ9KSwobj1lLnVzZXJJZC5kaWdpdHJ1c3RpZCkmJm4uZGF0YSYmKGk9e30sbi5kYXRhLmlkJiYoaS5pZD1uLmRhdGEuaWQpLG4uZGF0YS5rZXl2JiYoaS5rZXl2PW4uZGF0YS5rZXl2KSx0LmRpZ2l0cnVzdD1pKSl9cmV0dXJue2V4dDp0fX0oZVswXSxyKSxyZWdzOmZ1bmN0aW9uKGUpe2lmKGUuZ2RwckNvbnNlbnR8fGUudXNwQ29uc2VudCl7dmFyIHI9e307cmV0dXJuIGUuZ2RwckNvbnNlbnQmJihyLmdkcHI9ZS5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLGUudXNwQ29uc2VudCYmKHIudXNfcHJpdmFjeT1lLnVzcENvbnNlbnQpLHtleHQ6cn19cmV0dXJuIG51bGx9KHIpLHNvdXJjZTpmdW5jdGlvbihlKXtpZihlKXJldHVybntleHQ6e3NjaGFpbjplfX07cmV0dXJuIG51bGx9KGVbMF0uc2NoYWluKX0sYmlkZGVyUmVxdWVzdDpyfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZnVuY3Rpb24oZSxyKXt2YXIgYT17fSxzPXt9LGQ9e30sdT1yLmJvZHk7ZS5kYXRhLmltcC5mb3JFYWNoKGZ1bmN0aW9uKGUpe2FbZS5pZF09ZX0pLHUmJnUuc2VhdGJpZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3JldHVybiBlLmJpZC5mb3JFYWNoKGZ1bmN0aW9uKGUpe3NbZS5pbXBpZF09ZX0pfSk7ZS5iaWRkZXJSZXF1ZXN0JiZlLmJpZGRlclJlcXVlc3QuYmlkcyYmZS5iaWRkZXJSZXF1ZXN0LmJpZHMuZm9yRWFjaChmdW5jdGlvbihlKXtkW2UuYmlkSWRdPWV9KTt2YXIgbz1bXTtyZXR1cm4gT2JqZWN0LmtleXMoYSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcix0LG4saTtzW2VdJiYocj17cmVxdWVzdElkOmUsY3BtOnNbZV0ucHJpY2UsY3JlYXRpdmVfaWQ6c1tlXS5jcmlkLGNyZWF0aXZlSWQ6c1tlXS5jcmlkLGFkSWQ6ZSx0dGw6c1tlXS5leHB8fDIwLG5ldFJldmVudWU6ITAsY3VycmVuY3k6dS5jdXJ8fCJVU0QifSxhW2VdLm5hdGl2ZT8oci5uYXRpdmU9ZnVuY3Rpb24oZSxyKXtpZihlLm5hdGl2ZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7dHJ5e2lmKGUpcmV0dXJuIEpTT04ucGFyc2UoZSl9Y2F0Y2goZSl7Yy5sb2dFcnJvcigicHVsc2Vwb2ludExpdGUuc2FmZVBhcnNlIiwiRVJST1IiLGUpfXJldHVybiBudWxsfShyLmFkbSksbj17fTtpZih0JiZ0Lm5hdGl2ZSYmdC5uYXRpdmUuYXNzZXRzKXJldHVybiB0Lm5hdGl2ZS5hc3NldHMuZm9yRWFjaChmdW5jdGlvbihlKXtuLnRpdGxlPWUudGl0bGU/ZS50aXRsZS50ZXh0Om4udGl0bGUsbi5ib2R5PWUuZGF0YSYmMj09PWUuZGF0YS50eXBlP2UuZGF0YS52YWx1ZTpuLmJvZHksbi5zcG9uc29yZWRCeT1lLmRhdGEmJjE9PT1lLmRhdGEudHlwZT9lLmRhdGEudmFsdWU6bi5zcG9uc29yZWRCeSxuLmltYWdlPWUuaW1nJiYzPT09ZS5pbWcudHlwZT9lLmltZy51cmw6bi5pbWFnZSxuLmljb249ZS5pbWcmJjE9PT1lLmltZy50eXBlP2UuaW1nLnVybDpuLmljb259KSx0Lm5hdGl2ZS5saW5rJiYobi5jbGlja1VybD1lbmNvZGVVUklDb21wb25lbnQodC5uYXRpdmUubGluay51cmwpKSxuLmltcHJlc3Npb25UcmFja2Vycz10Lm5hdGl2ZS5pbXB0cmFja2VycyxufXJldHVybiBudWxsfShhW2VdLHNbZV0pLHIubWVkaWFUeXBlPSJuYXRpdmUiKTphW2VdLnZpZGVvPyhkW2VdJiYib3V0c3RyZWFtIj09PWMuZGVlcEFjY2VzcyhkW2VdLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKHIucmVuZGVyZXI9KHQ9Yy5kZWVwQWNjZXNzKGRbZV0sInJlbmRlcmVyLm9wdGlvbnMiKSxuPWMuZGVlcEFjY2VzcyhzW2VdLCJleHQub3V0c3RyZWFtIiksKGk9cC5hLmluc3RhbGwoe3VybDpuLnJlbmRlcmVyVXJsLGNvbmZpZzp7ZGVmYXVsdE9wdGlvbnM6bi5jb25maWcscmVuZGVyZXJPcHRpb25zOnQsdHlwZTpuLnR5cGV9LGxvYWRlZDohMX0pKS5zZXRSZW5kZXIoZnVuY3Rpb24ocil7ci5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7dmFyIGU9ci5yZW5kZXJlci5nZXRDb25maWcoKTsobmV3IHdpbmRvdy5QdWxzZVBvaW50T3V0c3RyZWFtUmVuZGVyZXIpLnJlbmRlcih7YWRVbml0Q29kZTpyLmFkVW5pdENvZGUsdmFzdFhtbDpyLnZhc3RYbWwsdHlwZTplLnR5cGUsZGVmYXVsdE9wdGlvbnM6ZS5kZWZhdWx0T3B0aW9ucyxyZW5kZXJlck9wdGlvbnM6dH0pfSl9KSxpKSksci52YXN0WG1sPXNbZV0uYWRtLHIubWVkaWFUeXBlPSJ2aWRlbyIsci53aWR0aD1zW2VdLncsci5oZWlnaHQ9c1tlXS5oKTooci5hZD1zW2VdLmFkbSxyLndpZHRoPXNbZV0ud3x8YVtlXS5iYW5uZXIudyxyLmhlaWdodD1zW2VdLmh8fGFbZV0uYmFubmVyLmgpLG8ucHVzaChyKSl9KSxvfShyLGUpfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuaWZyYW1lRW5hYmxlZD9be3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2JoLmNvbnRleHR3ZWIuY29tL3Zpc2l0b3JtYXRjaCJ9XTplLnBpeGVsRW5hYmxlZD9be3R5cGU6ImltYWdlIix1cmw6Imh0dHBzOi8vYmguY29udGV4dHdlYi5jb20vdmlzaXRvcm1hdGNoL3ByZWJpZCJ9XTp2b2lkIDB9LHRyYW5zZm9ybUJpZFBhcmFtczpmdW5jdGlvbihlKXtyZXR1cm4gYy5jb252ZXJ0VHlwZXMoe2NmOiJzdHJpbmciLGNwOiJudW1iZXIiLGN0OiJudW1iZXIifSxlKX19O2Z1bmN0aW9uIHUoZSxyKXtyJiZlLnB1c2gocil9ZnVuY3Rpb24gbyhlLHIsdCxuLGkpe3JldHVybiByP3tpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLGltZzp7dHlwZTp0LHdtaW46ci53bWlufHxuLGhtaW46ci5obWlufHxpfX06bnVsbH1mdW5jdGlvbiBsKGUscix0LG4pe3JldHVybiByP3tpZDplLHJlcXVpcmVkOnIucmVxdWlyZWQ/MTowLGRhdGE6e3R5cGU6dCxsZW46ci5sZW58fG59fTpudWxsfWZ1bmN0aW9uIG0oZSxyLHQsbil7dmFyIGk7ciYmKGk9e2lkOnJ9LG4mJihpLmV4dD1uKSxlLnB1c2goe3NvdXJjZTp0LHVpZHM6W2ldfSkpfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShpKX19LFs2ODRdKTsKdXBianNDaHVuayhbMTM3XSx7NzE0OmZ1bmN0aW9uKGUscixhKXtlLmV4cG9ydHM9YSg3MTUpfSw3MTU6ZnVuY3Rpb24oZSxyLGEpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksYS5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIGl9KTt2YXIgZz1hKDApLHQ9YSgxKSxzPWEoMik7dmFyIGk9bmV3IGZ1bmN0aW9uKCl7dGhpcy5jb2RlPSJyaHl0aG1vbmUiLHRoaXMuc3VwcG9ydGVkTWVkaWFUeXBlcz1bcy5kLHMuYl07dmFyIG89WzIsMyw1LDZdLGM9WyJ2aWRlby9tcDQiXSxtPVsxLDIsMyw0XSxsPVsxXSx1PVsxLDIsNV0sdj17fSxoPXRoaXM7ZnVuY3Rpb24gZChlLHIpe3ZhciBhLHQ9W10scz0wO3ImJnIucmVmZXJlckluZm8mJnIucmVmZXJlckluZm8uc3RhY2subGVuZ3RoJiYoKGE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpKS5ocmVmPXIucmVmZXJlckluZm8uc3RhY2tbMF0scz0iaHR0cHM6Ij09YS5wcm90b2NvbD8xOjApO2Zvcih2YXIgaSxuPTA7bjxlLmxlbmd0aDtuKyspe3ZbZVtuXS5hZFVuaXRDb2RlXT1lW25dO3ZhciBkLHA9e307cC5pZD1lW25dLmFkVW5pdENvZGUscC5iaWRmbG9vcj1wYXJzZUZsb2F0KGcuZGVlcEFjY2VzcyhlW25dLCJwYXJhbXMuZmxvb3IiKSl8fDAscC5zZWN1cmU9cywhZy5kZWVwQWNjZXNzKGVbbl0sIm1lZGlhVHlwZXMuYmFubmVyIikmJiJiYW5uZXIiIT09Zy5kZWVwQWNjZXNzKGVbbl0sIm1lZGlhVHlwZSIpfHwoZD1mdW5jdGlvbihlKXt2YXIgcj1lLnNpemVzO2UubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmKHI9ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplcyk7dmFyIGE9Zy5wYXJzZVNpemVzSW5wdXQociksdD1bXTtpZihhLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHI7IWV8fChyPWYoZS5zcGxpdCgieCIpKSkmJnQucHVzaCh7dzpyWzBdLGg6clsxXX0pfSksdC5sZW5ndGgpcmV0dXJue2Zvcm1hdDp0fTtyZXR1cm4hMX0oZVtuXSkpJiYocC5iYW5uZXI9ZCksIWcuZGVlcEFjY2VzcyhlW25dLCJtZWRpYVR5cGVzLnZpZGVvIikmJiJ2aWRlbyIhPT1nLmRlZXBBY2Nlc3MoZVtuXSwibWVkaWFUeXBlIil8fChwLnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciByPVtdO3t2YXIgYSx0O2cuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUiKSYmKGE9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUsZy5pc0FycmF5KGUubWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplWzBdKSYmKGE9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF0pLCh0PWYoYSkpJiYocj10KSl9cmV0dXJue21pbWVzOmcuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLm1pbWVzIil8fGMscHJvdG9jb2xzOmcuZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLnZpZGVvLnByb3RvY29scyIpfHxvLHc6clswXSxoOnJbMV0sc3RhcnRkZWxheTpnLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5zdGFydGRlbGF5Iil8fDAsc2tpcDpnLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5za2lwIil8fDAscGxheWJhY2ttZXRob2Q6Zy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWJhY2ttZXRob2QiKXx8bSxkZWxpdmVyeTpnLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5kZWxpdmVyeSIpfHxsLGFwaTpnLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5hcGkiKXx8dX19KGVbbl0pKSwocC5iYW5uZXJ8fHAudmlkZW8pJiYocC5leHQ9e2JpZGRlcjp7cGxhY2VtZW50SWQ6KGk9ZVtuXSkucGFyYW1zLnBsYWNlbWVudElkLHpvbmU6aS5wYXJhbXMmJmkucGFyYW1zLnpvbmU/aS5wYXJhbXMuem9uZToiMXIiLHBhdGg6aS5wYXJhbXMmJmkucGFyYW1zLnBhdGg/aS5wYXJhbXMucGF0aDoibXZvIn19LHQucHVzaChwKSl9cmV0dXJuIHR9ZnVuY3Rpb24gZihlKXt2YXIgcj1wYXJzZUludChlWzBdKSxhPXBhcnNlSW50KGVbMV0pO3JldHVybiByPT1yJiZhPT1hJiZbcixhXX1mdW5jdGlvbiBwKGUscil7dmFyIGEsdCxzLGksbj17aWQ6ZVswXS5iaWRkZXJSZXF1ZXN0SWQsaW1wOmQoZSxyKSxzaXRlOihpPXtkb21haW46IiIscGFnZToiIixyZWY6IiJ9LChhPXIpJiZhLnJlZmVyZXJJbmZvJiYodD1hLnJlZmVyZXJJbmZvLGkucmVmPXQucmVmZXJlcix0LnN0YWNrLmxlbmd0aCYmKGkucGFnZT10LnN0YWNrW3Quc3RhY2subGVuZ3RoLTFdLChzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKSkuaHJlZj10LnN0YWNrWzBdLGkuZG9tYWluPXMuaG9zdG5hbWUpKSxpKSxkZXZpY2U6e3VhOm5hdmlnYXRvci51c2VyQWdlbnQsaXA6IiIsZG50OmcuZ2V0RE5UKCk/MTowfSx1c2VyOntleHQ6e2NvbnNlbnQ6Zy5kZWVwQWNjZXNzKHIsImdkcHJDb25zZW50LmdkcHJBcHBsaWVzIik/ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nOiIifX0sYXQ6MSx0bWF4OjFlMyxyZWdzOntleHQ6e2dkcHI6ISFnLmRlZXBBY2Nlc3MociwiZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMiKSYmQm9vbGVhbigxJnIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpfX19O3JldHVybiBlWzBdLnNjaGFpbiYmKG4uc291cmNlPXtleHQ6e3NjaGFpbjplWzBdLnNjaGFpbn19KSxufWZ1bmN0aW9uIHkoZSxyKXtmb3IodmFyIGE9MDthPHIubGVuZ3RoO2ErKylpZihyW2FdLnBhcmFtcyYmclthXS5wYXJhbXNbZV0pcmV0dXJuIHJbYV0ucGFyYW1zW2VdfXRoaXMuaXNCaWRSZXF1ZXN0VmFsaWQ9ZnVuY3Rpb24oZSl7cmV0dXJuISghZS5wYXJhbXN8fCFlLnBhcmFtcy5wbGFjZW1lbnRJZCl9LHRoaXMuZ2V0VXNlclN5bmNzPWZ1bmN0aW9uKGUscixhKXtyZXR1cm5bXX0sdGhpcy5idWlsZFJlcXVlc3RzPWZ1bmN0aW9uKGUscil7dmFyIGE9eSgicGxhY2VtZW50SWQiLGUpO2lmKHZvaWQgMD09PWF8fGUubGVuZ3RoPDEpcmV0dXJuW107dmFyIHQ9eSgiZW5kcG9pbnQiLGUpfHwiaHR0cHM6Ly90YWcuMXJ4LmlvL3JtcC97cGxhY2VtZW50SWR9LzAve3BhdGh9P3o9e3pvbmV9IixzPXkoInpvbmUiLGUpfHwiMXIiLGk9eSgicGF0aCIsZSl8fCJtdm8iO3Q9KHQ9KHQ9dC5yZXBsYWNlKC9ce3BsYWNlbWVudElkXH0vaSxhKSkucmVwbGFjZSgvXHt6b25lXH0vaSxzKSkucmVwbGFjZSgvXHtwYXRoXH0vaSxpKTt2YXIgbj0vKF52fChcLjApKyQpL2dpO3QrPSImaGJ2PSIrIjQuMTcuMCIucmVwbGFjZShuLCIiKSsiLCIrIjIuMSIucmVwbGFjZShuLCIiKTt2YXIgZD1wKGUscik7cmV0dXJuIGQuaW1wLmxlbmd0aD97bWV0aG9kOiJQT1NUIix1cmw6dCxkYXRhOkpTT04uc3RyaW5naWZ5KGQpfTp7fX0sdGhpcy5pbnRlcnByZXRSZXNwb25zZT1mdW5jdGlvbihlKXt2YXIgcj1lLmJvZHl8fFtdLGE9W10sdD0wO2lmKHIuc2VhdGJpZCl7Zm9yKHZhciBzPVtdLHQ9MDt0PHIuc2VhdGJpZC5sZW5ndGg7dCsrKWZvcih2YXIgaT0wO2k8ci5zZWF0YmlkW3RdLmJpZC5sZW5ndGg7aSsrKXMucHVzaChyLnNlYXRiaWRbdF0uYmlkW2ldKTtyPXN9Zm9yKHQ9MDt0PHIubGVuZ3RoO3QrKyl7dmFyIG49clt0XSxkPXZbbi5pbXBpZF0scD17cmVxdWVzdElkOmQuYmlkSWQsYmlkZGVyQ29kZTpoLmNvZGUsY3BtOnBhcnNlRmxvYXQobi5wcmljZSksd2lkdGg6bi53LGhlaWdodDpuLmgsY3JlYXRpdmVJZDpuLmNyaWQsY3VycmVuY3k6IlVTRCIsbmV0UmV2ZW51ZTohMCx0dGw6MzUwfTtkLm1lZGlhVHlwZXMmJmQubWVkaWFUeXBlcy52aWRlbz8ocC52YXN0VXJsPW4ubnVybCxwLm1lZGlhVHlwZT0idmlkZW8iLHAudHRsPTYwMCk6cC5hZD1uLmFkbSxhLnB1c2gocCl9cmV0dXJuIGF9fTtPYmplY3QodC5yZWdpc3RlckJpZGRlcikoaSl9fSxbNzE0XSk7CnVwYmpzQ2h1bmsoWzEzMF0sezczNDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoNzM1KX0sNzM1OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiBBfSksci5oYXNWaWRlb01lZGlhVHlwZT1zLHQuZChyLCJyZXNldFJ1YmlDb25mIixmdW5jdGlvbigpe3JldHVybiBjfSksci5tYXNTaXplT3JkZXJpbmc9ZCxyLmRldGVybWluZVJ1Ymljb25WaWRlb1NpemVJZD1mLHIuZ2V0UHJpY2VHcmFudWxhcml0eT1DLHIuaGFzVmFsaWRWaWRlb1BhcmFtcz1JLHIuaGFzVmFsaWRTdXBwbHlDaGFpblBhcmFtcz1rLHIuZW5jb2RlUGFyYW09dyxyLnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXt6PSExfTt2YXIgZz10KDApLGk9dCgxKSx2PXQoMykscD10KDIpLG49dCgxMCksYj10Lm4obik7ZnVuY3Rpb24geShlLHIpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSxyKXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFN5bWJvbHx8IShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKSlyZXR1cm47dmFyIHQ9W10saT0hMCxuPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIGEscz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKGk9KGE9cy5uZXh0KCkpLmRvbmUpJiYodC5wdXNoKGEudmFsdWUpLCFyfHx0Lmxlbmd0aCE9PXIpO2k9ITApO31jYXRjaChlKXtuPSEwLG89ZX1maW5hbGx5e3RyeXtpfHxudWxsPT1zLnJldHVybnx8cy5yZXR1cm4oKX1maW5hbGx5e2lmKG4pdGhyb3cgb319cmV0dXJuIHR9KGUscil8fGZ1bmN0aW9uKGUscil7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gbyhlLHIpO3ZhciB0PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXQmJmUuY29uc3RydWN0b3ImJih0PWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT10fHwiU2V0Ij09PXQpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT10fHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdCh0KSlyZXR1cm4gbyhlLHIpfShlLHIpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gbyhlLHIpeyhudWxsPT1yfHxyPmUubGVuZ3RoKSYmKHI9ZS5sZW5ndGgpO2Zvcih2YXIgdD0wLGk9bmV3IEFycmF5KHIpO3Q8cjt0KyspaVt0XT1lW3RdO3JldHVybiBpfWZ1bmN0aW9uIHgoKXtyZXR1cm4oeD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBpIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkmJihlW2ldPXRbaV0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGwoZSxyLHQpe3JldHVybiByIGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUscix7dmFsdWU6dCxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbcl09dCxlfWZ1bmN0aW9uIGgoZSl7cmV0dXJuKGg9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX12YXIgXz17fTt2LmIuZ2V0Q29uZmlnKCJydWJpY29uIixmdW5jdGlvbihlKXtnLm1lcmdlRGVlcChfLGUucnViaWNvbil9KTt2YXIgdT17MToiNDY4eDYwIiwyOiI3Mjh4OTAiLDU6IjEyMHg5MCIsNzoiMTI1eDEyNSIsODoiMTIweDYwMCIsOToiMTYweDYwMCIsMTA6IjMwMHg2MDAiLDEzOiIyMDB4MjAwIiwxNDoiMjUweDI1MCIsMTU6IjMwMHgyNTAiLDE2OiIzMzZ4MjgwIiwxNzoiMjQweDQwMCIsMTk6IjMwMHgxMDAiLDMxOiI5ODB4MTIwIiwzMjoiMjUweDM2MCIsMzM6IjE4MHg1MDAiLDM1OiI5ODB4MTUwIiwzNzoiNDY4eDQwMCIsMzg6IjkzMHgxODAiLDM5OiI3NTB4MTAwIiw0MDoiNzUweDIwMCIsNDE6Ijc1MHgzMDAiLDQyOiIyeDQiLDQzOiIzMjB4NTAiLDQ0OiIzMDB4NTAiLDQ4OiIzMDB4MzAwIiw1MzoiMTAyNHg3NjgiLDU0OiIzMDB4MTA1MCIsNTU6Ijk3MHg5MCIsNTc6Ijk3MHgyNTAiLDU4OiIxMDAweDkwIiw1OToiMzIweDgwIiw2MDoiMzIweDE1MCIsNjE6IjEwMDB4MTAwMCIsNjQ6IjU4MHg1MDAiLDY1OiI2NDB4NDgwIiw2NjoiOTMweDYwMCIsNjc6IjMyMHg0ODAiLDY4OiIxODAweDEwMDAiLDcyOiIzMjB4MzIwIiw3MzoiMzIweDE2MCIsNzg6Ijk4MHgyNDAiLDc5OiI5ODB4MzAwIiw4MDoiOTgweDQwMCIsODM6IjQ4MHgzMDAiLDg1OiIzMDB4MTIwIiw5MDoiNTQ4eDE1MCIsOTQ6Ijk3MHgzMTAiLDk1OiI5NzB4MTAwIiw5NjoiOTcweDIxMCIsMTAxOiI0ODB4MzIwIiwxMDI6Ijc2OHgxMDI0IiwxMDM6IjQ4MHgyODAiLDEwNToiMjUweDgwMCIsMTA4OiIzMjB4MjQwIiwxMTM6IjEwMDB4MzAwIiwxMTc6IjMyMHgxMDAiLDEyNToiODAweDI1MCIsMTI2OiIyMDB4NjAwIiwxNDQ6Ijk4MHg2MDAiLDE0NToiOTgweDE1MCIsMTUyOiIxMDAweDI1MCIsMTU2OiI2NDB4MzIwIiwxNTk6IjMyMHgyNTAiLDE3OToiMjUweDYwMCIsMTk1OiI2MDB4MzAwIiwxOTg6IjY0MHgzNjAiLDE5OToiNjQweDIwMCIsMjEzOiIxMDMweDU5MCIsMjE0OiI5ODB4MzYwIiwyMjE6IjF4MSIsMjI5OiIzMjB4MTgwIiwyMzA6IjIwMDB4MTQwMCIsMjMyOiI1ODB4NDAwIiwyMzQ6IjZ4NiIsMjUxOiIyeDIiLDI1NjoiNDgweDgyMCIsMjU3OiI0MDB4NjAwIiwyNTg6IjUwMHgyMDAiLDI1OToiOTk4eDIwMCIsMjY0OiI5NzB4MTAwMCIsMjY1OiIxOTIweDEwODAiLDI3NDoiMTgwMHgyMDAiLDI3ODoiMzIweDUwMCIsMjgyOiIzMjB4NDAwIiwyODg6IjY0MHgzODAiLDU0ODoiNTAweDEwMDAifTtnLl9lYWNoKHUsZnVuY3Rpb24oZSxyKXtyZXR1cm4gdVtlXT1yfSk7dmFyIEE9e2NvZGU6InJ1Ymljb24iLGd2bGlkOjUyLHN1cHBvcnRlZE1lZGlhVHlwZXM6W3AuYixwLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe2lmKCJvYmplY3QiIT09aChlLnBhcmFtcykpcmV0dXJuITE7Zm9yKHZhciByPTAsdD1bImFjY291bnRJZCIsInNpdGVJZCIsInpvbmVJZCJdO3I8dC5sZW5ndGg7cisrKWlmKGUucGFyYW1zW3Rbcl1dPXBhcnNlSW50KGUucGFyYW1zW3Rbcl1dKSxpc05hTihlLnBhcmFtc1t0W3JdXSkpcmV0dXJuIGcubG9nRXJyb3IoIlJ1Ymljb246IHdyb25nIGZvcm1hdCBvZiBhY2NvdW50SWQgb3Igc2l0ZUlkIG9yIHpvbmVJZC4iKSwhMTt2YXIgaT1tKGUsITApO3JldHVybiEhaSYmKCJ2aWRlbyIhPT1pfHxJKGUpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHUpe3ZhciBuLHI9ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuInZpZGVvIj09PW0oZSl9KS5tYXAoZnVuY3Rpb24odCl7dC5zdGFydFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCk7dmFyIGUscixpLG49e2lkOnQudHJhbnNhY3Rpb25JZCx0ZXN0OnYuYi5nZXRDb25maWcoImRlYnVnIik/MTowLGN1cjpbIlVTRCJdLHNvdXJjZTp7dGlkOnQudHJhbnNhY3Rpb25JZH0sdG1heDp1LnRpbWVvdXQsaW1wOlt7ZXhwOnYuYi5nZXRDb25maWcoInMyc0NvbmZpZy5kZWZhdWx0VHRsIiksaWQ6dC5hZFVuaXRDb2RlLHNlY3VyZToxLGV4dDpsKHt9LHQuYmlkZGVyLHQucGFyYW1zKSx2aWRlbzpnLmRlZXBBY2Nlc3ModCwibWVkaWFUeXBlcy52aWRlbyIpfHx7fX1dLGV4dDp7cHJlYmlkOntjYWNoZTp7dmFzdHhtbDp7cmV0dXJuQ3JlYXRpdmU6ITA9PT1fLnJldHVyblZhc3R9fSx0YXJnZXRpbmc6e2luY2x1ZGV3aW5uZXJzOiEwLGluY2x1ZGViaWRkZXJrZXlzOiExLHByaWNlZ3JhbnVsYXJpdHk6Qyh2LmIpfSxiaWRkZXJzOntydWJpY29uOntpbnRlZ3JhdGlvbjpfLmludF90eXBlfHwicGJqcyJ9fX19fTtpZigicnViaWNvbiIhPT10LmJpZGRlciYmKG4uZXh0LnByZWJpZC5hbGlhc2VzPWwoe30sdC5iaWRkZXIsInJ1Ymljb24iKSksImZ1bmN0aW9uIiE9dHlwZW9mIHQuZ2V0Rmxvb3J8fF8uZGlzYWJsZUZsb29ycyllPXBhcnNlRmxvYXQoZy5kZWVwQWNjZXNzKHQsInBhcmFtcy5mbG9vciIpKTtlbHNle3RyeXtyPXQuZ2V0Rmxvb3Ioe2N1cnJlbmN5OiJVU0QiLG1lZGlhVHlwZToidmlkZW8iLHNpemU6aih0LCJ2aWRlbyIpfSl9Y2F0Y2goZSl7Zy5sb2dFcnJvcigiUnViaWNvbjogZ2V0Rmxvb3IgdGhyZXcgYW4gZXJyb3I6ICIsZSl9ZT0ib2JqZWN0IiE9PWgocil8fCJVU0QiIT09ci5jdXJyZW5jeXx8aXNOYU4ocGFyc2VJbnQoci5mbG9vcikpP3ZvaWQgMDpwYXJzZUZsb2F0KHIuZmxvb3IpfWlzTmFOKGUpfHwobi5pbXBbMF0uYmlkZmxvb3I9ZSksbi5pbXBbMF0uZXh0W3QuYmlkZGVyXS52aWRlby5zaXplX2lkPWYodCksZnVuY3Rpb24ocix0LGUpe2lmKCFyKXJldHVybjsib2JqZWN0Ij09PWgodi5iLmdldENvbmZpZygiYXBwIikpP3IuYXBwPXYuYi5nZXRDb25maWcoImFwcCIpOnIuc2l0ZT17cGFnZTpTKHQsZSl9OyJvYmplY3QiPT09aCh2LmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSkmJihyLmRldmljZT12LmIuZ2V0Q29uZmlnKCJkZXZpY2UiKSk7dC5wYXJhbXMudmlkZW8ubGFuZ3VhZ2UmJlsic2l0ZSIsImRldmljZSJdLmZvckVhY2goZnVuY3Rpb24oZSl7cltlXSYmKHJbZV0uY29udGVudD14KHtsYW5ndWFnZTp0LnBhcmFtcy52aWRlby5sYW5ndWFnZX0scltlXS5jb250ZW50KSl9KX0obix0LHUpLGZ1bmN0aW9uKGUscil7Im9iamVjdCI9PT1oKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8uc2tpcCYmKGUuaW1wWzBdLnZpZGVvLnNraXA9ci5wYXJhbXMudmlkZW8uc2tpcCk7Im9iamVjdCI9PT1oKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8uc2tpcGFmdGVyJiYoZS5pbXBbMF0udmlkZW8uc2tpcGFmdGVyPXIucGFyYW1zLnZpZGVvLnNraXBkZWxheSk7Im9iamVjdCI9PT1oKGUuaW1wWzBdLnZpZGVvKSYmdm9pZCAwPT09ZS5pbXBbMF0udmlkZW8ucG9zJiYoImF0ZiI9PT1yLnBhcmFtcy5wb3NpdGlvbj9lLmltcFswXS52aWRlby5wb3M9MToiYnRmIj09PXIucGFyYW1zLnBvc2l0aW9uJiYoZS5pbXBbMF0udmlkZW8ucG9zPTMpKTt2YXIgdD1qKHIsInZpZGVvIik7ZS5pbXBbMF0udmlkZW8udz10WzBdLGUuaW1wWzBdLnZpZGVvLmg9dFsxXX0obix0KSx1LmdkcHJDb25zZW50JiYoImJvb2xlYW4iPT10eXBlb2YgdS5nZHByQ29uc2VudC5nZHByQXBwbGllcyYmKGk9dS5nZHByQ29uc2VudC5nZHByQXBwbGllcz8xOjApLGcuZGVlcFNldFZhbHVlKG4sInJlZ3MuZXh0LmdkcHIiLGkpLGcuZGVlcFNldFZhbHVlKG4sInVzZXIuZXh0LmNvbnNlbnQiLHUuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLHUudXNwQ29uc2VudCYmZy5kZWVwU2V0VmFsdWUobiwicmVncy5leHQudXNfcHJpdmFjeSIsdS51c3BDb25zZW50KTt2YXIgbz1nLmRlZXBBY2Nlc3ModSwiYmlkcy4wLnVzZXJJZEFzRWlkcyIpO28mJm8ubGVuZ3RoJiZnLmRlZXBTZXRWYWx1ZShuLCJ1c2VyLmV4dC5laWRzIixvKTt2YXIgYT12LmIuZ2V0Q29uZmlnKCJ1c2VyLmlkIik7YSYmZy5kZWVwU2V0VmFsdWUobiwidXNlci5pZCIsYSksITA9PT12LmIuZ2V0Q29uZmlnKCJjb3BwYSIpJiZnLmRlZXBTZXRWYWx1ZShuLCJyZWdzLmNvcHBhIiwxKSx0LnNjaGFpbiYmayh0LnNjaGFpbikmJmcuZGVlcFNldFZhbHVlKG4sInNvdXJjZS5leHQuc2NoYWluIix0LnNjaGFpbik7dmFyIHMsYz14KHt9LHQucGFyYW1zLmludmVudG9yeSx2LmIuZ2V0Q29uZmlnKCJmcGQuY29udGV4dCIpKSxkPXgoe30sdC5wYXJhbXMudmlzaXRvcix2LmIuZ2V0Q29uZmlnKCJmcGQudXNlciIpKTtnLmlzRW1wdHkoYykmJmcuaXNFbXB0eShkKXx8KHM9e2JpZGRlcnM6W3UuYmlkZGVyQ29kZV0sY29uZmlnOntmcGQ6e319fSxnLmlzRW1wdHkoYyl8fChzLmNvbmZpZy5mcGQuc2l0ZT1jKSxnLmlzRW1wdHkoZCl8fChzLmNvbmZpZy5mcGQudXNlcj1kKSxnLmRlZXBTZXRWYWx1ZShuLCJleHQucHJlYmlkLmJpZGRlcmNvbmZpZy4wIixzKSk7dmFyIHA9Zy5kZWVwQWNjZXNzKHQsImZwZC5jb250ZXh0LnBiQWRTbG90Iik7cmV0dXJuInN0cmluZyI9PXR5cGVvZiBwJiZwJiZnLmRlZXBTZXRWYWx1ZShuLmltcFswXS5leHQsImNvbnRleHQuZGF0YS5wYmFkc2xvdCIscCksWyJuYW1lIiwiYWRTbG90Il0uZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1nLmRlZXBBY2Nlc3ModCwiZnBkLmNvbnRleHQuYWRzZXJ2ZXIuIi5jb25jYXQoZSkpOyJzdHJpbmciPT10eXBlb2YgciYmciYmZy5kZWVwU2V0VmFsdWUobi5pbXBbMF0uZXh0LCJjb250ZXh0LmRhdGEuYWRzZXJ2ZXIuIi5jb25jYXQoZS50b0xvd2VyQ2FzZSgpKSxyKX0pLHQuc3RvcmVkQXVjdGlvblJlc3BvbnNlJiZnLmRlZXBTZXRWYWx1ZShuLmltcFswXSwiZXh0LnByZWJpZC5zdG9yZWRhdWN0aW9ucmVzcG9uc2UuaWQiLHQuc3RvcmVkQXVjdGlvblJlc3BvbnNlLnRvU3RyaW5nKCkpLGcuZGVlcFNldFZhbHVlKG4uaW1wWzBdLCJleHQucHJlYmlkLmF1Y3Rpb250aW1lc3RhbXAiLHUuYXVjdGlvblN0YXJ0KSx7bWV0aG9kOiJQT1NUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoXy52aWRlb0hvc3R8fCJwcmViaWQtc2VydmVyIiwiLnJ1Ymljb25wcm9qZWN0LmNvbS9vcGVucnRiMi9hdWN0aW9uIiksZGF0YTpuLGJpZFJlcXVlc3Q6dH19KTtyZXR1cm4hMCE9PV8uc2luZ2xlUmVxdWVzdD9yLmNvbmNhdChlLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4iYmFubmVyIj09PW0oZSl9KS5tYXAoZnVuY3Rpb24oZSl7dmFyIGk9QS5jcmVhdGVTbG90UGFyYW1zKGUsdSk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoXy5iYW5uZXJIb3N0fHwiZmFzdGxhbmUiLCIucnViaWNvbnByb2plY3QuY29tL2EvYXBpL2Zhc3RsYW5lLmpzb24iKSxkYXRhOkEuZ2V0T3JkZXJlZFBhcmFtcyhpKS5yZWR1Y2UoZnVuY3Rpb24oZSxyKXt2YXIgdD1pW3JdO3JldHVybiBnLmlzU3RyKHQpJiYiIiE9PXR8fGcuaXNOdW1iZXIodCk/IiIuY29uY2F0KGUpLmNvbmNhdCh3KHIsdCksIiYiKTplfSwiIikrInNsb3RzPTEmcmFuZD0iLmNvbmNhdChNYXRoLnJhbmRvbSgpKSxiaWRSZXF1ZXN0OmV9fSkpOihuPWUuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiJiYW5uZXIiPT09bShlKX0pLnJlZHVjZShmdW5jdGlvbihlLHIpe3JldHVybihlW3IucGFyYW1zLnNpdGVJZF09ZVtyLnBhcmFtcy5zaXRlSWRdfHxbXSkucHVzaChyKSxlfSx7fSksci5jb25jYXQoT2JqZWN0LmtleXMobikucmVkdWNlKGZ1bmN0aW9uKHIsZSl7dmFyIHQsaTtyZXR1cm4gdD1uW2VdLGk9MTAsdC5tYXAoZnVuY3Rpb24oZSxyKXtyZXR1cm4gciVpPT0wP3Quc2xpY2UocixyK2kpOm51bGx9KS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGV9KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPUEuY29tYmluZVNsb3RVcmxQYXJhbXMoZS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIEEuY3JlYXRlU2xvdFBhcmFtcyhlLHUpfSkpO3IucHVzaCh7bWV0aG9kOiJHRVQiLHVybDoiaHR0cHM6Ly8iLmNvbmNhdChfLmJhbm5lckhvc3R8fCJmYXN0bGFuZSIsIi5ydWJpY29ucHJvamVjdC5jb20vYS9hcGkvZmFzdGxhbmUuanNvbiIpLGRhdGE6QS5nZXRPcmRlcmVkUGFyYW1zKGkpLnJlZHVjZShmdW5jdGlvbihlLHIpe3ZhciB0PWlbcl07cmV0dXJuIGcuaXNTdHIodCkmJiIiIT09dHx8Zy5pc051bWJlcih0KT8iIi5jb25jYXQoZSkuY29uY2F0KHcocix0KSwiJiIpOmV9LCIiKSsic2xvdHM9Ii5jb25jYXQoZS5sZW5ndGgsIiZyYW5kPSIpLmNvbmNhdChNYXRoLnJhbmRvbSgpKSxiaWRSZXF1ZXN0OmV9KX0pLHJ9LFtdKSkpfSxnZXRPcmRlcmVkUGFyYW1zOmZ1bmN0aW9uKGUpe3ZhciByPS9edGdfdi8sdD0vXnRnX2kvLGk9L15laWRffF50cGlkXy8sbj1bImFjY291bnRfaWQiLCJzaXRlX2lkIiwiem9uZV9pZCIsInNpemVfaWQiLCJhbHRfc2l6ZV9pZHMiLCJwX3BvcyIsImdkcHIiLCJnZHByX2NvbnNlbnQiLCJ1c19wcml2YWN5IiwicnBfc2NoYWluIl0uY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gaS50ZXN0KGUpfSkpLmNvbmNhdChbInhfbGl2ZXJhbXBpZGwiLCJwcHVpZCIsInJmIiwicF9nZW8ubGF0aXR1ZGUiLCJwX2dlby5sb25naXR1ZGUiLCJrdyJdKS5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiByLnRlc3QoZSl9KSkuY29uY2F0KE9iamVjdC5rZXlzKGUpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gdC50ZXN0KGUpfSkpLmNvbmNhdChbInRrX2ZsaW50IiwieF9zb3VyY2UudGlkIiwieF9zb3VyY2UucGNoYWluIiwicF9zY3JlZW5fcmVzIiwicnBfZmxvb3IiLCJycF9zZWN1cmUiLCJ0a191c2VyX2tleSJdKTtyZXR1cm4gbi5jb25jYXQoT2JqZWN0LmtleXMoZSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybi0xPT09bi5pbmRleE9mKGUpfSkpfSxjb21iaW5lU2xvdFVybFBhcmFtczpmdW5jdGlvbihuKXtpZigxPT09bi5sZW5ndGgpcmV0dXJuIG5bMF07dmFyIGk9bi5yZWR1Y2UoZnVuY3Rpb24ocix0LGkpe3JldHVybiBPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3IuaGFzT3duUHJvcGVydHkoZSl8fChyW2VdPW5ldyBBcnJheShuLmxlbmd0aCkpLHJbZV0uc3BsaWNlKGksMSx0W2VdKX0pLHJ9LHt9KSxvPW5ldyBSZWdFeHAoIl4oW147XSopKDtcXDEpKyQiKTtyZXR1cm4gT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcj1pW2VdLmpvaW4oIjsiKSx0PXIubWF0Y2gobyk7aVtlXT10P3RbMV06cn0pLGl9LGNyZWF0ZVNsb3RQYXJhbXM6ZnVuY3Rpb24oZSxyKXtlLnN0YXJ0VGltZT0obmV3IERhdGUpLmdldFRpbWUoKTt2YXIgdCxpPWUucGFyYW1zLG49aihlLCJiYW5uZXIiKSxvPXkoaS5sYXRMb25nfHxbXSwyKSxhPW9bMF0scz1vWzFdLGM9e2FjY291bnRfaWQ6aS5hY2NvdW50SWQsc2l0ZV9pZDppLnNpdGVJZCx6b25lX2lkOmkuem9uZUlkLHNpemVfaWQ6blswXSxhbHRfc2l6ZV9pZHM6bi5zbGljZSgxKS5qb2luKCIsIil8fHZvaWQgMCxycF9mbG9vcjouMDE8KGkuZmxvb3I9cGFyc2VGbG9hdChpLmZsb29yKSk/aS5mbG9vcjouMDEscnBfc2VjdXJlOiIxIix0a19mbGludDoiIi5jb25jYXQoXy5pbnRfdHlwZXx8InBianNfbGl0ZSIsIl92NC4xNy4wIiksInhfc291cmNlLnRpZCI6ZS50cmFuc2FjdGlvbklkLCJ4X3NvdXJjZS5wY2hhaW4iOmkucGNoYWluLHBfc2NyZWVuX3Jlczpbd2luZG93LnNjcmVlbi53aWR0aCx3aW5kb3cuc2NyZWVuLmhlaWdodF0uam9pbigieCIpLHRrX3VzZXJfa2V5OmkudXNlcklkLCJwX2dlby5sYXRpdHVkZSI6aXNOYU4ocGFyc2VGbG9hdChhKSk/dm9pZCAwOnBhcnNlRmxvYXQoYSkudG9GaXhlZCg0KSwicF9nZW8ubG9uZ2l0dWRlIjppc05hTihwYXJzZUZsb2F0KHMpKT92b2lkIDA6cGFyc2VGbG9hdChzKS50b0ZpeGVkKDQpLCJ0Z19mbC5laWQiOmUuY29kZSxyZjpTKGUscil9O2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlLmdldEZsb29yJiYhXy5kaXNhYmxlRmxvb3JzKXt0cnl7dD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZToiKiJ9KX1jYXRjaChlKXtnLmxvZ0Vycm9yKCJSdWJpY29uOiBnZXRGbG9vciB0aHJldyBhbiBlcnJvcjogIixlKX1jLnJwX2hhcmRfZmxvb3I9Im9iamVjdCIhPT1oKHQpfHwiVVNEIiE9PXQuY3VycmVuY3l8fGlzTmFOKHBhcnNlSW50KHQuZmxvb3IpKT92b2lkIDA6dC5mbG9vcn1jLnBfcG9zPSJhdGYiPT09aS5wb3NpdGlvbnx8ImJ0ZiI9PT1pLnBvc2l0aW9uP2kucG9zaXRpb246IiI7dmFyIGQ9di5iLmdldENvbmZpZygidXNlci5pZCIpO2QmJihjLnBwdWlkPWQpLGUudXNlcklkQXNFaWRzJiZlLnVzZXJJZEFzRWlkcy5mb3JFYWNoKGZ1bmN0aW9uKHIpe3RyeXt2YXIgZTsiYWRzZXJ2ZXIub3JnIj09PXIuc291cmNlPyhjLnRwaWRfdGRpZD1yLnVpZHNbMF0uaWQsY1siZWlkX2Fkc2VydmVyLm9yZyJdPXIudWlkc1swXS5pZCk6ImxpdmVpbnRlbnQuY29tIj09PXIuc291cmNlPyhjWyJ0cGlkX2xpdmVpbnRlbnQuY29tIl09ci51aWRzWzBdLmlkLGNbImVpZF9saXZlaW50ZW50LmNvbSJdPXIudWlkc1swXS5pZCxyLmV4dCYmQXJyYXkuaXNBcnJheShyLmV4dC5zZWdtZW50cykmJnIuZXh0LnNlZ21lbnRzLmxlbmd0aCYmKGNbInRnX3YuTElzZWciXT1yLmV4dC5zZWdtZW50cy5qb2luKCIsIikpKToibGl2ZXJhbXAuY29tIj09PXIuc291cmNlP2MueF9saXZlcmFtcGlkbD1yLnVpZHNbMF0uaWQ6InNoYXJlZGlkLm9yZyI9PT1yLnNvdXJjZT9jWyJlaWRfc2hhcmVkaWQub3JnIl09IiIuY29uY2F0KHIudWlkc1swXS5pZCwiXiIpLmNvbmNhdChyLnVpZHNbMF0uYXR5cGUsIl4iKS5jb25jYXQoci51aWRzWzBdLmV4dCYmci51aWRzWzBdLmV4dC50aGlyZHx8IiIpOiJpZDUtc3luYy5jb20iPT09ci5zb3VyY2U/Y1siZWlkX2lkNS1zeW5jLmNvbSJdPSIiLmNvbmNhdChyLnVpZHNbMF0uaWQsIl4iKS5jb25jYXQoci51aWRzWzBdLmF0eXBlLCJeIikuY29uY2F0KHIuZXh0JiZyLmV4dC5saW5rVHlwZXx8IiIpOmNbImVpZF8iLmNvbmNhdChyLnNvdXJjZSldPSIiLmNvbmNhdChyLnVpZHNbMF0uaWQsIl4iKS5jb25jYXQoci51aWRzWzBdLmF0eXBlfHwiIiksYy5wcHVpZHx8KGU9YigpKHIudWlkcyxmdW5jdGlvbihlKXtyZXR1cm4gZS5leHQmJiJwcHVpZCI9PT1lLmV4dC5zdHlwZX0pKSYmZS5pZCYmKGMucHB1aWQ9ZS5pZCl9Y2F0Y2goZSl7Zy5sb2dXYXJuKCJSdWJpY29uOiBlcnJvciByZWFkaW5nIGVpZDoiLHIsZSl9fSksci5nZHByQ29uc2VudCYmKCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihjLmdkcHI9TnVtYmVyKHIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpKSxjLmdkcHJfY29uc2VudD1yLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpLHIudXNwQ29uc2VudCYmKGMudXNfcHJpdmFjeT1lbmNvZGVVUklDb21wb25lbnQoci51c3BDb25zZW50KSk7dmFyIHA9eCh7fSxpLnZpc2l0b3Isdi5iLmdldENvbmZpZygiZnBkLnVzZXIiKSk7T2JqZWN0LmtleXMocCkuZm9yRWFjaChmdW5jdGlvbihlKXtudWxsIT1wW2VdJiYia2V5d29yZHMiIT09ZSYmKGNbInRnX3YuIi5jb25jYXQoZSldPSJvYmplY3QiIT09aChwW2VdKXx8QXJyYXkuaXNBcnJheShwW2VdKT9wW2VdLnRvU3RyaW5nKCk6SlNPTi5zdHJpbmdpZnkocFtlXSkpfSk7dmFyIHU9eCh7fSxpLmludmVudG9yeSx2LmIuZ2V0Q29uZmlnKCJmcGQuY29udGV4dCIpKTtPYmplY3Qua2V5cyh1KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe251bGwhPXVbZV0mJiJrZXl3b3JkcyIhPT1lJiYoY1sidGdfaS4iLmNvbmNhdChlKV09Im9iamVjdCIhPT1oKHVbZV0pfHxBcnJheS5pc0FycmF5KHVbZV0pP3VbZV0udG9TdHJpbmcoKTpKU09OLnN0cmluZ2lmeSh1W2VdKSl9KTt2YXIgbD0oaS5rZXl3b3Jkc3x8W10pLmNvbmNhdChnLmRlZXBBY2Nlc3Modi5iLmdldENvbmZpZygiZnBkLnVzZXIiKSwia2V5d29yZHMiKXx8W10sZy5kZWVwQWNjZXNzKHYuYi5nZXRDb25maWcoImZwZC5jb250ZXh0IiksImtleXdvcmRzIil8fFtdKTtjLmt3PUFycmF5LmlzQXJyYXkobCkmJmwubGVuZ3RoP2wuam9pbigiLCIpOiIiO3ZhciBtPWcuZGVlcEFjY2VzcyhlLCJmcGQuY29udGV4dC5wYkFkU2xvdCIpOyJzdHJpbmciPT10eXBlb2YgbSYmbSYmKGNbInRnX2kucGJhZHNsb3QiXT1tLnJlcGxhY2UoL15cLysvLCIiKSk7dmFyIGY9Zy5kZWVwQWNjZXNzKGUsImZwZC5jb250ZXh0LmFkU2VydmVyLmFkU2xvdCIpO3JldHVybiJzdHJpbmciPT10eXBlb2YgZiYmZiYmKGNbInRnX2kuZGZwX2FkX3VuaXRfY29kZSJdPWYucmVwbGFjZSgvXlwvKy8sIiIpKSwhMD09PXYuYi5nZXRDb25maWcoImNvcHBhIikmJihjLmNvcHBhPTEpLGUuc2NoYWluJiZrKGUuc2NoYWluKSYmKGMucnBfc2NoYWluPUEuc2VyaWFsaXplU3VwcGx5Q2hhaW4oZS5zY2hhaW4pKSxjfSxzZXJpYWxpemVTdXBwbHlDaGFpbjpmdW5jdGlvbihlKXtpZighayhlKSlyZXR1cm4iIjt2YXIgcj1lLnZlcix0PWUuY29tcGxldGUsaT1lLm5vZGVzO3JldHVybiIiLmNvbmNhdChyLCIsIikuY29uY2F0KHQsIiEiKS5jb25jYXQoQS5zZXJpYWxpemVTdXBwbHlDaGFpbk5vZGVzKGkpKX0sc2VyaWFsaXplU3VwcGx5Q2hhaW5Ob2RlczpmdW5jdGlvbihlKXt2YXIgdD1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdO3JldHVybiBlLm1hcChmdW5jdGlvbihyKXtyZXR1cm4gdC5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChyW2VdfHwiIil9KS5qb2luKCIsIil9KS5qb2luKCIhIil9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGMsZSl7dmFyIGQ9ZS5iaWRSZXF1ZXN0O2lmKCEoYz1jLmJvZHkpfHwib2JqZWN0IiE9PWgoYykpcmV0dXJuW107aWYoYy5zZWF0YmlkKXt2YXIgcj1nLmRlZXBBY2Nlc3MoYywiZXh0LmVycm9ycy5ydWJpY29uIik7QXJyYXkuaXNBcnJheShyKSYmMDxyLmxlbmd0aCYmZy5sb2dXYXJuKCJSdWJpY29uOiBFcnJvciBpbiB2aWRlbyByZXNwb25zZSIpO3ZhciBvPVtdO3JldHVybiBjLnNlYXRiaWQuZm9yRWFjaChmdW5jdGlvbihuKXsobi5iaWR8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPXtyZXF1ZXN0SWQ6ZC5iaWRJZCxjdXJyZW5jeTpjLmN1cnx8IlVTRCIsY3JlYXRpdmVJZDplLmNyaWQsY3BtOmUucHJpY2V8fDAsYmlkZGVyQ29kZTpuLnNlYXQsdHRsOjMwMCxuZXRSZXZlbnVlOiExIT09Xy5uZXRSZXZlbnVlLHdpZHRoOmUud3x8Zy5kZWVwQWNjZXNzKGQsIm1lZGlhVHlwZXMudmlkZW8udyIpfHxnLmRlZXBBY2Nlc3MoZCwicGFyYW1zLnZpZGVvLnBsYXllcldpZHRoIiksaGVpZ2h0OmUuaHx8Zy5kZWVwQWNjZXNzKGQsIm1lZGlhVHlwZXMudmlkZW8uaCIpfHxnLmRlZXBBY2Nlc3MoZCwicGFyYW1zLnZpZGVvLnBsYXllckhlaWdodCIpfTtlLmlkJiYoci5zZWF0QmlkSWQ9ZS5pZCksZS5kZWFsaWQmJihyLmRlYWxJZD1lLmRlYWxpZCksZS5hZG9tYWluJiZnLmRlZXBTZXRWYWx1ZShyLCJtZXRhLmFkdmVydGlzZXJEb21haW5zIixBcnJheS5pc0FycmF5KGUuYWRvbWFpbik/ZS5hZG9tYWluOltlLmFkb21haW5dKSxnLmRlZXBBY2Nlc3MoZSwiZXh0LmJpZGRlci5ycC5hZHZpZCIpJiZnLmRlZXBTZXRWYWx1ZShyLCJtZXRhLmFkdmVydGlzZXJJZCIsZS5leHQuYmlkZGVyLnJwLmFkdmlkKTt2YXIgdCxpPWcuZGVlcEFjY2VzcyhjLCJleHQucmVzcG9uc2V0aW1lbWlsbGlzLnJ1Ymljb24iKTtkJiZpJiYoZC5zZXJ2ZXJSZXNwb25zZVRpbWVNcz1pKSxnLmRlZXBBY2Nlc3MoZSwiZXh0LnByZWJpZC50eXBlIik9PT1wLmQ/KHIubWVkaWFUeXBlPXAuZCxnLmRlZXBTZXRWYWx1ZShyLCJtZXRhLm1lZGlhVHlwZSIscC5kKSwodD1nLmRlZXBBY2Nlc3MoZSwiZXh0LnByZWJpZC50YXJnZXRpbmciKSkmJiJvYmplY3QiPT09aCh0KSYmKHIuYWRzZXJ2ZXJUYXJnZXRpbmc9dCksZS5leHQucHJlYmlkLmNhY2hlJiYib2JqZWN0Ij09PWgoZS5leHQucHJlYmlkLmNhY2hlLnZhc3RYbWwpJiZlLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkJiZlLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmw/KHIudmlkZW9DYWNoZUtleT1lLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC5jYWNoZUlkLHIudmFzdFVybD1lLmV4dC5wcmViaWQuY2FjaGUudmFzdFhtbC51cmwpOnQmJnQuaGJfdXVpZCYmdC5oYl9jYWNoZV9ob3N0JiZ0LmhiX2NhY2hlX3BhdGgmJihyLnZpZGVvQ2FjaGVLZXk9dC5oYl91dWlkLHIudmFzdFVybD0iaHR0cHM6Ly8iLmNvbmNhdCh0LmhiX2NhY2hlX2hvc3QpLmNvbmNhdCh0LmhiX2NhY2hlX3BhdGgsIj91dWlkPSIpLmNvbmNhdCh0LmhiX3V1aWQpKSxlLmFkbSYmKHIudmFzdFhtbD1lLmFkbSksZS5udXJsJiYoci52YXN0VXJsPWUubnVybCksIXIudmFzdFVybCYmZS5udXJsJiYoci52YXN0VXJsPWUubnVybCkpOmcubG9nV2FybigiUnViaWNvbjogdmlkZW8gcmVzcG9uc2UgcmVjZWl2ZWQgbm9uLXZpZGVvIG1lZGlhIHR5cGUiKSxvLnB1c2gocil9KX0pLG99dmFyIHQ9Yy5hZHM7cmV0dXJuIm9iamVjdCIhPT1oKGQpfHxBcnJheS5pc0FycmF5KGQpfHwidmlkZW8iIT09bShkKXx8Im9iamVjdCIhPT1oKHQpfHwodD10W2QuYWRVbml0Q29kZV0pLCFBcnJheS5pc0FycmF5KHQpfHx0Lmxlbmd0aDwxP1tdOnQucmVkdWNlKGZ1bmN0aW9uKGUscix0KXtpZigib2siIT09ci5zdGF0dXMpcmV0dXJuIGU7dmFyIGksbixvLGEscz1BcnJheS5pc0FycmF5KGQpP2RbdF06ZDtyZXR1cm4gcyYmIm9iamVjdCI9PT1oKHMpPyhpPXtyZXF1ZXN0SWQ6cy5iaWRJZCxjdXJyZW5jeToiVVNEIixjcmVhdGl2ZUlkOnIuY3JlYXRpdmVfaWR8fCIiLmNvbmNhdChyLm5ldHdvcmt8fCIiLCItIikuY29uY2F0KHIuYWR2ZXJ0aXNlcnx8IiIpLGNwbTpyLmNwbXx8MCxkZWFsSWQ6ci5kZWFsLHR0bDozMDAsbmV0UmV2ZW51ZTohMSE9PV8ubmV0UmV2ZW51ZSxydWJpY29uOnthZHZlcnRpc2VySWQ6ci5hZHZlcnRpc2VyLG5ldHdvcmtJZDpyLm5ldHdvcmt9LG1ldGE6e2FkdmVydGlzZXJJZDpyLmFkdmVydGlzZXIsbmV0d29ya0lkOnIubmV0d29yayxtZWRpYVR5cGU6cC5ifX0sci5jcmVhdGl2ZV90eXBlJiYoaS5tZWRpYVR5cGU9ci5jcmVhdGl2ZV90eXBlKSxyLmFkb21haW4mJihpLm1ldGEuYWR2ZXJ0aXNlckRvbWFpbnM9QXJyYXkuaXNBcnJheShyLmFkb21haW4pP3IuYWRvbWFpbjpbci5hZG9tYWluXSksci5jcmVhdGl2ZV90eXBlPT09cC5kPyhpLndpZHRoPXMucGFyYW1zLnZpZGVvLnBsYXllcldpZHRoLGkuaGVpZ2h0PXMucGFyYW1zLnZpZGVvLnBsYXllckhlaWdodCxpLnZhc3RVcmw9ci5jcmVhdGl2ZV9kZXBvdF91cmwsaS5pbXByZXNzaW9uX2lkPXIuaW1wcmVzc2lvbl9pZCxpLnZpZGVvQ2FjaGVLZXk9ci5pbXByZXNzaW9uX2lkKTooaS5hZD0obz1yLnNjcmlwdCxhPXIuaW1wcmVzc2lvbl9pZCwiPGh0bWw+XG48aGVhZD48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+aW5EYXBJRj10cnVlOzxcL3NjcmlwdD48L2hlYWQ+XG48Ym9keSBzdHlsZT0nbWFyZ2luIDogMDsgcGFkZGluZzogMDsnPlxuXHgzYyEtLSBSdWJpY29uIFByb2plY3QgQWQgVGFnIC0tXHgzZVxuPGRpdiBkYXRhLXJwLWltcHJlc3Npb24taWQ9JyIuY29uY2F0KGEsIic+XG48c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+IikuY29uY2F0KG8sIjxcL3NjcmlwdD5cbjwvZGl2PlxuPC9ib2R5PlxuPC9odG1sPiIpKSxuPXkodVtyLnNpemVfaWRdLnNwbGl0KCJ4IikubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBOdW1iZXIoZSl9KSwyKSxpLndpZHRoPW5bMF0saS5oZWlnaHQ9blsxXSksaS5ydWJpY29uVGFyZ2V0aW5nPShBcnJheS5pc0FycmF5KHIudGFyZ2V0aW5nKT9yLnRhcmdldGluZzpbXSkucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIGVbci5rZXldPXIudmFsdWVzWzBdLGV9LHtycGZsX2VsZW1pZDpzLmFkVW5pdENvZGV9KSxlLnB1c2goaSkpOmcubG9nRXJyb3IoIlJ1Ymljb246IGJpZFJlcXVlc3QgdW5kZWZpbmVkIGF0IGluZGV4IHBvc2l0aW9uOiIuY29uY2F0KHQpLGQsYyksZX0sW10pLnNvcnQoZnVuY3Rpb24oZSxyKXtyZXR1cm4oci5jcG18fDApLShlLmNwbXx8MCl9KX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscix0LGkpe2lmKCF6JiZlLmlmcmFtZUVuYWJsZWQpe3ZhciBuPSIiO3JldHVybiB0JiYic3RyaW5nIj09dHlwZW9mIHQuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHQuZ2RwckFwcGxpZXM/bis9Ij9nZHByPSIuY29uY2F0KE51bWJlcih0LmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQodC5jb25zZW50U3RyaW5nKTpuKz0iP2dkcHJfY29uc2VudD0iLmNvbmNhdCh0LmNvbnNlbnRTdHJpbmcpKSxpJiYobis9IiIuY29uY2F0KG4/IiYiOiI/IiwidXNfcHJpdmFjeT0iKS5jb25jYXQoZW5jb2RlVVJJQ29tcG9uZW50KGkpKSksej0hMCx7dHlwZToiaWZyYW1lIix1cmw6Imh0dHBzOi8vIi5jb25jYXQoXy5zeW5jSG9zdHx8ImV1cyIsIi5ydWJpY29ucHJvamVjdC5jb20vdXN5bmMuaHRtbCIpK259fX0sdHJhbnNmb3JtQmlkUGFyYW1zOmZ1bmN0aW9uKGUpe3JldHVybiBnLmNvbnZlcnRUeXBlcyh7YWNjb3VudElkOiJudW1iZXIiLHNpdGVJZDoibnVtYmVyIix6b25lSWQ6Im51bWJlciJ9LGUpfX07ZnVuY3Rpb24gUyhlLHIpe3ZhciB0PXYuYi5nZXRDb25maWcoInBhZ2VVcmwiKSx0PWUucGFyYW1zLnJlZmVycmVyP2UucGFyYW1zLnJlZmVycmVyOnR8fHIucmVmZXJlckluZm8ucmVmZXJlcjtyZXR1cm4gZS5wYXJhbXMuc2VjdXJlP3QucmVwbGFjZSgvXmh0dHA6L2ksImh0dHBzOiIpOnR9ZnVuY3Rpb24gaihlLHIpe3ZhciB0PWUucGFyYW1zO2lmKCJ2aWRlbyI9PT1yKXt2YXIgaT1bXTtyZXR1cm4gdC52aWRlbyYmdC52aWRlby5wbGF5ZXJXaWR0aCYmdC52aWRlby5wbGF5ZXJIZWlnaHQ/aT1bdC52aWRlby5wbGF5ZXJXaWR0aCx0LnZpZGVvLnBsYXllckhlaWdodF06QXJyYXkuaXNBcnJheShnLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlby5wbGF5ZXJTaXplIikpJiYxPT09ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemUubGVuZ3RoP2k9ZS5tZWRpYVR5cGVzLnZpZGVvLnBsYXllclNpemVbMF06QXJyYXkuaXNBcnJheShlLnNpemVzKSYmMDxlLnNpemVzLmxlbmd0aCYmQXJyYXkuaXNBcnJheShlLnNpemVzWzBdKSYmMTxlLnNpemVzWzBdLmxlbmd0aCYmKGk9ZS5zaXplc1swXSksaX12YXIgbj1bXTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0LnNpemVzKT9uPXQuc2l6ZXM6dm9pZCAwIT09Zy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIik/bj1hKGUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMpOkFycmF5LmlzQXJyYXkoZS5zaXplcykmJjA8ZS5zaXplcy5sZW5ndGg/bj1hKGUuc2l6ZXMpOmcubG9nV2FybigiUnViaWNvbjogbm8gc2l6ZXMgYXJlIHNldHVwIG9yIGZvdW5kIiksZChuKX1mdW5jdGlvbiBhKGUpe3JldHVybiBnLnBhcnNlU2l6ZXNJbnB1dChlKS5yZWR1Y2UoZnVuY3Rpb24oZSxyKXt2YXIgdD1wYXJzZUludCh1W3JdLDEwKTtyZXR1cm4gdCYmZS5wdXNoKHQpLGV9LFtdKX1mdW5jdGlvbiBzKGUpe3JldHVybiJvYmplY3QiPT09aChnLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvIikpJiZ2b2lkIDAhPT1nLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy4iLmNvbmNhdChwLmQpKX1mdW5jdGlvbiBtKGUscil7dmFyIHQ9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1yJiZyO3JldHVybiBzKGUpPy0xPT09WyJvdXRzdHJlYW0iLCJpbnN0cmVhbSJdLmluZGV4T2YoZy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQocC5kLCIuY29udGV4dCIpKSk/dm9pZCh0JiZnLmxvZ0Vycm9yKCJSdWJpY29uOiBtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQgbXVzdCBiZSBvdXRzdHJlYW0gb3IgaW5zdHJlYW0iKSk6aihlLCJ2aWRlbyIpLmxlbmd0aDwyP3ZvaWQodCYmZy5sb2dFcnJvcigiUnViaWNvbjogY291bGQgbm90IGRldGVybWluZSB0aGUgcGxheWVyU2l6ZSBvZiB0aGUgdmlkZW8iKSk6KHQmJmcubG9nTWVzc2FnZSgiUnViaWNvbjogbWFraW5nIHZpZGVvIHJlcXVlc3QgZm9yIGFkVW5pdCIsZS5hZFVuaXRDb2RlKSwidmlkZW8iKTowPT09aihlLCJiYW5uZXIiKS5sZW5ndGg/dm9pZCh0JiZnLmxvZ0Vycm9yKCJSdWJpY29uOiBjb3VsZCBub3QgZGV0ZXJtaW5lIHRoZSBzaXplcyBmb3IgYmFubmVyIHJlcXVlc3QiKSk6KHQmJmcubG9nTWVzc2FnZSgiUnViaWNvbjogbWFraW5nIGJhbm5lciByZXF1ZXN0IGZvciBhZFVuaXQiLGUuYWRVbml0Q29kZSksImJhbm5lciIpfXZhciBjPWZ1bmN0aW9uKCl7cmV0dXJuIF89e319O2Z1bmN0aW9uIGQoZSl7dmFyIG49WzE1LDIsOV07cmV0dXJuIGUuc29ydChmdW5jdGlvbihlLHIpe3ZhciB0PW4uaW5kZXhPZihlKSxpPW4uaW5kZXhPZihyKTtyZXR1cm4tMTx0fHwtMTxpPy0xPT09dD8xOi0xPT09aT8tMTp0LWk6ZS1yfSl9ZnVuY3Rpb24gZihlKXt2YXIgcj1wYXJzZUludChnLmRlZXBBY2Nlc3MoZSwicGFyYW1zLnZpZGVvLnNpemVfaWQiKSk7cmV0dXJuIGlzTmFOKHIpPyJvdXRzdHJlYW0iPT09Zy5kZWVwQWNjZXNzKGUsIm1lZGlhVHlwZXMuIi5jb25jYXQocC5kLCIuY29udGV4dCIpKT8yMDM6MjAxOnJ9ZnVuY3Rpb24gQyhlKXtyZXR1cm57cmFuZ2VzOntsb3c6W3ttYXg6NSxpbmNyZW1lbnQ6LjV9XSxtZWRpdW06W3ttYXg6MjAsaW5jcmVtZW50Oi4xfV0saGlnaDpbe21heDoyMCxpbmNyZW1lbnQ6LjAxfV0sYXV0bzpbe21heDo1LGluY3JlbWVudDouMDV9LHttaW46NSxtYXg6MTAsaW5jcmVtZW50Oi4xfSx7bWluOjEwLG1heDoyMCxpbmNyZW1lbnQ6LjV9XSxkZW5zZTpbe21heDozLGluY3JlbWVudDouMDF9LHttaW46MyxtYXg6OCxpbmNyZW1lbnQ6LjA1fSx7bWluOjgsbWF4OjIwLGluY3JlbWVudDouNX1dLGN1c3RvbTplLmdldENvbmZpZygiY3VzdG9tUHJpY2VCdWNrZXQiKSYmZS5nZXRDb25maWcoImN1c3RvbVByaWNlQnVja2V0IikuYnVja2V0c31bZS5nZXRDb25maWcoInByaWNlR3JhbnVsYXJpdHkiKV19fWZ1bmN0aW9uIEkocil7dmFyIHQ9ITAsZT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoW10pLGk9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKDApLG49e21pbWVzOmUscHJvdG9jb2xzOmUsbWF4ZHVyYXRpb246aSxsaW5lYXJpdHk6aSxhcGk6ZX07cmV0dXJuIE9iamVjdC5rZXlzKG4pLmZvckVhY2goZnVuY3Rpb24oZSl7T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGcuZGVlcEFjY2VzcyhyLCJtZWRpYVR5cGVzLnZpZGVvLiIrZSkpIT09bltlXSYmKHQ9ITEsZy5sb2dFcnJvcigiUnViaWNvbjogbWVkaWFUeXBlcy52aWRlby4iK2UrIiBpcyByZXF1aXJlZCBhbmQgbXVzdCBiZSBvZiB0eXBlOiAiK25bZV0pKX0pLHR9ZnVuY3Rpb24gayhlKXt2YXIgcj0hMSx0PVsiYXNpIiwic2lkIiwiaHAiXTtyZXR1cm4gZS5ub2RlcyYmKChyPWUubm9kZXMucmVkdWNlKGZ1bmN0aW9uKGUscil7cmV0dXJuIGU/dC5ldmVyeShmdW5jdGlvbihlKXtyZXR1cm4gci5oYXNPd25Qcm9wZXJ0eShlKX0pOmV9LCEwKSl8fGcubG9nRXJyb3IoIlJ1Ymljb246IHJlcXVpcmVkIHNjaGFpbiBwYXJhbXMgbWlzc2luZyIpKSxyfWZ1bmN0aW9uIHcoZSxyKXtyZXR1cm4icnBfc2NoYWluIj09PWU/InJwX3NjaGFpbj0iLmNvbmNhdChyKToiIi5jb25jYXQoZSwiPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocikpfXZhciB6PSExO09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShBKX19LFs3MzRdKTsKdXBianNDaHVuayhbMTI3XSx7NzQyOmZ1bmN0aW9uKG4saSxlKXtuLmV4cG9ydHM9ZSg3NDMpfSw3NDM6ZnVuY3Rpb24obixpLGUpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoaSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksaS5pc1NjaGFpbk9iamVjdFZhbGlkPU8saS5pc1ZhbGlkU2NoYWluQ29uZmlnPWwsaS5tYWtlQmlkUmVxdWVzdHNIb29rPW8saS5pbml0PWc7dmFyIHQ9ZSgzKSxjPWUoOSksYT1lKDApLHM9IkludmFsaWQgc2NoYWluIG9iamVjdCBmb3VuZDogIixyPSIgc2hvdWxkIGJlIGEgc3RyaW5nIixmPSIgc2hvdWxkIGJlIGFuIEludGVnZXIiLGQ9IiBzaG91bGQgYmUgYW4gb2JqZWN0IixiPSIgc2hvdWxkIGJlIGFuIEFycmF5IixoPXtTVFJJQ1Q6InN0cmljdCIsUkVMQVhFRDoicmVsYXhlZCIsT0ZGOiJvZmYifSx1PVtdO2Z1bmN0aW9uIE8obixpKXt2YXIgZT0iRGV0ZWN0ZWQgc29tZXRoaW5nIHdyb25nIHdpdGhpbiBhbiBzY2hhaW4gY29uZmlnOiIsdD0iIjtmdW5jdGlvbiBjKG4pe3QrPSJcbiIrbn1mdW5jdGlvbiBvKCl7KCEwPT09aT9PYmplY3QoYS5sb2dFcnJvcik6T2JqZWN0KGEubG9nV2FybikpKGUsbix0KX1pZighT2JqZWN0KGEuaXNQbGFpbk9iamVjdCkobikmJihjKCJzY2hhaW4uY29uZmlnIitkKSxvKCksaSkpcmV0dXJuITE7aWYoT2JqZWN0KGEuaXNOdW1iZXIpKG4uY29tcGxldGUpJiZPYmplY3QoYS5pc0ludGVnZXIpKG4uY29tcGxldGUpfHxjKCJzY2hhaW4uY29uZmlnLmNvbXBsZXRlIitmKSxPYmplY3QoYS5pc1N0cikobi52ZXIpfHxjKCJzY2hhaW4uY29uZmlnLnZlciIrciksT2JqZWN0KGEuaGFzT3duKShuLCJleHQiKSYmKE9iamVjdChhLmlzUGxhaW5PYmplY3QpKG4uZXh0KXx8Yygic2NoYWluLmNvbmZpZy5leHQiK2QpKSxPYmplY3QoYS5pc0FycmF5KShuLm5vZGVzKSluLm5vZGVzLmZvckVhY2goZnVuY3Rpb24obixpKXtPYmplY3QoYS5pc1N0cikobi5hc2kpfHxjKCJzY2hhaW4uY29uZmlnLm5vZGVzWyIuY29uY2F0KGksIl0uYXNpIikrciksT2JqZWN0KGEuaXNTdHIpKG4uc2lkKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLnNpZCIpK3IpLE9iamVjdChhLmlzTnVtYmVyKShuLmhwKSYmT2JqZWN0KGEuaXNJbnRlZ2VyKShuLmhwKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmhwIikrZiksT2JqZWN0KGEuaGFzT3duKShuLCJyaWQiKSYmKE9iamVjdChhLmlzU3RyKShuLnJpZCl8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5yaWQiKStyKSksT2JqZWN0KGEuaGFzT3duKShuLCJuYW1lIikmJihPYmplY3QoYS5pc1N0cikobi5uYW1lKXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLm5hbWUiKStyKSksT2JqZWN0KGEuaGFzT3duKShuLCJkb21haW4iKSYmKE9iamVjdChhLmlzU3RyKShuLmRvbWFpbil8fGMoInNjaGFpbi5jb25maWcubm9kZXNbIi5jb25jYXQoaSwiXS5kb21haW4iKStyKSksT2JqZWN0KGEuaGFzT3duKShuLCJleHQiKSYmKE9iamVjdChhLmlzUGxhaW5PYmplY3QpKG4uZXh0KXx8Yygic2NoYWluLmNvbmZpZy5ub2Rlc1siLmNvbmNhdChpLCJdLmV4dCIpK2QpKX0pO2Vsc2UgaWYoYygic2NoYWluLmNvbmZpZy5ub2RlcyIrYiksbygpLGkpcmV0dXJuITE7cmV0dXJuISgwPHQubGVuZ3RoJiYobygpLGkpKX1mdW5jdGlvbiBsKG4pe3JldHVybiB2b2lkIDAhPT1uJiYoISFPYmplY3QoYS5pc1BsYWluT2JqZWN0KShuKXx8KE9iamVjdChhLmxvZ0Vycm9yKShzKyJ0aGUgZm9sbG93aW5nIHNjaGFpbiBjb25maWcgd2lsbCBub3QgYmUgdXNlZCBhcyBzY2hhaW4gaXMgbm90IGFuIG9iamVjdC4iLG4pLCExKSl9ZnVuY3Rpb24gbyhuLGkpe3ZhciBjPXQuYi5nZXRDb25maWcoInNjaGFpbiIpLG89dC5iLmdldEJpZGRlckNvbmZpZygpO2kuZm9yRWFjaChmdW5jdGlvbihuKXt2YXIgaSxlPW4uYmlkZGVyQ29kZSx0PW9baT1lXSYmb1tpXS5zY2hhaW58fGM7bi5iaWRzLmZvckVhY2goZnVuY3Rpb24obil7dmFyIGk9ZnVuY3Rpb24obixpKXt2YXIgZT1oLlNUUklDVDtpZihsKG4pKXtpZihPYmplY3QoYS5pc1N0cikobi52YWxpZGF0aW9uKSYmLTEhPXUuaW5kZXhPZihuLnZhbGlkYXRpb24pJiYoZT1uLnZhbGlkYXRpb24pLGU9PT1oLk9GRilyZXR1cm4gbi5jb25maWc7aWYoTyhuLmNvbmZpZywhKGUhPT1oLlNUUklDVCkpKXJldHVybiBuLmNvbmZpZztPYmplY3QoYS5sb2dFcnJvcikocysiZHVlIHRvIHRoZSAnc3RyaWN0JyB2YWxpZGF0aW9uIHNldHRpbmcsIHRoaXMgc2NoYWluIGNvbmZpZyB3aWxsIG5vdCBiZSBwYXNzZWQgdG8gYmlkZGVyICciLmNvbmNhdChpLCInLiAgU2VlIGFib3ZlIGVycm9yIGZvciBkZXRhaWxzLiIpKX1yZXR1cm4gbnVsbH0odCxlKTtpJiYobi5zY2hhaW49aSl9KX0pLG4oaSl9ZnVuY3Rpb24gZygpe2MuZGVmYXVsdC5tYWtlQmlkUmVxdWVzdHMuYWZ0ZXIobyl9T2JqZWN0KGEuX2VhY2gpKGgsZnVuY3Rpb24obil7cmV0dXJuIHUucHVzaChuKX0pLGcoKX19LFs3NDJdKTsKdXBianNDaHVuayhbMTIxXSx7NzU2OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3NTcpfSw3NTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNoYXJldGhyb3VnaEludGVybmFsIixmdW5jdGlvbigpe3JldHVybiBzfSksci5kKHQsInNoYXJldGhyb3VnaEFkYXB0ZXJTcGVjIixmdW5jdGlvbigpe3JldHVybiBjfSk7dmFyIG49cigxKSxpPXIoMCksbz0ic2hhcmV0aHJvdWdoIixhPVsxLDFdLHM9e2I2NEVuY29kZVVuaWNvZGU6ZCxoYW5kbGVJZnJhbWU6ZnVuY3Rpb24oKXt2YXIgZT0hMTtpZighd2luZG93LmxvY2tlZEluRnJhbWUpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3Quc3JjPSJodHRwczovL25hdGl2ZS5zaGFyZXRocm91Z2guY29tL2Fzc2V0cy9zZnAtc2V0LXRhcmdldGluZy5qcyIsdC50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO3RyeXt3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZCh0KSxlPSEwfWNhdGNoKGUpe2kubG9nRXJyb3IoIlRyb3VibGUgd3JpdGluZyBmcmFtZSBidXN0ZXIgc2NyaXB0LCBlcnJvciBkZXRhaWxzOiIsZSl9fWlmKCEoZT93aW5kb3cudG9wLlNUUiYmd2luZG93LnRvcC5TVFIuVGFnOndpbmRvdy5TVFImJndpbmRvdy5TVFIuVGFnKSl7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7ci5zcmM9Imh0dHBzOi8vbmF0aXZlLnNoYXJldGhyb3VnaC5jb20vYXNzZXRzL3NmcC5qcyIsci50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO3RyeXtlP3dpbmRvdy50b3AuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZChyKTp3aW5kb3cuZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZChyKX1jYXRjaChlKXtpLmxvZ0Vycm9yKCJUcm91YmxlIHdyaXRpbmcgc2ZwIHNjcmlwdCwgZXJyb3IgZGV0YWlsczoiLGUpfX19LGlzTG9ja2VkSW5GcmFtZTpmdW5jdGlvbigpe3dpbmRvdy5sb2NrZWRJbkZyYW1lPSExO3RyeXt3aW5kb3cubG9ja2VkSW5GcmFtZT0hd2luZG93LnRvcC5kb2N1bWVudH1jYXRjaChlKXt3aW5kb3cubG9ja2VkSW5GcmFtZT1lIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9ufX0sZ2V0UHJvdG9jb2w6ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQubG9jYXRpb24ucHJvdG9jb2x9fSxjPXtjb2RlOm8saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISFlLnBhcmFtcy5wa2V5JiZlLmJpZGRlcj09PW99LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxuKXtyZXR1cm4gZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9e3BsYWNlbWVudF9rZXk6ZS5wYXJhbXMucGtleSxiaWRJZDplLmJpZElkLGNvbnNlbnRfcmVxdWlyZWQ6ITEsaW5zdGFudF9wbGF5X2NhcGFibGU6ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50O2lmKCFlKXJldHVybiExO3ZhciB0PS9BbmRyb2lkL2kudGVzdChlKSxyPS9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChlKSxuPXBhcnNlSW50KCgvQ2hyb21lXC8oWzAtOV0rKS8uZXhlYyhlKXx8WzAsMF0pWzFdKSxpPXBhcnNlSW50KCgvQ3JpT1NcLyhbMC05XSspLy5leGVjKGUpfHxbMCwwXSlbMV0pLG89cGFyc2VJbnQoKC9WZXJzaW9uXC8oWzAtOV0rKS8uZXhlYyhlKXx8WzAsMF0pWzFdKTtyZXR1cm4hISh0JiY1Mzw9bnx8ciYmKDEwPD1vfHw1Mzw9aSl8fCF0JiYhcil9KCksaGJTb3VyY2U6InByZWJpZCIsaGJWZXJzaW9uOiI0LjE3LjAiLHN0clZlcnNpb246IjMuMi4xIn0scj1zLmdldFByb3RvY29sKCkuaW5kZXhPZigiaHR0cCIpPDA7cmV0dXJuIHQuc2VjdXJlPXJ8fC0xPHMuZ2V0UHJvdG9jb2woKS5pbmRleE9mKCJodHRwcyIpLG4mJm4uZ2RwckNvbnNlbnQmJm4uZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHQuY29uc2VudF9zdHJpbmc9bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nKSxuJiZuLmdkcHJDb25zZW50JiYodC5jb25zZW50X3JlcXVpcmVkPSEhbi5nZHByQ29uc2VudC5nZHByQXBwbGllcyksbiYmbi51c3BDb25zZW50JiYodC51c19wcml2YWN5PW4udXNwQ29uc2VudCksZS51c2VySWQmJmUudXNlcklkLnRkaWQmJih0LnR0ZHVpZD1lLnVzZXJJZC50ZGlkKSxlLnVzZXJJZCYmZS51c2VySWQucHViY2lkP3QucHViY2lkPWUudXNlcklkLnB1YmNpZDplLmNydW1icyYmZS5jcnVtYnMucHViY2lkJiYodC5wdWJjaWQ9ZS5jcnVtYnMucHViY2lkKSxlLnNjaGFpbiYmKHQuc2NoYWluPUpTT04uc3RyaW5naWZ5KGUuc2NoYWluKSksZS5iaWRmbG9vciYmKHQuYmlkZmxvb3I9cGFyc2VGbG9hdChlLmJpZGZsb29yKSkse21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vYnRsci5zaGFyZXRocm91Z2guY29tL1dZdTJCWHYxL3YxIixkYXRhOnQsc3RyRGF0YTp7c2tpcElmcmFtZUJ1c3Rpbmc6ZS5wYXJhbXMuaWZyYW1lLGlmcmFtZVNpemU6ZS5wYXJhbXMuaWZyYW1lU2l6ZSxzaXplczplLnNpemVzfX19KX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSx0KXt2YXIgcj1lLmJvZHk7aWYoIXJ8fCFyLmNyZWF0aXZlc3x8IXIuY3JlYXRpdmVzLmxlbmd0aClyZXR1cm5bXTt2YXIgbj1yLmNyZWF0aXZlc1swXSxpPWE7ZnVuY3Rpb24gbyhlKXtyZXR1cm4gZVswXSplWzFdfXJldHVybih0LnN0ckRhdGEuaWZyYW1lU2l6ZXx8dC5zdHJEYXRhLnNpemVzLmxlbmd0aCkmJihpPXQuc3RyRGF0YS5pZnJhbWVTaXplP3Quc3RyRGF0YS5pZnJhbWVTaXplOnQuc3RyRGF0YS5zaXplcy5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gbyh0KT5vKGUpP3Q6ZX0pKSxbe3JlcXVlc3RJZDp0LmRhdGEuYmlkSWQsd2lkdGg6aVswXSxoZWlnaHQ6aVsxXSxjcG06bi5jcG0sY3JlYXRpdmVJZDpuLmNyZWF0aXZlLmNyZWF0aXZlX2tleSxkZWFsSWQ6bi5jcmVhdGl2ZS5kZWFsX2lkLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsdHRsOjM2MCxhZDpmdW5jdGlvbihlLHQpe3ZhciByPSJzdHJfcmVzcG9uc2VfIi5jb25jYXQodC5kYXRhLmJpZElkKSxuPSdcbiAgICA8ZGl2IGRhdGEtc3RyLW5hdGl2ZS1rZXk9IicuY29uY2F0KHQuZGF0YS5wbGFjZW1lbnRfa2V5LCciIGRhdGEtc3R4LXJlc3BvbnNlLW5hbWU9IicpLmNvbmNhdChyLCciPlxuICAgIDwvZGl2PlxuICAgIDxzY3JpcHQ+dmFyICcpLmNvbmNhdChyLCcgPSAiJykuY29uY2F0KGQoSlNPTi5zdHJpbmdpZnkoZSkpLCciPFwvc2NyaXB0PlxuICAnKTt0LnN0ckRhdGEuc2tpcElmcmFtZUJ1c3Rpbmc/bis9JzxzY3JpcHQgc3JjPSJodHRwczovL25hdGl2ZS5zaGFyZXRocm91Z2guY29tL2Fzc2V0cy9zZnAuanMiPjxcL3NjcmlwdD4nOm4rPSJcbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgICgiLmNvbmNhdChzLmlzTG9ja2VkSW5GcmFtZS50b1N0cmluZygpLCIpKClcbiAgICAgIDxcL3NjcmlwdD5cbiAgICAgIDxzY3JpcHQ+XG4gICAgICAgICgiKS5jb25jYXQocy5oYW5kbGVJZnJhbWUudG9TdHJpbmcoKSwiKSgpXG4gICAgICA8XC9zY3JpcHQ+Iik7cmV0dXJuIG59KHIsdCl9XX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLG4pe3ZhciBpPW4/IiZ1c19wcml2YWN5PSIuY29uY2F0KG4pOiIiLG89W107cmV0dXJuIGUucGl4ZWxFbmFibGVkJiYwPHQubGVuZ3RoJiZ0WzBdLmJvZHkmJnRbMF0uYm9keS5jb29raWVTeW5jVXJscyYmdFswXS5ib2R5LmNvb2tpZVN5bmNVcmxzLmZvckVhY2goZnVuY3Rpb24oZSl7by5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmUraX0pfSksb30sb25UaW1lb3V0OmZ1bmN0aW9uKCl7fSxvbkJpZFdvbjpmdW5jdGlvbigpe30sb25TZXRUYXJnZXRpbmc6ZnVuY3Rpb24oKXt9fTtmdW5jdGlvbiBkKGUpe3JldHVybiBidG9hKGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC8lKFswLTlBLUZdezJ9KS9nLGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoIjB4Iit0KX0pKX1PYmplY3Qobi5yZWdpc3RlckJpZGRlcikoYyl9fSxbNzU2XSk7CnVwYmpzQ2h1bmsoWzEzXSx7MjI6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtyLmE9ZnVuY3Rpb24oZSl7dmFyIHI9W107Zm9yKHZhciB0IGluIGUpe3ZhciBhO2UuaGFzT3duUHJvcGVydHkodCkmJigicHViUHJvdmlkZWRJZCI9PT10P3I9ci5jb25jYXQoZS5wdWJQcm92aWRlZElkKTooYT1mdW5jdGlvbihlLHIpe3ZhciB0PXBbcl07aWYodCYmZSl7dmFyIGE9e307YS5zb3VyY2U9dC5zb3VyY2U7dmFyIGk9cy5pc0ZuKHQuZ2V0VmFsdWUpP3QuZ2V0VmFsdWUoZSk6ZTtpZihzLmlzU3RyKGkpKXt2YXIgbixkLG89e2lkOmksYXR5cGU6dC5hdHlwZX07cmV0dXJuIXMuaXNGbih0LmdldFVpZEV4dCl8fChuPXQuZ2V0VWlkRXh0KGUpKSYmKG8uZXh0PW4pLGEudWlkcz1bb10sIXMuaXNGbih0LmdldEVpZEV4dCl8fChkPXQuZ2V0RWlkRXh0KGUpKSYmKGEuZXh0PWQpLGF9fXJldHVybiBudWxsfShlW3RdLHQpKSYmci5wdXNoKGEpKX1yZXR1cm4gcn07dmFyIHM9dCgwKSxwPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHI9cy5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHIpLmxlbmd0aClyZXR1cm4gcn19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZToxfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjEsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjF9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LHNoYXJlZGlkOntzb3VyY2U6InNoYXJlZGlkLm9yZyIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnRoaXJkP3t0aGlyZDplLnRoaXJkfTp2b2lkIDB9fSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LHZtdWlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjF9fX0sNzY4OmZ1bmN0aW9uKGUscix0KXtlLmV4cG9ydHM9dCg3NjkpfSw3Njk6ZnVuY3Rpb24oZSxyLHQpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkociwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksdC5kKHIsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHV9KTt2YXIgbz10KDApLHM9dCgyKSxwPXQoMyksYT10KDEpLGM9dCgyMiksdT17Y29kZToic21hcnRhZHNlcnZlciIsZ3ZsaWQ6NDUsYWxpYXNlczpbInNtYXJ0Il0sc3VwcG9ydGVkTWVkaWFUeXBlczpbcy5iLHMuZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZS5wYXJhbXMmJmUucGFyYW1zLnNpdGVJZCYmZS5wYXJhbXMucGFnZUlkJiZlLnBhcmFtcy5mb3JtYXRJZCl9LHNlcmlhbGl6ZVN1cHBseUNoYWluOmZ1bmN0aW9uKGUpe2lmKCFlfHwhZS5ub2RlcylyZXR1cm4gbnVsbDt2YXIgdD1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiJdO3JldHVybiIiLmNvbmNhdChlLnZlciwiLCIpLmNvbmNhdChlLmNvbXBsZXRlLCIhIikrZS5ub2Rlcy5tYXAoZnVuY3Rpb24ocil7cmV0dXJuIHQubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByW2VdP2VuY29kZVVSSUNvbXBvbmVudChyW2VdKToiIn0pLmpvaW4oIiwiKX0pLmpvaW4oIiEiKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLGQpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXt2YXIgcj17c2l0ZWlkOmUucGFyYW1zLnNpdGVJZCxwYWdlaWQ6ZS5wYXJhbXMucGFnZUlkLGZvcm1hdGlkOmUucGFyYW1zLmZvcm1hdElkLGN1cnJlbmN5Q29kZTpwLmIuZ2V0Q29uZmlnKCJjdXJyZW5jeS5hZFNlcnZlckN1cnJlbmN5IiksYmlkZmxvb3I6ZS5wYXJhbXMuYmlkZmxvb3J8fDAsdGFyZ2V0aW5nOmUucGFyYW1zLnRhcmdldCYmIiIhPT1lLnBhcmFtcy50YXJnZXQ/ZS5wYXJhbXMudGFyZ2V0OnZvaWQgMCxidWlkOmUucGFyYW1zLmJ1SWQmJiIiIT09ZS5wYXJhbXMuYnVJZD9lLnBhcmFtcy5idUlkOnZvaWQgMCxhcHBuYW1lOmUucGFyYW1zLmFwcE5hbWUmJiIiIT09ZS5wYXJhbXMuYXBwTmFtZT9lLnBhcmFtcy5hcHBOYW1lOnZvaWQgMCxja2lkOmUucGFyYW1zLmNrSWR8fDAsdGFnSWQ6ZS5hZFVuaXRDb2RlLHBhZ2VEb21haW46ZCYmZC5yZWZlcmVySW5mbyYmZC5yZWZlcmVySW5mby5yZWZlcmVyP2QucmVmZXJlckluZm8ucmVmZXJlcjp2b2lkIDAsdHJhbnNhY3Rpb25JZDplLnRyYW5zYWN0aW9uSWQsdGltZW91dDpwLmIuZ2V0Q29uZmlnKCJiaWRkZXJUaW1lb3V0IiksYmlkSWQ6ZS5iaWRJZCxwcmViaWRWZXJzaW9uOiI0LjE3LjAiLHNjaGFpbjp1LnNlcmlhbGl6ZVN1cHBseUNoYWluKGUuc2NoYWluKX0sdD1vLmRlZXBBY2Nlc3MoZSwibWVkaWFUeXBlcy52aWRlbyIpO2lmKHQpe2lmKCF0fHwiaW5zdHJlYW0iIT09dC5jb250ZXh0JiYib3V0c3RyZWFtIiE9PXQuY29udGV4dClyZXR1cm57fTt2YXIgYT10LnBsYXllclNpemVbMF07ci5pc1ZpZGVvPSJpbnN0cmVhbSI9PT10LmNvbnRleHQsci5tZWRpYVR5cGU9cy5kLHIudmlkZW9EYXRhPXt2aWRlb1Byb3RvY29sOmUucGFyYW1zLnZpZGVvLnByb3RvY29sLHBsYXllcldpZHRoOmFbMF0scGxheWVySGVpZ2h0OmFbMV0sYWRCcmVhazplLnBhcmFtcy52aWRlby5zdGFydERlbGF5fHwxfX1lbHNle3ZhciBpPW8uZGVlcEFjY2VzcyhlLCJtZWRpYVR5cGVzLmJhbm5lciIpO3Iuc2l6ZXM9aS5zaXplcy5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6ZVswXSxoOmVbMV19fSl9ZCYmZC5nZHByQ29uc2VudCYmKHIuYWRkdGxfY29uc2VudD1kLmdkcHJDb25zZW50LmFkZHRsQ29uc2VudCxyLmdkcHJfY29uc2VudD1kLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcsci5nZHByPWQuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMpLGUmJmUudXNlcklkJiYoci5laWRzPU9iamVjdChjLmEpKGUudXNlcklkKSksZCYmZC51c3BDb25zZW50JiYoci51c19wcml2YWN5PWQudXNwQ29uc2VudCk7dmFyIG49SlNPTi5zdHJpbmdpZnkocik7cmV0dXJue21ldGhvZDoiUE9TVCIsdXJsOih2b2lkIDAhPT1lLnBhcmFtcy5kb21haW4/ZS5wYXJhbXMuZG9tYWluOiJodHRwczovL3ByZy5zbWFydGFkc2VydmVyLmNvbSIpKyIvcHJlYmlkL3YxIixkYXRhOm59fSl9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUscil7dmFyIHQsYSxpPVtdLG49ZS5ib2R5O3RyeXtuJiYoYT17cmVxdWVzdElkOih0PUpTT04ucGFyc2Uoci5kYXRhKSkuYmlkSWQsY3BtOm4uY3BtLHdpZHRoOm4ud2lkdGgsaGVpZ2h0Om4uaGVpZ2h0LGNyZWF0aXZlSWQ6bi5jcmVhdGl2ZUlkLGRlYWxJZDpuLmRlYWxJZCxjdXJyZW5jeTpuLmN1cnJlbmN5LG5ldFJldmVudWU6bi5pc05ldENwbSx0dGw6bi50dGx9LHQubWVkaWFUeXBlPT09cy5kPyhhLm1lZGlhVHlwZT1zLmQsYS52YXN0VXJsPW4uYWRVcmwsYS52YXN0WG1sPW4uYWQsYS5jb250ZW50PW4uYWQpOihhLmFkVXJsPW4uYWRVcmwsYS5hZD1uLmFkKSxpLnB1c2goYSkpfWNhdGNoKGUpe28ubG9nRXJyb3IoIkVycm9yIHdoaWxlIHBhcnNpbmcgc21hcnQgc2VydmVyIHJlc3BvbnNlIixlKX1yZXR1cm4gaX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUscil7dmFyIHQ9W107cmV0dXJuIGUuaWZyYW1lRW5hYmxlZCYmMDxyLmxlbmd0aCYmdC5wdXNoKHt0eXBlOiJpZnJhbWUiLHVybDpyWzBdLmJvZHkuY1N5bmNVcmx9KSx0fX07T2JqZWN0KGEucmVnaXN0ZXJCaWRkZXIpKHUpfX0sWzc2OF0pOwp1cGJqc0NodW5rKFsxMTBdLHs3ODQ6ZnVuY3Rpb24oZSx0LHIpe2UuZXhwb3J0cz1yKDc4NSl9LDc4NTpmdW5jdGlvbihlLHQscil7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxyLmQodCwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gYX0pLHIuZCh0LCJfaXNJbmJvdW5kcyIsZnVuY3Rpb24oKXtyZXR1cm4gbX0pLHQuX2dldFBsYXRmb3JtPXY7dmFyIG49cigxKSx5PXIoMCksaT1yKDIpLG89cigzKSxnPXIoMTEpLGM9cig0NCk7ZnVuY3Rpb24gaChlLHQpe3JldHVybiBmdW5jdGlvbihlKXtpZihBcnJheS5pc0FycmF5KGUpKXJldHVybiBlfShlKXx8ZnVuY3Rpb24oZSx0KXtpZigidW5kZWZpbmVkIj09dHlwZW9mIFN5bWJvbHx8IShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKSlyZXR1cm47dmFyIHI9W10sbj0hMCxpPSExLHM9dm9pZCAwO3RyeXtmb3IodmFyIGEsbz1lW1N5bWJvbC5pdGVyYXRvcl0oKTshKG49KGE9by5uZXh0KCkpLmRvbmUpJiYoci5wdXNoKGEudmFsdWUpLCF0fHxyLmxlbmd0aCE9PXQpO249ITApO31jYXRjaChlKXtpPSEwLHM9ZX1maW5hbGx5e3RyeXtufHxudWxsPT1vLnJldHVybnx8by5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgc319cmV0dXJuIHJ9KGUsdCl8fGZ1bmN0aW9uKGUsdCl7aWYoIWUpcmV0dXJuO2lmKCJzdHJpbmciPT10eXBlb2YgZSlyZXR1cm4gcyhlLHQpO3ZhciByPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKS5zbGljZSg4LC0xKTsiT2JqZWN0Ij09PXImJmUuY29uc3RydWN0b3ImJihyPWUuY29uc3RydWN0b3IubmFtZSk7aWYoIk1hcCI9PT1yfHwiU2V0Ij09PXIpcmV0dXJuIEFycmF5LmZyb20oZSk7aWYoIkFyZ3VtZW50cyI9PT1yfHwvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChyKSlyZXR1cm4gcyhlLHQpfShlLHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9KCl9ZnVuY3Rpb24gcyhlLHQpeyhudWxsPT10fHx0PmUubGVuZ3RoKSYmKHQ9ZS5sZW5ndGgpO2Zvcih2YXIgcj0wLG49bmV3IEFycmF5KHQpO3I8dDtyKyspbltyXT1lW3JdO3JldHVybiBufWZ1bmN0aW9uIGQoKXtyZXR1cm4oZD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgcj1hcmd1bWVudHNbdF07Zm9yKHZhciBuIGluIHIpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsbikmJihlW25dPXJbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIHUoZSx0LHIpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09cixlfXZhciBwPSJzb25vYmkiLGI9T2JqZWN0KHkuZ2VuZXJhdGVVVUlEKSgpLGE9e2NvZGU6cCxzdXBwb3J0ZWRNZWRpYVR5cGVzOltpLmIsaS5kXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtpZighZS5wYXJhbXMpcmV0dXJuITE7aWYoIWUucGFyYW1zLmFkX3VuaXQmJiFlLnBhcmFtcy5wbGFjZW1lbnRfaWQpcmV0dXJuITE7aWYoIU9iamVjdCh5LmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyIikmJiFPYmplY3QoeS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvIikpcmV0dXJuITE7aWYoT2JqZWN0KHkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIiKSl7aWYoIU9iamVjdCh5LmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikmJiFlLnBhcmFtcy5zaXplcylyZXR1cm4hMX1lbHNlIGlmKE9iamVjdCh5LmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKSl7aWYoIm91dHN0cmVhbSI9PT1PYmplY3QoeS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmIWUucGFyYW1zLnNpemVzKXJldHVybiExO2lmKCJpbnN0cmVhbSI9PT1PYmplY3QoeS5kZWVwQWNjZXNzKShlLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmIU9iamVjdCh5LmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKXJldHVybiExfXJldHVybiEwfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9ZS5tYXAoZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSl7aWYoZS5wYXJhbXMuYWRfdW5pdClyZXR1cm4gZS5wYXJhbXMuYWRfdW5pdDtyZXR1cm4gZS5wYXJhbXMucGxhY2VtZW50X2lkfShlKTtyZXR1cm4vXltcL10/W1xkXStbW1wvXS4rW1wvXT9dPyQvLnRlc3QodCk/KHQ9Ii8iPT09dC5jaGFyQXQoMCk/dDoiLyIrdCx1KHt9LCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KGUuYmlkSWQpLCIiLmNvbmNhdChsKGUpKS5jb25jYXQoZihlKSkpKTovXlswLTlhLWZBLUZdezIwfSQvLnRlc3QodCkmJjIwPT09dC5sZW5ndGg/dSh7fSxlLmJpZElkLCIiLmNvbmNhdCh0LCJ8IikuY29uY2F0KGwoZSkpLmNvbmNhdChmKGUpKSk6dm9pZCBPYmplY3QoeS5sb2dFcnJvcikoIlRoZSBhZCB1bml0IGNvZGUgb3IgU29ub2JpIFBsYWNlbWVudCBpZCBmb3Igc2xvdCAiLmNvbmNhdChlLmJpZElkLCIgaXMgaW52YWxpZCIpKX0pLG49e307ci5mb3JFYWNoKGZ1bmN0aW9uKGUpe2QobixlKX0pO3ZhciBpPXtrZXlfbWFrZXI6SlNPTi5zdHJpbmdpZnkobikscmVmOnQucmVmZXJlckluZm8ucmVmZXJlcixzOk9iamVjdCh5LmdlbmVyYXRlVVVJRCkoKSxwdjpiLHZwOnYoKSxsaWJfbmFtZToicHJlYmlkIixsaWJfdjoiNC4xNy4wIix1czowfTtvLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpJiZvLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpLnN5bmNzUGVyQmlkZGVyJiYoaS51cz1vLmIuZ2V0Q29uZmlnKCJ1c2VyU3luYyIpLnN5bmNzUGVyQmlkZGVyKSxjLmEuY2FuQmlkZGVyUmVnaXN0ZXJTeW5jKCJpZnJhbWUiLHApP2kuaXVzPTE6aS5pdXM9MCxPYmplY3QoeS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuaGZhIikmJihpLmhmYT1PYmplY3QoeS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuaGZhIikpLGVbMF0ucGFyYW1zLnJlZmVycmVyJiYoaS5yZWY9ZVswXS5wYXJhbXMucmVmZXJyZXIpLHQmJnQuZ2RwckNvbnNlbnQmJihpLmdkcHI9dC5nZHByQ29uc2VudC5nZHByQXBwbGllcz8idHJ1ZSI6ImZhbHNlIix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcmJihpLmNvbnNlbnRfc3RyaW5nPXQuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZykpLGVbMF0uc2NoYWluJiYoaS5zY2hhaW49SlNPTi5zdHJpbmdpZnkoZVswXS5zY2hhaW4pKSxPYmplY3QoeS5kZWVwQWNjZXNzKShlWzBdLCJ1c2VySWQiKSYmMDxPYmplY3Qua2V5cyhlWzBdLnVzZXJJZCkubGVuZ3RoJiYoaS51c2VyaWQ9SlNPTi5zdHJpbmdpZnkoZVswXS51c2VySWQpKTt2YXIgcz1lWzBdLnBhcmFtcy5rZXl3b3JkcztpZihzJiYoaS5rdz1zKSx0JiZ0LnVzcENvbnNlbnQmJihpLnVzX3ByaXZhY3k9dC51c3BDb25zZW50KSxPYmplY3QoeS5pc0VtcHR5KShuKSlyZXR1cm4gbnVsbDt2YXIgYT0iaHR0cHM6Ly9hcGV4LmdvLnNvbm9iaS5jb20vdHJpbml0eS5qc29uIjtyZXR1cm4gT2JqZWN0KHkuZGVlcEFjY2VzcykoZVswXSwicGFyYW1zLmJpZF9yZXF1ZXN0X3VybCIpJiYoYT1PYmplY3QoeS5kZWVwQWNjZXNzKShlWzBdLCJwYXJhbXMuYmlkX3JlcXVlc3RfdXJsIikpLHttZXRob2Q6IkdFVCIsdXJsOmEsd2l0aENyZWRlbnRpYWxzOiEwLGRhdGE6aSxiaWRkZXJSZXF1ZXN0czplfX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxsKXt2YXIgZj1lLmJvZHksbT1bXSx2PWwuZGF0YS5yZWY7cmV0dXJuIDA9PT1PYmplY3Qua2V5cyhmLnNsb3RzKS5sZW5ndGh8fE9iamVjdC5rZXlzKGYuc2xvdHMpLmZvckVhY2goZnVuY3Rpb24oZSl7dmFyIHQ9Zi5zbG90c1tlXSxyPWUuc3BsaXQoInwiKS5zbGljZSgtMSlbMF0sbj1mdW5jdGlvbihlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl0uYmlkSWQ9PT10KXJldHVybiBlW3JdfShsLmJpZGRlclJlcXVlc3RzLHIpLGk9bnVsbDsidmlkZW8iPT09dC5zYmlfY3QmJihpPSJ2aWRlbyIsIm91dHN0cmVhbSI9PT1PYmplY3QoeS5kZWVwQWNjZXNzKShuLCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKGk9Im91dHN0cmVhbSIpKTt2YXIgcyxhLG8sYyxkLHUscCxiPWooaSx2KTt0LnNiaV9haWQmJnQuc2JpX21vdXNlJiZ0LnNiaV9zaXplJiYobz12b2lkIDA9PT0oYT0ocz1oKHQuc2JpX3NpemUuc3BsaXQoIngiKSwyKSlbMF0pPzE6YSxkPXZvaWQgMD09PShjPXNbMV0pPzE6Yyx1PXtyZXF1ZXN0SWQ6cixjcG06TnVtYmVyKHQuc2JpX21vdXNlKSx3aWR0aDpOdW1iZXIobyksaGVpZ2h0Ok51bWJlcihkKSxhZDpiKGYuc2JpX2RjLHQuc2JpX2FpZCksdHRsOjUwMCxjcmVhdGl2ZUlkOnQuc2JpX2NyaWR8fHQuc2JpX2FpZCxhaWQ6dC5zYmlfYWlkLG5ldFJldmVudWU6ITAsY3VycmVuY3k6IlVTRCJ9LHQuc2JpX2RvemVyJiYodS5kZWFsSWQ9dC5zYmlfZG96ZXIpLCJ2aWRlbyI9PT1pPyh1Lm1lZGlhVHlwZT0idmlkZW8iLHUudmFzdFVybD1iKGYuc2JpX2RjLHQuc2JpX2FpZCksZGVsZXRlIHUuYWQsZGVsZXRlIHUud2lkdGgsZGVsZXRlIHUuaGVpZ2h0KToib3V0c3RyZWFtIj09PWkmJm4mJih1Lm1lZGlhVHlwZT0idmlkZW8iLHUudmFzdFVybD1iKGYuc2JpX2RjLHQuc2JpX2FpZCksdS5yZW5kZXJlcj1mdW5jdGlvbihlLHQpe3ZhciByPTI8YXJndW1lbnRzLmxlbmd0aCYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxuPWcuYS5pbnN0YWxsKHtpZDp0LmFpZCx1cmw6Imh0dHBzOi8vbXRyeC5nby5zb25vYmkuY29tL3NiaV9vdXRzdHJlYW1fcmVuZGVyZXIuanMiLGNvbmZpZzpyLGxvYWRlZDohMSxhZFVuaXRDb2RlOmV9KTt0cnl7bi5zZXRSZW5kZXIoTyl9Y2F0Y2goZSl7T2JqZWN0KHkubG9nV2FybikoIlByZWJpZCBFcnJvciBjYWxsaW5nIHNldFJlbmRlciBvbiByZW5kZXJlciIsZSl9cmV0dXJuIG4uc2V0RXZlbnRIYW5kbGVycyh7aW1wcmVzc2lvbjpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoeS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBpbXByZXNzaW9uIGV2ZW50Iil9LGxvYWRlZDpmdW5jdGlvbigpe3JldHVybiBPYmplY3QoeS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSB2aWRlbyBsb2FkZWQgZXZlbnQiKX0sZW5kZWQ6ZnVuY3Rpb24oKXtPYmplY3QoeS5sb2dNZXNzYWdlKSgiU29ub2JpIG91dHN0cmVhbSByZW5kZXJlciB2aWRlbyBldmVudCIpfX0pLG59KG4uYWRVbml0Q29kZSx1LE9iamVjdCh5LmRlZXBBY2Nlc3MpKG4sInJlbmRlcmVyLm9wdGlvbnMiKSkscD1PYmplY3QoeS5kZWVwQWNjZXNzKShuLCJwYXJhbXMuc2l6ZXMiKSxBcnJheS5pc0FycmF5KHApJiZBcnJheS5pc0FycmF5KHBbMF0pJiYocD1wWzBdKSxwJiYodS53aWR0aD1wWzBdLHUuaGVpZ2h0PXBbMV0pKSxtLnB1c2godSkpfSksbX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCl7dmFyIHI9W107dHJ5e2UucGl4ZWxFbmFibGVkJiZ0WzBdLmJvZHkuc2JpX3B4LmZvckVhY2goZnVuY3Rpb24oZSl7ci5wdXNoKHt0eXBlOmUudHlwZSx1cmw6ZS51cmx9KX0pfWNhdGNoKGUpe31yZXR1cm4gcn19O2Z1bmN0aW9uIGwoZSl7cmV0dXJuIE9iamVjdCh5LmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMudmlkZW8iKT8iIjplLnBhcmFtcy5zaXplcz9PYmplY3QoeS5wYXJzZVNpemVzSW5wdXQpKGUucGFyYW1zLnNpemVzKS5qb2luKCIsIik6T2JqZWN0KHkuZGVlcEFjY2VzcykoZSwibWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXMiKT9PYmplY3QoeS5wYXJzZVNpemVzSW5wdXQpKE9iamVjdCh5LmRlZXBBY2Nlc3MpKGUsIm1lZGlhVHlwZXMuYmFubmVyLnNpemVzIikpLmpvaW4oIiwiKTplLnNpemVzP09iamVjdCh5LnBhcnNlU2l6ZXNJbnB1dCkoZS5zaXplcykuam9pbigiLCIpOnZvaWQgMH1mdW5jdGlvbiBmKGUpe3JldHVybiBlLnBhcmFtcy5mbG9vcj8ifGY9Ii5jb25jYXQoZS5wYXJhbXMuZmxvb3IpOiIifXZhciBqPWZ1bmN0aW9uKGkscyl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cmV0dXJuInZpZGVvIj09PWl8fCJvdXRzdHJlYW0iPT09aT8ocj10LG49cywiaHR0cHM6Ly8iLmNvbmNhdChlLCJhcGV4LmdvLnNvbm9iaS5jb20vdmFzdC54bWw/dmlkPSIpLmNvbmNhdChyLCImcmVmPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQobikpKTonPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJysiaHR0cHM6Ly8iLmNvbmNhdChlLCJhcGV4LmdvLnNvbm9iaS5jb20vc2JpLmpzP2FpZD0iKS5jb25jYXQodCwiJmFzPW51bGwmcmVmPSIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQocykpKyciPjxcL3NjcmlwdD4nO3ZhciByLG59fTt2YXIgbT1mdW5jdGlvbihlKXt2YXIgcj0wPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWU/ZTp3aW5kb3c7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOjAsdD0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06TnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7cmV0dXJuIHIuaW5uZXJXaWR0aD49ZSYmci5pbm5lcldpZHRoPHR9fTtmdW5jdGlvbiB2KCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOndpbmRvdyx0PW0oZSkscj05OTIsbj03Njg7cmV0dXJuIHQoMCw3NjgpPyJtb2JpbGUiOnQobixyKT8idGFibGV0IjoiZGVza3RvcCJ9ZnVuY3Rpb24gTyhpKXtpLnJlbmRlcmVyLnB1c2goZnVuY3Rpb24oKXt2YXIgZT1oKGkuZ2V0U2l6ZSgpLnNwbGl0KCJ4IiksMiksdD1lWzBdLHI9ZVsxXSxuPW5ldyB3aW5kb3cuU2JpT3V0c3RyZWFtUmVuZGVyZXI7bi5pbml0KHt2YXN0VXJsOmkudmFzdFVybCxoZWlnaHQ6cix3aWR0aDp0fSksbi5zZXRSb290RWxlbWVudChpLmFkVW5pdENvZGUpfSl9T2JqZWN0KG4ucmVnaXN0ZXJCaWRkZXIpKGEpfX0sWzc4NF0pOwp1cGJqc0NodW5rKFs5XSx7MjI6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciByIGluIGUpe3ZhciBpO2UuaGFzT3duUHJvcGVydHkocikmJigicHViUHJvdmlkZWRJZCI9PT1yP3Q9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKTooaT1mdW5jdGlvbihlLHQpe3ZhciByPXNbdF07aWYociYmZSl7dmFyIGk9e307aS5zb3VyY2U9ci5zb3VyY2U7dmFyIG49by5pc0ZuKHIuZ2V0VmFsdWUpP3IuZ2V0VmFsdWUoZSk6ZTtpZihvLmlzU3RyKG4pKXt2YXIgYSxkLHU9e2lkOm4sYXR5cGU6ci5hdHlwZX07cmV0dXJuIW8uaXNGbihyLmdldFVpZEV4dCl8fChhPXIuZ2V0VWlkRXh0KGUpKSYmKHUuZXh0PWEpLGkudWlkcz1bdV0sIW8uaXNGbihyLmdldEVpZEV4dCl8fChkPXIuZ2V0RWlkRXh0KGUpKSYmKGkuZXh0PWQpLGl9fXJldHVybiBudWxsfShlW3JdLHIpKSYmdC5wdXNoKGkpKX1yZXR1cm4gdH07dmFyIG89cigwKSxzPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9by5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZToxfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjEsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjF9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LHNoYXJlZGlkOntzb3VyY2U6InNoYXJlZGlkLm9yZyIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnRoaXJkP3t0aGlyZDplLnRoaXJkfTp2b2lkIDB9fSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LHZtdWlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjF9fX0sNzkyOmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig3OTMpfSw3OTM6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIG59KTt2YXIgbD1yKDApLGk9cigxKSxhPXIoMiksZz1yKDIyKSxuPXtjb2RlOiJzb3ZybiIsc3VwcG9ydGVkTWVkaWFUeXBlczpbYS5iXSxndmxpZDoxMyxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXtyZXR1cm4hKCFlLnBhcmFtcy50YWdpZHx8aXNOYU4ocGFyc2VGbG9hdChlLnBhcmFtcy50YWdpZCkpfHwhaXNGaW5pdGUoZS5wYXJhbXMudGFnaWQpKX0sYnVpbGRSZXF1ZXN0czpmdW5jdGlvbihlLHQpe3RyeXt2YXIgaSxuLGEsZCx1PVtdLG89W107bC5fZWFjaChlLGZ1bmN0aW9uKGUpeyFhJiZlLnVzZXJJZCYmKGE9T2JqZWN0KGcuYSkoZS51c2VySWQpKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2UudWlkcyYmZS51aWRzWzBdJiYoImNyaXRlby5jb20iPT09ZS5zb3VyY2UmJihkPWUudWlkc1swXS5pZCksby5wdXNoKHtzb3VyY2U6ZS5zb3VyY2UsdWlkOmUudWlkc1swXS5pZH0pKX0pLGUuc2NoYWluJiYobj1ufHxlLnNjaGFpbiksaT1pfHxsLmdldEJpZElkUGFyYW1ldGVyKCJpdiIsZS5wYXJhbXMpO3ZhciB0PWUubWVkaWFUeXBlcyYmZS5tZWRpYVR5cGVzLmJhbm5lciYmZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplc3x8ZS5zaXplcyxyPSh0PSh0PWwuaXNBcnJheSh0KSYmbC5pc0FycmF5KHRbMF0pP3Q6W3RdKS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGwuaXNBcnJheShlKX0pKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJue3c6cGFyc2VJbnQoZVswXSwxMCksaDpwYXJzZUludChlWzFdLDEwKX19KTt1LnB1c2goe2FkdW5pdGNvZGU6ZS5hZFVuaXRDb2RlLGlkOmUuYmlkSWQsYmFubmVyOntmb3JtYXQ6cix3OjEsaDoxfSx0YWdpZDpTdHJpbmcobC5nZXRCaWRJZFBhcmFtZXRlcigidGFnaWQiLGUucGFyYW1zKSksYmlkZmxvb3I6bC5nZXRCaWRJZFBhcmFtZXRlcigiYmlkZmxvb3IiLGUucGFyYW1zKX0pfSk7dmFyIHI9dC5yZWZlcmVySW5mby5yZWZlcmVyLHM9bC5wYXJzZVVybChyKS5ob3N0bmFtZSxjPXtpZDpsLmdldFVuaXF1ZUlkZW50aWZpZXJTdHIoKSxpbXA6dSxzaXRlOntwYWdlOnIsZG9tYWluOnN9fTtuJiYoYy5zb3VyY2U9e2V4dDp7c2NoYWluOm59fSksdC5nZHByQ29uc2VudCYmKGwuZGVlcFNldFZhbHVlKGMsInJlZ3MuZXh0LmdkcHIiLCt0LmdkcHJDb25zZW50LmdkcHJBcHBsaWVzKSxsLmRlZXBTZXRWYWx1ZShjLCJ1c2VyLmV4dC5jb25zZW50Iix0LmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSx0LnVzcENvbnNlbnQmJmwuZGVlcFNldFZhbHVlKGMsInJlZ3MuZXh0LnVzX3ByaXZhY3kiLHQudXNwQ29uc2VudCksYSYmKGwuZGVlcFNldFZhbHVlKGMsInVzZXIuZXh0LmVpZHMiLGEpLGwuZGVlcFNldFZhbHVlKGMsInVzZXIuZXh0LnRwaWQiLG8pLGQmJmwuZGVlcFNldFZhbHVlKGMsInVzZXIuZXh0LnByZWJpZF9jcml0ZW9pZCIsZCkpO3ZhciBwPSJodHRwczovL2FwLmxpaml0LmNvbS9ydGIvYmlkP3NyYz1wcmViaWRfcHJlYmlkXzQuMTcuMCI7cmV0dXJuIGkmJihwKz0iJml2PSIuY29uY2F0KGkpKSx7bWV0aG9kOiJQT1NUIix1cmw6cCxkYXRhOkpTT04uc3RyaW5naWZ5KGMpLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIn19fWNhdGNoKGUpe2wubG9nRXJyb3IoIkNvdWxkIG5vdCBidWlsZCBiaWRyZXF1ZXN0LCBlcnJvciBkZWF0aWxzOiIsZSl9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlKXt2YXIgdD1lLmJvZHkscj10LmlkLGk9dC5zZWF0YmlkO3RyeXt2YXIgbj1bXTtyZXR1cm4gciYmaSYmMDxpLmxlbmd0aCYmaVswXS5iaWQmJjA8aVswXS5iaWQubGVuZ3RoJiZpWzBdLmJpZC5tYXAoZnVuY3Rpb24oZSl7bi5wdXNoKHtyZXF1ZXN0SWQ6ZS5pbXBpZCxjcG06cGFyc2VGbG9hdChlLnByaWNlKSx3aWR0aDpwYXJzZUludChlLncpLGhlaWdodDpwYXJzZUludChlLmgpLGNyZWF0aXZlSWQ6ZS5jcmlkfHxlLmlkLGRlYWxJZDplLmRlYWxpZHx8bnVsbCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiEwLG1lZGlhVHlwZTphLmIsYWQ6ZGVjb2RlVVJJQ29tcG9uZW50KCIiLmNvbmNhdChlLmFkbSwnPGltZyBzcmM9IicpLmNvbmNhdChlLm51cmwsJyI+JykpLHR0bDplLnR0bHx8OTB9KX0pLG59Y2F0Y2goZSl7bC5sb2dFcnJvcigiQ291bGQgbm90IGludHJlcHJldCBiaWRyZXNwb25zZSwgZXJyb3IgZGVhdGlsczoiLGUpfX0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUsdCxyLGkpe3RyeXt2YXIgbixhLGQ9W107cmV0dXJuIHQmJjAhPT10Lmxlbmd0aCYmKGUuaWZyYW1lRW5hYmxlZCYmKG49dC5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGwuZGVlcEFjY2VzcyhlLCJib2R5LmV4dC5paWQiKX0pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5ib2R5LmV4dC5paWR9KSxhPVtdLHImJnIuZ2RwckFwcGxpZXMmJiJzdHJpbmciPT10eXBlb2Ygci5jb25zZW50U3RyaW5nJiZhLnB1c2goWyJnZHByX2NvbnNlbnQiLHIuY29uc2VudFN0cmluZ10pLGkmJmEucHVzaChbInVzX3ByaXZhY3kiLGldKSxuWzBdJiYoYS5wdXNoKFsiaW5mb3JtZXIiLG5bMF1dKSxkLnB1c2goe3R5cGU6ImlmcmFtZSIsdXJsOiJodHRwczovL2FwLmxpaml0LmNvbS9iZWFjb24/IithLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gZS5qb2luKCI9Iil9KS5qb2luKCImIil9KSkpLGUucGl4ZWxFbmFibGVkJiZ0LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gbC5kZWVwQWNjZXNzKGUsImJvZHkuZXh0LnN5bmMucGl4ZWxzIil9KS5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZS5jb25jYXQodC5ib2R5LmV4dC5zeW5jLnBpeGVscyl9LFtdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGUudXJsfSkuZm9yRWFjaChmdW5jdGlvbihlKXtyZXR1cm4gZC5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmV9KX0pKSxkfWNhdGNoKGUpe3JldHVybltdfX19O09iamVjdChpLnJlZ2lzdGVyQmlkZGVyKShuKX19LFs3OTJdKTsKdXBianNDaHVuayhbOTJdLHs4MzA6ZnVuY3Rpb24oZSxyLHQpe2UuZXhwb3J0cz10KDgzMSl9LDgzMTpmdW5jdGlvbihlLHIsdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSx0LmQociwidHJpcGxlbGlmdEFkYXB0ZXJTcGVjIixmdW5jdGlvbigpe3JldHVybiBifSk7dmFyIG49dCgyKSxpPXQoMSksdT10KDApLGE9dCgzKSxkPXQoNDMpO2Z1bmN0aW9uIHAoKXtyZXR1cm4ocD1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHI9MTtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKXt2YXIgdD1hcmd1bWVudHNbcl07Zm9yKHZhciBuIGluIHQpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsbikmJihlW25dPXRbbl0pfXJldHVybiBlfSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfWZ1bmN0aW9uIGMoZSl7cmV0dXJuKGM9ImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmInN5bWJvbCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlfTpmdW5jdGlvbihlKXtyZXR1cm4gZSYmImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmZS5jb25zdHJ1Y3Rvcj09PVN5bWJvbCYmZSE9PVN5bWJvbC5wcm90b3R5cGU/InN5bWJvbCI6dHlwZW9mIGV9KShlKX1mdW5jdGlvbiBzKHIsZSl7dmFyIHQsbj1PYmplY3Qua2V5cyhyKTtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmKHQ9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhyKSxlJiYodD10LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLGUpLmVudW1lcmFibGV9KSksbi5wdXNoLmFwcGx5KG4sdCkpLG59ZnVuY3Rpb24gZihpKXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbz1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9O2UlMj9zKE9iamVjdChvKSwhMCkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgcix0LG47cj1pLG49b1t0PWVdLHQgaW4gcj9PYmplY3QuZGVmaW5lUHJvcGVydHkocix0LHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6clt0XT1ufSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvKSk6cyhPYmplY3QobykpLmZvckVhY2goZnVuY3Rpb24oZSl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGksZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sZSkpfSl9cmV0dXJuIGl9ZnVuY3Rpb24gbChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSlyZXR1cm4gbyhlKX0oZSl8fGZ1bmN0aW9uKGUpe2lmKCJ1bmRlZmluZWQiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGUpKXJldHVybiBBcnJheS5mcm9tKGUpfShlKXx8ZnVuY3Rpb24oZSxyKXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiBvKGUscik7dmFyIHQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09dCYmZS5jb25zdHJ1Y3RvciYmKHQ9ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PXR8fCJTZXQiPT09dClyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PXR8fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KHQpKXJldHVybiBvKGUscil9KGUpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoIkludmFsaWQgYXR0ZW1wdCB0byBzcHJlYWQgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLiIpfSgpfWZ1bmN0aW9uIG8oZSxyKXsobnVsbD09cnx8cj5lLmxlbmd0aCkmJihyPWUubGVuZ3RoKTtmb3IodmFyIHQ9MCxuPW5ldyBBcnJheShyKTt0PHI7dCsrKW5bdF09ZVt0XTtyZXR1cm4gbn12YXIgeT0hMCxtPW51bGwsYj17Z3ZsaWQ6MjgsY29kZToidHJpcGxlbGlmdCIsc3VwcG9ydGVkTWVkaWFUeXBlczpbbi5iLG4uZF0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHZvaWQgMCE9PWUucGFyYW1zLmludmVudG9yeUNvZGV9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxyKXt2YXIgdCxuPSJodHRwczovL3RseC4zbGlmdC5jb20vaGVhZGVyL2F1Y3Rpb24/IixpPWZ1bmN0aW9uKGUpe3ZhciByPXt9LHQ9ZVswXS5zY2hhaW4sbj1mdW5jdGlvbigpe3ZhciBlPXt9LHI9cCh7fSxhLmIuZ2V0Q29uZmlnKCJmcGQuY29udGV4dCIpKSx0PXAoe30sYS5iLmdldENvbmZpZygiZnBkLnVzZXIiKSk7cmV0dXJuIHYoZSxyKSx2KGUsdCksZX0oKTtyLmltcD1lLm1hcChmdW5jdGlvbihlLHIpe3ZhciB0PXtpZDpyLHRhZ2lkOmUucGFyYW1zLmludmVudG9yeUNvZGUsZmxvb3I6ZnVuY3Rpb24oZSl7dmFyIHI9bnVsbDt7dmFyIHQ7ImZ1bmN0aW9uIj09dHlwZW9mIGUuZ2V0Rmxvb3ImJigib2JqZWN0IiE9PWModD1lLmdldEZsb29yKHtjdXJyZW5jeToiVVNEIixtZWRpYVR5cGU6ImJhbm5lciIsc2l6ZTpoKGUuc2l6ZXMpfSkpfHwiVVNEIiE9PXQuY3VycmVuY3l8fGlzTmFOKHBhcnNlRmxvYXQodC5mbG9vcikpfHwocj1wYXJzZUZsb2F0KHQuZmxvb3IpKSl9cmV0dXJuIG51bGwhPT1yP3I6ZS5wYXJhbXMuZmxvb3J9KGUpfTtyZXR1cm4gZyhlKT90LnZpZGVvPWZ1bmN0aW9uKGUpe3ZhciByPWYoZih7fSxlLnBhcmFtcy52aWRlbyksZS5tZWRpYVR5cGVzLnZpZGVvKTtyLnd8fChyLnc9ci5wbGF5ZXJTaXplWzBdWzBdKTtyLmh8fChyLmg9ci5wbGF5ZXJTaXplWzBdWzFdKTsiaW5zdHJlYW0iPT09ci5jb250ZXh0JiYoci5wbGFjZW1lbnQ9MSk7cmV0dXJuIGRlbGV0ZSByLnBsYXllclNpemUscn0oZSk6ZS5tZWRpYVR5cGVzLmJhbm5lciYmKHQuYmFubmVyPXtmb3JtYXQ6aChlLnNpemVzKX0pLHR9KTt2YXIgaT1bXS5jb25jYXQobChmdW5jdGlvbihlKXtyZXR1cm4gUyhlLCJ0ZGlkIiwiYWRzZXJ2ZXIub3JnIiwiVERJRCIpfShlKSksbChmdW5jdGlvbihlKXtyZXR1cm4gUyhlLCJpZGxfZW52IiwibGl2ZXJhbXAuY29tIiwiaWRsIil9KGUpKSxsKGZ1bmN0aW9uKGUpe3JldHVybiBTKGUsImNyaXRlb0lkIiwiY3JpdGVvLmNvbSIsImNyaXRlb0lkIil9KGUpKSk7MDxpLmxlbmd0aCYmKHIudXNlcj17ZXh0OntlaWRzOml9fSk7dmFyIG89ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTt1LmlzRW1wdHkoZSl8fCh0LnNjaGFpbj1mKHt9LGUpKTt1LmlzRW1wdHkocil8fCh0LmZwZD1mKHt9LHIpKTtyZXR1cm4gdH0odCxuKTt1LmlzRW1wdHkobyl8fChyLmV4dD1vKTtyZXR1cm4gcn0oZSk7cmV0dXJuIG49dS50cnlBcHBlbmRRdWVyeVN0cmluZyhuLCJsaWIiLCJwcmViaWQiKSxuPXUudHJ5QXBwZW5kUXVlcnlTdHJpbmcobiwidiIsIjQuMTcuMCIpLHImJnIucmVmZXJlckluZm8mJih0PXIucmVmZXJlckluZm8ucmVmZXJlcixuPXUudHJ5QXBwZW5kUXVlcnlTdHJpbmcobiwicmVmZXJyZXIiLHQpKSxyJiZyLnRpbWVvdXQmJihuPXUudHJ5QXBwZW5kUXVlcnlTdHJpbmcobiwidG1heCIsci50aW1lb3V0KSksciYmci5nZHByQ29uc2VudCYmKHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJih5PXIuZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMsbj11LnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKG4sImdkcHIiLHkudG9TdHJpbmcoKSkpLHZvaWQgMCE9PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKG09ci5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nLG49dS50cnlBcHBlbmRRdWVyeVN0cmluZyhuLCJjbXBfY3MiLG0pKSksciYmci51c3BDb25zZW50JiYobj11LnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKG4sInVzX3ByaXZhY3kiLHIudXNwQ29uc2VudCkpLCEwPT09YS5iLmdldENvbmZpZygiY29wcGEiKSYmKG49dS50cnlBcHBlbmRRdWVyeVN0cmluZyhuLCJjb3BwYSIsITApKSxuLmxhc3RJbmRleE9mKCImIik9PT1uLmxlbmd0aC0xJiYobj1uLnN1YnN0cmluZygwLG4ubGVuZ3RoLTEpKSx1LmxvZ01lc3NhZ2UoInRsQ2FsbCByZXF1ZXN0IGJ1aWx0OiAiK24pLHttZXRob2Q6IlBPU1QiLHVybDpuLGRhdGE6aSxiaWRkZXJSZXF1ZXN0OnJ9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIpe3ZhciB0PXIuYmlkZGVyUmVxdWVzdDtyZXR1cm4oZS5ib2R5LmJpZHN8fFtdKS5tYXAoZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKGUscil7dmFyIHQ9e30sbj1yLndpZHRofHwxLGk9ci5oZWlnaHR8fDEsbz1yLmRlYWxfaWR8fCIiLHU9ci5jcmlkfHwiIixhPWUuYmlkc1tyLmltcF9pZF07e3ZhciBwLGM7MCE9ci5jcG0mJnIuYWQmJih0PXtyZXF1ZXN0SWQ6YS5iaWRJZCxjcG06ci5jcG0sd2lkdGg6bixoZWlnaHQ6aSxuZXRSZXZlbnVlOiEwLGFkOnIuYWQsY3JlYXRpdmVJZDp1LGRlYWxJZDpvLGN1cnJlbmN5OiJVU0QiLHR0bDozMDAsdGxfc291cmNlOnIudGxfc291cmNlLG1ldGE6e319LGcoYSkmJih0LnZhc3RYbWw9ci5hZCx0Lm1lZGlhVHlwZT0idmlkZW8iKSxyLmFkdmVydGlzZXJfbmFtZSYmKHQubWV0YS5hZHZlcnRpc2VyTmFtZT1yLmFkdmVydGlzZXJfbmFtZSksdC5hZCYmLTE9PT10LmFkLmluZGV4T2YoIjxib2R5IikmJih0LmFkPSI8Ym9keT4iK3QuYWQrIjwvYm9keT4iKSx0LmFkJiYoKHA9LyJpbWFnZV91cmwiOiIoaHR0cD9zOi4qPykiL2dtLmV4ZWModC5hZCkpJiYwPHAubGVuZ3RoJiYoYz1kLmQocFsxXSksdC5hZD10LmFkLnJlcGxhY2UocFsxXSxjKSkpKX1yZXR1cm4gdH0odCxlKX0pfSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSxyLHQsbil7dmFyIGk9ZnVuY3Rpb24oZSl7aWYoIWUpcmV0dXJuO2lmKGUuaWZyYW1lRW5hYmxlZClyZXR1cm4iaWZyYW1lIjtpZihlLnBpeGVsRW5hYmxlZClyZXR1cm4iaW1hZ2UifShlKTtpZihpKXt2YXIgbz0iaHR0cHM6Ly9lYjIuM2xpZnQuY29tL3N5bmM/IjtyZXR1cm4iaW1hZ2UiPT09aSYmKG89dS50cnlBcHBlbmRRdWVyeVN0cmluZyhvLCJweCIsMSksbz11LnRyeUFwcGVuZFF1ZXJ5U3RyaW5nKG8sInNyYyIsInByZWJpZCIpKSxudWxsIT09bSYmKG89dS50cnlBcHBlbmRRdWVyeVN0cmluZyhvLCJnZHByIix5KSxvPXUudHJ5QXBwZW5kUXVlcnlTdHJpbmcobywiY21wX2NzIixtKSksbiYmKG89dS50cnlBcHBlbmRRdWVyeVN0cmluZyhvLCJ1c19wcml2YWN5IixuKSksW3t0eXBlOmksdXJsOm99XX19fTtmdW5jdGlvbiBnKGUpe3JldHVybiBlLm1lZGlhVHlwZXMudmlkZW8mJmUubWVkaWFUeXBlcy52aWRlby5jb250ZXh0JiYiaW5zdHJlYW0iPT09ZS5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiB2KHIsdCl7dS5pc0VtcHR5KHQpfHxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKGZ1bmN0aW9uKGUpe251bGwhPXRbZV0mJihyW2VdPXRbZV0pfSl9ZnVuY3Rpb24gUyhlLHIsdCxuKXtyZXR1cm4gZS5tYXAoKHU9cixmdW5jdGlvbihlKXtyZXR1cm4gZSYmZS51c2VySWQmJmUudXNlcklkW3VdfSkpLmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4hIWV9KS5tYXAoKGk9dCxvPW4sZnVuY3Rpb24oZSl7cmV0dXJue3NvdXJjZTppLHVpZHM6W3tpZDplLGV4dDp7cnRpUGFydG5lcjpvfX1dfX0pKTt2YXIgaSxvLHV9ZnVuY3Rpb24gaChlKXtyZXR1cm4gZS5maWx0ZXIoTykubWFwKGZ1bmN0aW9uKGUpe3JldHVybnt3OmVbMF0saDplWzFdfX0pfWZ1bmN0aW9uIE8oZSl7cmV0dXJuIDI9PT1lLmxlbmd0aCYmIm51bWJlciI9PXR5cGVvZiBlWzBdJiYibnVtYmVyIj09dHlwZW9mIGVbMV19T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKGIpfX0sWzgzMF0pOwp1cGJqc0NodW5rKFs5MF0sezgzNDpmdW5jdGlvbihlLHIsdCl7ZS5leHBvcnRzPXQoODM1KX0sODM1OmZ1bmN0aW9uKGUscix0KXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLHQuZChyLCJzcGVjIixmdW5jdGlvbigpe3JldHVybiB2fSk7dmFyIG09dCgwKSxzPXQoMSksbz10KDExKSxjPXQoMiksZj0iQmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGF1aWQgcGFyYW1ldGVyIC0gIixsPSJCaWQgZnJvbSByZXNwb25zZSBoYXMgbm8gYWRtIHBhcmFtZXRlciAtICIscD0iQXJyYXkgb2YgYmlkIG9iamVjdHMgaXMgZW1wdHkiLGc9IkNhbid0IGZpbmQgaW4gcmVxdWVzdGVkIGJpZHMgdGhlIGJpZCB3aXRoIGF1aWQgLSAiLHU9IlNlYXRiaWQgYXJyYXkgZnJvbSByZXNwb25zZSBoYXMgZW1wdHkgaXRlbSIseT0iUmVzcG9uc2UgaXMgZW1wdHkiLGI9IlJlc3BvbnNlIGhhcyBlbXB0eSBzZWF0YmlkIGFycmF5IixoPSJTZWF0YmlkIGZyb20gcmVzcG9uc2UgaGFzIG5vIGFycmF5IG9mIGJpZCBvYmplY3RzIC0gIix2PXtjb2RlOiJ0cnVzdHgiLHN1cHBvcnRlZE1lZGlhVHlwZXM6W2MuYixjLmRdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEhZS5wYXJhbXMudWlkfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUscil7dmFyIGEsbyxwPVtdLHU9e30sYz17fSxmPXt9LGw9Im5ldCI7KGV8fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKGUpeyJncm9zcyI9PT1lLnBhcmFtcy5wcmljZVR5cGUmJihsPSJncm9zcyIpLG89ZS5iaWRkZXJSZXF1ZXN0SWQ7dmFyIHI9ZS5wYXJhbXMudWlkLHQ9ZS5hZFVuaXRDb2RlO3AucHVzaChyKTt2YXIgcyxuPW0ucGFyc2VTaXplc0lucHV0KGUuc2l6ZXMpO2F8fG0uaXNFbXB0eShlLnBhcmFtcy5rZXl3b3Jkcyl8fCgwPChzPW0udHJhbnNmb3JtQmlkZGVyUGFyYW1LZXl3b3JkcyhlLnBhcmFtcy5rZXl3b3JkcykpLmxlbmd0aCYmcy5mb3JFYWNoKEUpLGE9cyksY1tyXXx8KGNbcl09e30pO3ZhciBkPWNbcl07ZFt0XT9kW3RdLmJpZHMucHVzaChlKTpkW3RdPXthZFVuaXRDb2RlOnQsYmlkczpbZV0scGFyZW50czpbXX07dmFyIGk9ZFt0XTtuLmZvckVhY2goZnVuY3Rpb24oZSl7ZltlXT0hMCx1W3JdfHwodVtyXT17fSksdVtyXVtlXT91W3JdW2VdLnB1c2goaSk6dVtyXVtlXT1baV0saS5wYXJlbnRzLnB1c2goe3BhcmVudDp1W3JdLGtleTplLHVpZDpyfSl9KX0pO3ZhciB0PXtwdDpsLGF1aWRzOnAuam9pbigiLCIpLHNpemVzOm0uZ2V0S2V5cyhmKS5qb2luKCIsIikscjpvLHdyYXBwZXJUeXBlOiJQcmViaWRfanMiLHdyYXBwZXJWZXJzaW9uOiI0LjE3LjAifTtyZXR1cm4gYSYmKHQua2V5d29yZHM9SlNPTi5zdHJpbmdpZnkoYSkpLHImJihyLnJlZmVyZXJJbmZvJiZyLnJlZmVyZXJJbmZvLnJlZmVyZXImJih0LnU9ci5yZWZlcmVySW5mby5yZWZlcmVyKSxyLnRpbWVvdXQmJih0Lnd0aW1lb3V0PXIudGltZW91dCksci5nZHByQ29uc2VudCYmKHIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyYmKHQuZ2Rwcl9jb25zZW50PXIuZ2RwckNvbnNlbnQuY29uc2VudFN0cmluZyksdC5nZHByX2FwcGxpZXM9ImJvb2xlYW4iPT10eXBlb2Ygci5nZHByQ29uc2VudC5nZHByQXBwbGllcz9OdW1iZXIoci5nZHByQ29uc2VudC5nZHByQXBwbGllcyk6MSksci51c3BDb25zZW50JiYodC51c19wcml2YWN5PXIudXNwQ29uc2VudCkpLHttZXRob2Q6IkdFVCIsdXJsOiJodHRwczovL3NvZmlhLnRydXN0eC5vcmcvaGIiLGRhdGE6bS5wYXJzZVF1ZXJ5U3RyaW5nUGFyYW1ldGVycyh0KS5yZXBsYWNlKC9cJiQvLCIiKSxiaWRzTWFwOnV9fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHIsdCl7dmFyIHM9Mjxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6by5hO2U9ZSYmZS5ib2R5O3ZhciBuLGQ9W10saT1yLmJpZHNNYXAsYT1yLmRhdGEucHQ7cmV0dXJuIGU/ZS5zZWF0YmlkJiYhZS5zZWF0YmlkLmxlbmd0aCYmKG49Yik6bj15LCFuJiZlLnNlYXRiaWQmJmUuc2VhdGJpZC5mb3JFYWNoKGZ1bmN0aW9uKGUpeyFmdW5jdGlvbihlLGQscix0LHMpe2lmKCFlKXJldHVybjt2YXIgbjtlLmF1aWR8fChuPWYrSlNPTi5zdHJpbmdpZnkoZSkpO3t2YXIgaSxhLG8scCx1O2UuYWRtPyhpPWRbZS5hdWlkXSk/KGE9IiIuY29uY2F0KGUudywieCIpLmNvbmNhdChlLmgpLGlbYV0mJihvPWlbYV1bMF0scD1vLmJpZHMuc2hpZnQoKSx1PXtyZXF1ZXN0SWQ6cC5iaWRJZCxiaWRkZXJDb2RlOnYuY29kZSxjcG06ZS5wcmljZSx3aWR0aDplLncsaGVpZ2h0OmUuaCxjcmVhdGl2ZUlkOmUuYXVpZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiJncm9zcyIhPT1yLHR0bDozNjAsZGVhbElkOmUuZGVhbGlkfSwidmlkZW8iPT09ZS5jb250ZW50X3R5cGU/KHUudmFzdFhtbD1lLmFkbSx1Lm1lZGlhVHlwZT1jLmQsdS5hZFJlc3BvbnNlPXtjb250ZW50OnUudmFzdFhtbH0scC5yZW5kZXJlcnx8cC5tZWRpYVR5cGVzJiZwLm1lZGlhVHlwZXMudmlkZW8mJiJvdXRzdHJlYW0iIT09cC5tZWRpYVR5cGVzLnZpZGVvLmNvbnRleHR8fCh1LnJlbmRlcmVyPWZ1bmN0aW9uKGUscil7dmFyIHQ9ci5pbnN0YWxsKHtpZDplLmlkLHVybDplLnVybCxsb2FkZWQ6ITF9KTt0cnl7dC5zZXRSZW5kZXIodyl9Y2F0Y2goZSl7bS5sb2dXYXJuKCJQcmViaWQgRXJyb3IgY2FsbGluZyBzZXRSZW5kZXIgb24gcmVuZGVyZXIiLGUpfXJldHVybiB0fSh7aWQ6cC5iaWRJZCx1cmw6Imh0dHBzOi8vYWNkbi5hZG54cy5jb20vdmlkZW8vb3V0c3RyZWFtL0FOT3V0c3RyZWFtVmlkZW8uanMifSxzKSkpOih1LmFkPWUuYWRtLHUubWVkaWFUeXBlPWMuYiksdC5wdXNoKHUpLG8uYmlkcy5sZW5ndGh8fG8ucGFyZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciByPWUucGFyZW50LHQ9ZS5rZXkscz1lLnVpZCxuPXJbdF0uaW5kZXhPZihvKTstMTxuJiZyW3RdLnNwbGljZShuLDEpLHJbdF0ubGVuZ3RofHwoZGVsZXRlIHJbdF0sbS5nZXRLZXlzKHIpLmxlbmd0aHx8ZGVsZXRlIGRbc10pfSkpKTpuPWcrZS5hdWlkOm49bCtKU09OLnN0cmluZ2lmeShlKX1uJiZtLmxvZ0Vycm9yKG4pfShmdW5jdGlvbihlKXtlP2UuYmlkP2UuYmlkWzBdfHxtLmxvZ0Vycm9yKHApOm0ubG9nRXJyb3IoaCtKU09OLnN0cmluZ2lmeShlKSk6bS5sb2dFcnJvcih1KTtyZXR1cm4gZSYmZS5iaWQmJmUuYmlkWzBdfShlKSxpLGEsZCxzKX0pLG4mJm0ubG9nRXJyb3IobiksZH0sZ2V0VXNlclN5bmNzOmZ1bmN0aW9uKGUpe2lmKGUucGl4ZWxFbmFibGVkKXJldHVyblt7dHlwZToiaW1hZ2UiLHVybDoiaHR0cHM6Ly9zb2ZpYS50cnVzdHgub3JnL3B1c2hfc3luYyJ9XX19O2Z1bmN0aW9uIEUoZSl7dmFyIHI7cj1lLnZhbHVlLG0uaXNBcnJheShyKSYmMDxyLmxlbmd0aCYmIiI9PT1lLnZhbHVlWzBdJiZkZWxldGUgZS52YWx1ZX1mdW5jdGlvbiB3KGUpe2UucmVuZGVyZXIucHVzaChmdW5jdGlvbigpe3dpbmRvdy5BTk91dHN0cmVhbVZpZGVvLnJlbmRlckFkKHt0YXJnZXRJZDplLmFkVW5pdENvZGUsYWRSZXNwb25zZTplLmFkUmVzcG9uc2V9KX0pfU9iamVjdChzLnJlZ2lzdGVyQmlkZGVyKSh2KX19LFs4MzRdKTsKdXBianNDaHVuayhbODddLHs4NDI6ZnVuY3Rpb24oZSxuLHQpe2UuZXhwb3J0cz10KDg0Myl9LDg0MzpmdW5jdGlvbihlLG4sdCl7InVzZSBzdHJpY3QiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShuLCJfX2VzTW9kdWxlIix7dmFsdWU6ITB9KSxuLnJlc2V0VXNlclN5bmM9ZnVuY3Rpb24oKXtpPSExfSx0LmQobiwic3BlYyIsZnVuY3Rpb24oKXtyZXR1cm4gcH0pO3ZhciBkPXQoMCksbz10KDMpLHM9dCgxKSxhPSIzLjVWIixpPSExO2QubG9nTWVzc2FnZSgiSW5pdGlhbGl6aW5nIFVETSBBZGFwdGVyLiBQQkpTIFZlcnNpb246ICIuY29uY2F0KCI0LjE3LjAiLCIgd2l0aCBhZGFwdGVyIHZlcnNpb246ICIpLmNvbmNhdChhLCIgIFVwZGF0ZWQgMjAxOTEwMjgiKSk7dmFyIHA9e2NvZGU6InVuZGVyZG9nbWVkaWEiLGJpZFBhcmFtczpbXSxpc0JpZFJlcXVlc3RWYWxpZDpmdW5jdGlvbihlKXt2YXIgbj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzO3JldHVybiEhKGUucGFyYW1zJiZlLnBhcmFtcy5zaXRlSWQmJm4mJjA8bi5sZW5ndGgpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUsbil7dmFyIHQ9W10scz0wO2UuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj1lLm1lZGlhVHlwZXMmJmUubWVkaWFUeXBlcy5iYW5uZXImJmUubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM/ZS5tZWRpYVR5cGVzLmJhbm5lci5zaXplczplLnNpemVzO3Q9ZC5mbGF0dGVuKHQsZC5wYXJzZVNpemVzSW5wdXQobikpLHM9ZS5wYXJhbXMuc2l0ZUlkfSk7dmFyIGk9e3RpZDoxLGR0OjEwLHNpZDpzLHNpemVzOnQuam9pbigiLCIpLHZlcnNpb246YX07aWYobiYmbi5nZHByQ29uc2VudCYmKHZvaWQgMCE9PW4uZ2RwckNvbnNlbnQuZ2RwckFwcGxpZXMmJihpLmdkcHJBcHBsaWVzPSEhbi5nZHByQ29uc2VudC5nZHByQXBwbGllcyksbi5nZHByQ29uc2VudC52ZW5kb3JEYXRhJiZuLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHMmJnZvaWQgMCE9PW4uZ2RwckNvbnNlbnQudmVuZG9yRGF0YS52ZW5kb3JDb25zZW50c1sxNTldJiYoaS5jb25zZW50R2l2ZW49ISFuLmdkcHJDb25zZW50LnZlbmRvckRhdGEudmVuZG9yQ29uc2VudHNbMTU5XSksdm9pZCAwIT09bi5nZHByQ29uc2VudC5jb25zZW50U3RyaW5nJiYoaS5jb25zZW50RGF0YT1uLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSxuLnVzcENvbnNlbnQmJihpLnVzcENvbnNlbnQ9bi51c3BDb25zZW50KSwhaS5nZHByQXBwbGllc3x8aS5jb25zZW50R2l2ZW4pcmV0dXJue21ldGhvZDoiR0VUIix1cmw6Imh0dHBzOi8vdWRtc2VydmUubmV0L3VkbS9pbWcuZmV0Y2giLGRhdGE6aSxiaWRQYXJhbXM6ZX19LGdldFVzZXJTeW5jczpmdW5jdGlvbih0LGUpe2lmKCFpJiYwPGUubGVuZ3RoJiZlWzBdLmJvZHkmJmVbMF0uYm9keS51c2VyU3luY3MmJjA8ZVswXS5ib2R5LnVzZXJTeW5jcy5sZW5ndGgpcmV0dXJuIGk9ITAsZVswXS5ib2R5LnVzZXJTeW5jcy5maWx0ZXIoZnVuY3Rpb24oZSl7dmFyIG49ZS50eXBlO3JldHVybiEoIXQuaWZyYW1lRW5hYmxlZHx8ImlmcmFtZSIhPT1uKXx8KCEoIXQucGl4ZWxFbmFibGVkfHwiaW1hZ2UiIT09bil8fHZvaWQgMCl9KX0saW50ZXJwcmV0UmVzcG9uc2U6ZnVuY3Rpb24oZSxuKXt2YXIgcj1bXTtyZXR1cm4gbi5iaWRQYXJhbXMuZm9yRWFjaChmdW5jdGlvbihpKXtlLmJvZHkubWlkcy5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciB0LGUsczswPG4udXNlQ291bnR8fChuLnVzZUNvdW50fHwobi51c2VDb3VudD0wKSx0PSEwLGU9aS5tZWRpYVR5cGVzJiZpLm1lZGlhVHlwZXMuYmFubmVyJiZpLm1lZGlhVHlwZXMuYmFubmVyLnNpemVzP2kubWVkaWFUeXBlcy5iYW5uZXIuc2l6ZXM6aS5zaXplcyxkLnBhcnNlU2l6ZXNJbnB1dChlKS5mb3JFYWNoKGZ1bmN0aW9uKGUpe2U9PT1uLndpZHRoKyJ4IituLmhlaWdodCYmKHQ9ITEpfSksdHx8KChzPXtyZXF1ZXN0SWQ6aS5iaWRJZCxiaWRkZXJDb2RlOnAuY29kZSxjcG06cGFyc2VGbG9hdChuLmNwbSksd2lkdGg6bi53aWR0aCxoZWlnaHQ6bi5oZWlnaHQsYWQ6bi5hZF9jb2RlX2h0bWwsY3JlYXRpdmVJZDpuLm1pZCxjdXJyZW5jeToiVVNEIixuZXRSZXZlbnVlOiExLHR0bDpuLnR0bHx8NjB9KS5jcG08PTB8fHMuYWQubGVuZ3RoPD0wfHwobi51c2VDb3VudCsrLHMuYWQrPWZ1bmN0aW9uKGUsbix0KXt2YXIgcz1uLm5vdGlmaWNhdGlvbl91cmwsaT1zLmluZGV4T2YoIjt2ZXJzaW9uPSIpO2krMSYmKHM9cy5zdWJzdHJpbmcoMCxpKSk7cys9Ijt2ZXJzaW9uPSIuY29uY2F0KGEpLHMrPSI7Y2I9IitNYXRoLnJhbmRvbSgpLHMrPSI7cXFxPSIrMS9lLmNwbSxzKz0iO2hidD0iK28uYi5nZXRDb25maWcoIl9iaWRkZXJUaW1lb3V0Iikscys9IjtzdHlsZT1hZGFwdGVyIixzKz0iO3Zpcz0iK2VuY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpLHMrPSI7dHJhZmZpY19pbmZvPSIrZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGZ1bmN0aW9uKCl7Zm9yKHZhciBlLG49e30sdD13aW5kb3cubG9jYXRpb24uaHJlZi5zbGljZSh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmRleE9mKCI/IikrMSkuc3BsaXQoIiYiKSxzPTA7czx0Lmxlbmd0aDtzKyspKGU9dFtzXS5zcGxpdCgiPSIpKVswXS5tYXRjaCgvXnV0bV8vKSYmKG5bZVswXV09ZVsxXS5zdWJzdHIoMCwxNTApKTtyZXR1cm4gbn0oKSkpLHQucGFyYW1zLnN1YklkJiYocys9IjtzdWJpZD0iK2VuY29kZVVSSUNvbXBvbmVudCh0LnBhcmFtcy5zdWJJZCkpO3JldHVybic8c2NyaXB0IGFzeW5jIHNyYz0iJytzKyciPjxcL3NjcmlwdD4nfShzLG4saSksci5wdXNoKHMpKSkpfSl9KSxyfX07T2JqZWN0KHMucmVnaXN0ZXJCaWRkZXIpKHApfX0sWzg0Ml0pOwp1cGJqc0NodW5rKFs4Ml0sezg1MjpmdW5jdGlvbihlLHQsbil7ZS5leHBvcnRzPW4oODUzKX0sODUzOmZ1bmN0aW9uKGUsdCxuKXsidXNlIHN0cmljdCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIl9fZXNNb2R1bGUiLHt2YWx1ZTohMH0pLG4uZCh0LCJzcGVjIixmdW5jdGlvbigpe3JldHVybiByfSk7dmFyIGk9bigxKSxhPW4oMikscj17Y29kZToidXBvIixzdXBwb3J0ZWRNZWRpYVR5cGVzOlthLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKGUpe3JldHVybiEoIWUucGFyYW1zLnNwYWNlfHxpc05hTihwYXJzZUZsb2F0KGUucGFyYW1zLnNwYWNlKSl8fCFpc0Zpbml0ZShlLnBhcmFtcy5zcGFjZSkpfSxidWlsZFJlcXVlc3RzOmZ1bmN0aW9uKGUpe2lmKDA9PT1lLmxlbmd0aClyZXR1cm5bXTt2YXIgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QucHVzaCh7bWV0aG9kOiJHRVQiLHVybDoiLy9sbi51cGFwaS5uZXQvZj9zPSIrZS5wYXJhbXMuc3BhY2UrIiZ3PSIrZS5wYXJhbXMud2Vic2l0ZSsiJmQ9IitlLmJpZElkLG9wdGlvbnM6e2NvbnRlbnRUeXBlOiJ0ZXh0L3BsYWluIix3aXRoQ3JlZGVudGlhbHM6MH0sYmlkUmVxdWVzdDplfSl9KSx0fSxpbnRlcnByZXRSZXNwb25zZTpmdW5jdGlvbihlLHQpe3ZhciBuPWUuYm9keS5kYXRhWzBdLGk9dC5iaWRSZXF1ZXN0LHI9YXRvYihuLmNvbnRlbnQpLHM9Ii8vbG4udXBhcGkubmV0L3I/dXBvbml0PXRydWUmdD0xJnQ9NiZuPTAmaz0iK24udG9rZW47cmV0dXJuW3tyZXF1ZXN0SWQ6aS5iaWRJZCxjcG06cGFyc2VGbG9hdChuLm9wdGlvbnMuY3BtKSx3aWR0aDpwYXJzZUludChpLnNpemVzWzBdWzBdKSxoZWlnaHQ6cGFyc2VJbnQoaS5zaXplc1swXVsxXSksY3JlYXRpdmVJZDpuLmNyaWR8fDAsZGVhbElkOm4uZGVhbGlkfHwwLGN1cnJlbmN5OiJVU0QiLG5ldFJldmVudWU6ITAsbWVkaWFUeXBlOmEuYixhZDpyLHR0bDo2ZTQscmVuZGVyUGl4ZWw6c31dfX07T2JqZWN0KGkucmVnaXN0ZXJCaWRkZXIpKHIpfX0sWzg1Ml0pOwp1cGJqc0NodW5rKFs1XSx7MjI6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0Ijt0LmE9ZnVuY3Rpb24oZSl7dmFyIHQ9W107Zm9yKHZhciBuIGluIGUpe3ZhciBvO2UuaGFzT3duUHJvcGVydHkobikmJigicHViUHJvdmlkZWRJZCI9PT1uP3Q9dC5jb25jYXQoZS5wdWJQcm92aWRlZElkKToobz1mdW5jdGlvbihlLHQpe3ZhciBuPXNbdF07aWYobiYmZSl7dmFyIG89e307by5zb3VyY2U9bi5zb3VyY2U7dmFyIHI9dS5pc0ZuKG4uZ2V0VmFsdWUpP24uZ2V0VmFsdWUoZSk6ZTtpZih1LmlzU3RyKHIpKXt2YXIgYSxpLGM9e2lkOnIsYXR5cGU6bi5hdHlwZX07cmV0dXJuIXUuaXNGbihuLmdldFVpZEV4dCl8fChhPW4uZ2V0VWlkRXh0KGUpKSYmKGMuZXh0PWEpLG8udWlkcz1bY10sIXUuaXNGbihuLmdldEVpZEV4dCl8fChpPW4uZ2V0RWlkRXh0KGUpKSYmKG8uZXh0PWkpLG99fXJldHVybiBudWxsfShlW25dLG4pKSYmdC5wdXNoKG8pKX1yZXR1cm4gdH07dmFyIHU9bigwKSxzPXtpbnRlbnRJcUlkOntzb3VyY2U6ImludGVudGlxLmNvbSIsYXR5cGU6MX0scHViY2lkOntzb3VyY2U6InB1YmNpZC5vcmciLGF0eXBlOjF9LHRkaWQ6e3NvdXJjZToiYWRzZXJ2ZXIub3JnIixhdHlwZToxLGdldFVpZEV4dDpmdW5jdGlvbigpe3JldHVybntydGlQYXJ0bmVyOiJURElEIn19fSxpZDVpZDp7Z2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUudWlkfSxzb3VyY2U6ImlkNS1zeW5jLmNvbSIsYXR5cGU6MSxnZXRFaWRFeHQ6ZnVuY3Rpb24oZSl7aWYoZS5leHQpcmV0dXJuIGUuZXh0fX0scGFycmFibGVJZDp7c291cmNlOiJwYXJyYWJsZS5jb20iLGF0eXBlOjEsZ2V0VmFsdWU6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuZWlkP2UuZWlkOmUuY2NwYU9wdG91dD8iIjpudWxsfSxnZXRVaWRFeHQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dS5waWNrKGUsWyJpYmFPcHRvdXQiLCJjY3BhT3B0b3V0Il0pO2lmKE9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4gdH19LGlkbF9lbnY6e3NvdXJjZToibGl2ZXJhbXAuY29tIixhdHlwZToxfSxsaXBiOntnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5saXBiaWR9LHNvdXJjZToibGl2ZWludGVudC5jb20iLGF0eXBlOjEsZ2V0RWlkRXh0OmZ1bmN0aW9uKGUpe2lmKEFycmF5LmlzQXJyYXkoZS5zZWdtZW50cykmJmUuc2VnbWVudHMubGVuZ3RoKXJldHVybntzZWdtZW50czplLnNlZ21lbnRzfX19LGJyaXRlcG9vbGlkOntzb3VyY2U6ImJyaXRlcG9vbC5jb20iLGF0eXBlOjF9LGxvdGFtZVBhbm9yYW1hSWQ6e3NvdXJjZToiY3J3ZGNudHJsLm5ldCIsYXR5cGU6MX0sY3JpdGVvSWQ6e3NvdXJjZToiY3JpdGVvLmNvbSIsYXR5cGU6MX0sbWVya2xlSWQ6e3NvdXJjZToibWVya2xlaW5jLmNvbSIsYXR5cGU6MX0sbmV0SWQ6e3NvdXJjZToibmV0aWQuZGUiLGF0eXBlOjF9LHNoYXJlZGlkOntzb3VyY2U6InNoYXJlZGlkLm9yZyIsYXR5cGU6MSxnZXRWYWx1ZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5pZH0sZ2V0VWlkRXh0OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZlLnRoaXJkP3t0aGlyZDplLnRoaXJkfTp2b2lkIDB9fSxJRFA6e3NvdXJjZToiemVvdGFwLmNvbSIsYXR5cGU6MX0saGFsb0lkOntzb3VyY2U6ImF1ZGlnZW50LmNvbSIsYXR5cGU6MX0scXVhbnRjYXN0SWQ6e3NvdXJjZToicXVhbnRjYXN0LmNvbSIsYXR5cGU6MX0saWR4Ontzb3VyY2U6ImlkeC5sYXQiLGF0eXBlOjF9LHZtdWlkOntzb3VyY2U6InZlcml6b25tZWRpYS5jb20iLGF0eXBlOjF9fX0sODU0OmZ1bmN0aW9uKGUsdCxuKXtlLmV4cG9ydHM9big4NTUpfSw4NTU6ZnVuY3Rpb24oZSx0LG4peyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksbi5kKHQsImNvcmVTdG9yYWdlIixmdW5jdGlvbigpe3JldHVybiBBfSksbi5kKHQsInN5bmNEZWxheSIsZnVuY3Rpb24oKXtyZXR1cm4gSX0pLG4uZCh0LCJhdWN0aW9uRGVsYXkiLGZ1bmN0aW9uKCl7cmV0dXJuIE99KSx0LnNldFN1Ym1vZHVsZVJlZ2lzdHJ5PWZ1bmN0aW9uKGUpe1Y9ZX0sdC5zZXRTdG9yZWRWYWx1ZT1ULHQuc2V0U3RvcmVkQ29uc2VudERhdGE9TCx0LnJlcXVlc3RCaWRzSG9vaz1SLG4uZCh0LCJ2YWxpZGF0ZUdkcHJFbmZvcmNlbWVudCIsZnVuY3Rpb24oKXtyZXR1cm4gV30pLHQuYXR0YWNoSWRTeXN0ZW09USx0LmluaXQ9WDt2YXIgbz1uKDEwKSxyPW4ubihvKSxhPW4oMyksaT1uKDgpLGM9bi5uKGkpLGw9bigwKSx1PW4oMTkpLGQ9big5KSxzPW4oNSksZj1uLm4ocyksZz1uKDEzKSxwPW4oMjIpLG09big3KTtmdW5jdGlvbiBiKGUsdCl7dmFyIG47aWYoInVuZGVmaW5lZCI9PXR5cGVvZiBTeW1ib2x8fG51bGw9PWVbU3ltYm9sLml0ZXJhdG9yXSl7aWYoQXJyYXkuaXNBcnJheShlKXx8KG49ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm47aWYoInN0cmluZyI9PXR5cGVvZiBlKXJldHVybiB5KGUsdCk7dmFyIG49T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGUpLnNsaWNlKDgsLTEpOyJPYmplY3QiPT09biYmZS5jb25zdHJ1Y3RvciYmKG49ZS5jb25zdHJ1Y3Rvci5uYW1lKTtpZigiTWFwIj09PW58fCJTZXQiPT09bilyZXR1cm4gQXJyYXkuZnJvbShlKTtpZigiQXJndW1lbnRzIj09PW58fC9eKD86VWl8SSludCg/Ojh8MTZ8MzIpKD86Q2xhbXBlZCk/QXJyYXkkLy50ZXN0KG4pKXJldHVybiB5KGUsdCl9KGUpKXx8dCYmZSYmIm51bWJlciI9PXR5cGVvZiBlLmxlbmd0aCl7biYmKGU9bik7dmFyIG89MCxyPWZ1bmN0aW9uKCl7fTtyZXR1cm57czpyLG46ZnVuY3Rpb24oKXtyZXR1cm4gbz49ZS5sZW5ndGg/e2RvbmU6ITB9Ontkb25lOiExLHZhbHVlOmVbbysrXX19LGU6ZnVuY3Rpb24oZSl7dGhyb3cgZX0sZjpyfX10aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGF0dGVtcHQgdG8gaXRlcmF0ZSBub24taXRlcmFibGUgaW5zdGFuY2UuXG5JbiBvcmRlciB0byBiZSBpdGVyYWJsZSwgbm9uLWFycmF5IG9iamVjdHMgbXVzdCBoYXZlIGEgW1N5bWJvbC5pdGVyYXRvcl0oKSBtZXRob2QuIil9dmFyIGEsaT0hMCxjPSExO3JldHVybntzOmZ1bmN0aW9uKCl7bj1lW1N5bWJvbC5pdGVyYXRvcl0oKX0sbjpmdW5jdGlvbigpe3ZhciBlPW4ubmV4dCgpO3JldHVybiBpPWUuZG9uZSxlfSxlOmZ1bmN0aW9uKGUpe2M9ITAsYT1lfSxmOmZ1bmN0aW9uKCl7dHJ5e2l8fG51bGw9PW4ucmV0dXJufHxuLnJldHVybigpfWZpbmFsbHl7aWYoYyl0aHJvdyBhfX19fWZ1bmN0aW9uIHkoZSx0KXsobnVsbD09dHx8dD5lLmxlbmd0aCkmJih0PWUubGVuZ3RoKTtmb3IodmFyIG49MCxvPW5ldyBBcnJheSh0KTtuPHQ7bisrKW9bbl09ZVtuXTtyZXR1cm4gb312YXIgdixoLEksTyxTPSJVc2VyIElEIixFPSJjb29raWUiLEQ9Imh0bWw1IixqPTUwMCx4PTAsaz17bmFtZToiX3BianNfdXNlcmlkX2NvbnNlbnRfZGF0YSIsZXhwaXJlczozMH0sQT1PYmplY3QobS5hKSgidXNlcmlkIiksXz1bXSxDPSExLFU9W10sdz1bXSxWPVtdO2Z1bmN0aW9uIFQoZSx0KXt2YXIgbj1lLmNvbmZpZy5zdG9yYWdlLG89ImZ1bmN0aW9uIj09dHlwZW9mIGUuc3VibW9kdWxlLmRvbWFpbk92ZXJyaWRlP2Uuc3VibW9kdWxlLmRvbWFpbk92ZXJyaWRlKCk6bnVsbDt0cnl7dmFyIHI9bC5pc1BsYWluT2JqZWN0KHQpP0pTT04uc3RyaW5naWZ5KHQpOnQsYT1uZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1Km4uZXhwaXJlcykudG9VVENTdHJpbmcoKTtuLnR5cGU9PT1FPyhBLnNldENvb2tpZShuLm5hbWUscixhLCJMYXgiLG8pLCJudW1iZXIiPT10eXBlb2Ygbi5yZWZyZXNoSW5TZWNvbmRzJiZBLnNldENvb2tpZSgiIi5jb25jYXQobi5uYW1lLCJfbGFzdCIpLChuZXcgRGF0ZSkudG9VVENTdHJpbmcoKSxhLCJMYXgiLG8pKTpuLnR5cGU9PT1EJiYoQS5zZXREYXRhSW5Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KG4ubmFtZSwiX2V4cCIpLGEpLEEuc2V0RGF0YUluTG9jYWxTdG9yYWdlKG4ubmFtZSxlbmNvZGVVUklDb21wb25lbnQocikpLCJudW1iZXIiPT10eXBlb2Ygbi5yZWZyZXNoSW5TZWNvbmRzJiZBLnNldERhdGFJbkxvY2FsU3RvcmFnZSgiIi5jb25jYXQobi5uYW1lLCJfbGFzdCIpLChuZXcgRGF0ZSkudG9VVENTdHJpbmcoKSkpfWNhdGNoKGUpe2wubG9nRXJyb3IoZSl9fWZ1bmN0aW9uIE4oZSx0KXt2YXIgbixvLHI9MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT10P3Q6dm9pZCAwLGE9cj8iIi5jb25jYXQoZS5uYW1lLCJfIikuY29uY2F0KHIpOmUubmFtZTt0cnl7ZS50eXBlPT09RT9uPUEuZ2V0Q29va2llKGEpOmUudHlwZT09PUQmJigiIj09PShvPUEuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIiIuY29uY2F0KGUubmFtZSwiX2V4cCIpKSk/bj1BLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGEpOm8mJjA8bmV3IERhdGUobykuZ2V0VGltZSgpLURhdGUubm93KCkmJihuPWRlY29kZVVSSUNvbXBvbmVudChBLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKGEpKSkpLCJzdHJpbmciPT10eXBlb2YgbiYmInsiPT09bi5jaGFyQXQoMCkmJihuPUpTT04ucGFyc2UobikpfWNhdGNoKGUpe2wubG9nRXJyb3IoZSl9cmV0dXJuIG59ZnVuY3Rpb24gUChlKXt2YXIgdD17Y29uc2VudFN0cmluZzoiIixnZHByQXBwbGllczohMSxhcGlWZXJzaW9uOjB9O3JldHVybiBlJiYodC5jb25zZW50U3RyaW5nPWUuY29uc2VudFN0cmluZyx0LmdkcHJBcHBsaWVzPWUuZ2RwckFwcGxpZXMsdC5hcGlWZXJzaW9uPWUuYXBpVmVyc2lvbiksbC5jeXJiNTNIYXNoKEpTT04uc3RyaW5naWZ5KHQpKX1mdW5jdGlvbiBMKGUpe3RyeXt2YXIgdD1uZXcgRGF0ZShEYXRlLm5vdygpKzg2NGU1KmsuZXhwaXJlcykudG9VVENTdHJpbmcoKTtBLnNldENvb2tpZShrLm5hbWUsUChlKSx0LCJMYXgiKX1jYXRjaChlKXtsLmxvZ0Vycm9yKGUpfX1mdW5jdGlvbiBGKCl7dHJ5e3JldHVybiBBLmdldENvb2tpZShrLm5hbWUpfWNhdGNoKGUpe2wubG9nRXJyb3IoZSl9fWZ1bmN0aW9uIHEoZSl7aWYoZSYmImJvb2xlYW4iPT10eXBlb2YgZS5nZHByQXBwbGllcyYmZS5nZHByQXBwbGllcyl7aWYoIWUuY29uc2VudFN0cmluZylyZXR1cm47aWYoMT09PWUuYXBpVmVyc2lvbiYmITE9PT1sLmRlZXBBY2Nlc3MoZSwidmVuZG9yRGF0YS5wdXJwb3NlQ29uc2VudHMuMSIpKXJldHVybjtpZigyPT09ZS5hcGlWZXJzaW9uJiYhMT09PWwuZGVlcEFjY2VzcyhlLCJ2ZW5kb3JEYXRhLnB1cnBvc2UuY29uc2VudHMuMSIpKXJldHVybn1yZXR1cm4gMX1mdW5jdGlvbiBNKGUsdCl7dmFyIG49ZnVuY3Rpb24oKXt9O3QmJihuPWwuZGVsYXlFeGVjdXRpb24oZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaCksdCgpfSxlLmxlbmd0aCkpLGUuZm9yRWFjaChmdW5jdGlvbih0KXt0LmNhbGxiYWNrKGZ1bmN0aW9uKGUpe2U/KHQuY29uZmlnLnN0b3JhZ2UmJlQodCxlKSx0LmlkT2JqPXQuc3VibW9kdWxlLmRlY29kZShlLHQuY29uZmlnKSk6bC5sb2dJbmZvKCIiLmNvbmNhdChTLCI6ICIpLmNvbmNhdCh0LnN1Ym1vZHVsZS5uYW1lLCIgLSByZXF1ZXN0IGlkIHJlc3BvbmRlZCB3aXRoIGFuIGVtcHR5IHZhbHVlIikpLG4oKX0pLHQuY2FsbGJhY2s9dm9pZCAwfSl9ZnVuY3Rpb24gSChlKXtyZXR1cm4gQXJyYXkuaXNBcnJheShlKSYmZS5sZW5ndGg/ZS5maWx0ZXIoZnVuY3Rpb24oZSl7cmV0dXJuIGwuaXNQbGFpbk9iamVjdChlLmlkT2JqKSYmT2JqZWN0LmtleXMoZS5pZE9iaikubGVuZ3RofSkucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIE9iamVjdC5rZXlzKG4uaWRPYmopLmZvckVhY2goZnVuY3Rpb24oZSl7dFtlXT1uLmlkT2JqW2VdfSksdH0se30pOnt9fWZ1bmN0aW9uIEooZSl7dmFyIHQsbixvLHI9ITE7dm9pZCAwPT09diYmKCEodj1mdW5jdGlvbihlLG4pe3ZhciBvPUYoKTtMKG4pO3ZhciB0PVcoZSxuKSxyPXQudXNlcklkTW9kdWxlcztyZXR1cm4gdC5oYXNWYWxpZGF0ZWR8fHEobik/ci5yZWR1Y2UoZnVuY3Rpb24oZSx0KXtyZXR1cm4gJCh0LG4sbywhMSksZS5wdXNoKHQpLGV9LFtdKToobC5sb2dXYXJuKCIiLmNvbmNhdChTLCIgLSBnZHByIHBlcm1pc3Npb24gbm90IHZhbGlkIGZvciBsb2NhbCBzdG9yYWdlIG9yIGNvb2tpZXMsIGV4aXQgbW9kdWxlIikpLFtdKX0oVSxkLmdkcHJEYXRhSGFuZGxlci5nZXRDb25zZW50RGF0YSgpKSkubGVuZ3RofHwodD12LmZpbHRlcihmdW5jdGlvbihlKXtyZXR1cm4gbC5pc0ZuKGUuY2FsbGJhY2spfSkpLmxlbmd0aCYmKGUmJjA8Tz8obj0hKHI9ITApLG89ZnVuY3Rpb24oKXtufHwobj0hMCxlKCkpfSxsLmxvZ0luZm8oIiIuY29uY2F0KFMsIiAtIGF1Y3Rpb24gZGVsYXllZCBieSAiKS5jb25jYXQoTywiIGF0IG1vc3QgdG8gZmV0Y2ggaWRzIikpLGg9c2V0VGltZW91dChvLE8pLE0odCxvKSk6Yy5hLm9uKGYuYS5FVkVOVFMuQVVDVElPTl9FTkQsZnVuY3Rpb24gZSgpe2MuYS5vZmYoZi5hLkVWRU5UUy5BVUNUSU9OX0VORCxlKSwwPEk/c2V0VGltZW91dChmdW5jdGlvbigpe00odCl9LEkpOk0odCl9KSkpLGUmJiFyJiZlKCl9ZnVuY3Rpb24gUihyLGEpe0ooZnVuY3Rpb24oKXt2YXIgZSx0LG4sbztlPWEuYWRVbml0c3x8T2JqZWN0KHUuYSkoKS5hZFVuaXRzLHQ9dixbZV0uc29tZShmdW5jdGlvbihlKXtyZXR1cm4hQXJyYXkuaXNBcnJheShlKXx8IWUubGVuZ3RofSl8fChuPUgodCksbz1PYmplY3QocC5hKShuKSxPYmplY3Qua2V5cyhuKS5sZW5ndGgmJmUuZm9yRWFjaChmdW5jdGlvbihlKXtlLmJpZHMmJmwuaXNBcnJheShlLmJpZHMpJiZlLmJpZHMuZm9yRWFjaChmdW5jdGlvbihlKXtlLnVzZXJJZD1uLGUudXNlcklkQXNFaWRzPW99KX0pKSxyLmNhbGwodGhpcyxhKX0pfWZ1bmN0aW9uIHooKXtyZXR1cm4gSigpLEgodil9ZnVuY3Rpb24gQigpe3JldHVybiBKKCksT2JqZWN0KHAuYSkoSCh2KSl9ZnVuY3Rpb24gRyhlLHUpe3ZhciBzPShzPWU/ZS5zdWJtb2R1bGVOYW1lczpudWxsKXx8W107SihmdW5jdGlvbigpe3ZhciBlPWQuZ2RwckRhdGFIYW5kbGVyLmdldENvbnNlbnREYXRhKCksdD1GKCk7TChlKTt2YXIgbj1XKFUsZSksbz1uLnVzZXJJZE1vZHVsZXM7aWYobi5oYXNWYWxpZGF0ZWR8fHEoZSkpe3ZhciByLGE9W10saT1iKG8pO3RyeXtmb3IoaS5zKCk7IShyPWkubigpKS5kb25lOyl7dmFyIGM9ci52YWx1ZTswPHMubGVuZ3RoJiYtMT09PXMuaW5kZXhPZihjLnN1Ym1vZHVsZS5uYW1lKXx8KGwubG9nSW5mbygiIi5jb25jYXQoUywiIC0gcmVmcmVzaGluZyAiKS5jb25jYXQoYy5zdWJtb2R1bGUubmFtZSkpLCQoYyxlLHQsITApLGwuaXNGbihjLmNhbGxiYWNrKSYmYS5wdXNoKGMpKX19Y2F0Y2goZSl7aS5lKGUpfWZpbmFsbHl7aS5mKCl9MDxhLmxlbmd0aCYmTShhKSx1JiZ1KCl9ZWxzZSBsLmxvZ1dhcm4oIiIuY29uY2F0KFMsIiAtIGdkcHIgcGVybWlzc2lvbiBub3QgdmFsaWQgZm9yIGxvY2FsIHN0b3JhZ2Ugb3IgY29va2llcywgZXhpdCBtb2R1bGUiKSl9KX12YXIgVz1PYmplY3QoZy5iKSgic3luYyIsZnVuY3Rpb24oZSx0KXtyZXR1cm57dXNlcklkTW9kdWxlczplLGhhc1ZhbGlkYXRlZDp0JiZ0Lmhhc1ZhbGlkYXRlZH19LCJ2YWxpZGF0ZUdkcHJFbmZvcmNlbWVudCIpO2Z1bmN0aW9uICQoZSx0LG4sbyl7dmFyIHIsYSxpLGMsdSxzLGQ7ZS5jb25maWcuc3RvcmFnZT8ocj1OKGUuY29uZmlnLnN0b3JhZ2UpLGM9ITEsIm51bWJlciI9PXR5cGVvZiBlLmNvbmZpZy5zdG9yYWdlLnJlZnJlc2hJblNlY29uZHMmJihjPShpPW5ldyBEYXRlKE4oZS5jb25maWcuc3RvcmFnZSwibGFzdCIpKSkmJkRhdGUubm93KCktaS5nZXRUaW1lKCk+MWUzKmUuY29uZmlnLnN0b3JhZ2UucmVmcmVzaEluU2Vjb25kcyksIXJ8fGN8fG98fChkPXQsbnVsbCE9KHM9bikmJnMhPT1QKGQpKT9hPWUuc3VibW9kdWxlLmdldElkKGUuY29uZmlnLHQscik6ImZ1bmN0aW9uIj09dHlwZW9mIGUuc3VibW9kdWxlLmV4dGVuZElkJiYoYT1lLnN1Ym1vZHVsZS5leHRlbmRJZChlLmNvbmZpZyxyKSksbC5pc1BsYWluT2JqZWN0KGEpJiYoYS5pZCYmKFQoZSxhLmlkKSxyPWEuaWQpLCJmdW5jdGlvbiI9PXR5cGVvZiBhLmNhbGxiYWNrJiYoZS5jYWxsYmFjaz1hLmNhbGxiYWNrKSksciYmKGUuaWRPYmo9ZS5zdWJtb2R1bGUuZGVjb2RlKHIsZS5jb25maWcpKSk6ZS5jb25maWcudmFsdWU/ZS5pZE9iaj1lLmNvbmZpZy52YWx1ZToodT1lLnN1Ym1vZHVsZS5nZXRJZChlLmNvbmZpZyx0LHZvaWQgMCksbC5pc1BsYWluT2JqZWN0KHUpJiYoImZ1bmN0aW9uIj09dHlwZW9mIHUuY2FsbGJhY2smJihlLmNhbGxiYWNrPXUuY2FsbGJhY2spLHUuaWQmJihlLmlkT2JqPWUuc3VibW9kdWxlLmRlY29kZSh1LmlkLGUuY29uZmlnKSkpKX1mdW5jdGlvbiBLKCl7dmFyIGUsbix0LG89KGU9dyxuPV8sQXJyYXkuaXNBcnJheShlKT9lLnJlZHVjZShmdW5jdGlvbihlLHQpe3JldHVybiF0fHxsLmlzRW1wdHlTdHIodC5uYW1lKXx8KCF0LnN0b3JhZ2V8fGwuaXNFbXB0eVN0cih0LnN0b3JhZ2UudHlwZSl8fGwuaXNFbXB0eVN0cih0LnN0b3JhZ2UubmFtZSl8fC0xPT09bi5pbmRleE9mKHQuc3RvcmFnZS50eXBlKSkmJiFsLmlzUGxhaW5PYmplY3QodC52YWx1ZSkmJih0LnN0b3JhZ2V8fHQudmFsdWUpfHxlLnB1c2godCksZX0sW10pOltdKTtvLmxlbmd0aCYmKHQ9Vi5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIXIoKShVLGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT10Lm5hbWV9KX0pLFU9dC5tYXAoZnVuY3Rpb24odCl7dmFyIGU9cigpKG8sZnVuY3Rpb24oZSl7cmV0dXJuIGUubmFtZT09PXQubmFtZX0pO3JldHVybiBlP3tzdWJtb2R1bGU6dCxjb25maWc6ZSxjYWxsYmFjazp2b2lkIDAsaWRPYmo6dm9pZCAwfTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZX0pLCFDJiZVLmxlbmd0aCYmKE9iamVjdCh1LmEpKCkucmVxdWVzdEJpZHMuYmVmb3JlKFIsNDApLGwubG9nSW5mbygiIi5jb25jYXQoUywiIC0gdXNlcnN5bmMgY29uZmlnIHVwZGF0ZWQgZm9yICIpLmNvbmNhdChVLmxlbmd0aCwiIHN1Ym1vZHVsZXM6ICIpLFUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBlLnN1Ym1vZHVsZS5uYW1lfSkpLEM9ITApKX1mdW5jdGlvbiBRKHQpe3IoKShWLGZ1bmN0aW9uKGUpe3JldHVybiBlLm5hbWU9PT10Lm5hbWV9KXx8KFYucHVzaCh0KSxLKCkpfWZ1bmN0aW9uIFgoZSl7VT1bXSxDPSEodz1bXSksdj12b2lkIDAsLTE9PT0oXz1bQS5sb2NhbFN0b3JhZ2VJc0VuYWJsZWQoKT9EOm51bGwsQS5jb29raWVzQXJlRW5hYmxlZCgpP0U6bnVsbF0uZmlsdGVyKGZ1bmN0aW9uKGUpe3JldHVybiBudWxsIT09ZX0pKS5pbmRleE9mKEUpfHwhQS5nZXRDb29raWUoIl9wYmpzX2lkX29wdG91dCIpJiYhQS5nZXRDb29raWUoIl9wdWJjaWRfb3B0b3V0Iik/LTE9PT1fLmluZGV4T2YoRCl8fCFBLmdldERhdGFGcm9tTG9jYWxTdG9yYWdlKCJfcGJqc19pZF9vcHRvdXQiKSYmIUEuZ2V0RGF0YUZyb21Mb2NhbFN0b3JhZ2UoIl9wdWJjaWRfb3B0b3V0Iik/KGUuZ2V0Q29uZmlnKGZ1bmN0aW9uKGUpe3ZhciB0PWUudXNlclN5bmM7dCYmdC51c2VySWRzJiYodz10LnVzZXJJZHMsST1sLmlzTnVtYmVyKHQuc3luY0RlbGF5KT90LnN5bmNEZWxheTpqLE89bC5pc051bWJlcih0LmF1Y3Rpb25EZWxheSk/dC5hdWN0aW9uRGVsYXk6eCxLKCkpfSksT2JqZWN0KHUuYSkoKS5nZXRVc2VySWRzPXosT2JqZWN0KHUuYSkoKS5nZXRVc2VySWRzQXNFaWRzPUIsT2JqZWN0KHUuYSkoKS5yZWZyZXNoVXNlcklkcz1HKTpsLmxvZ0luZm8oIiIuY29uY2F0KFMsIiAtIG9wdC1vdXQgbG9jYWxTdG9yYWdlIGZvdW5kLCBleGl0IG1vZHVsZSIpKTpsLmxvZ0luZm8oIiIuY29uY2F0KFMsIiAtIG9wdC1vdXQgY29va2llIGZvdW5kLCBleGl0IG1vZHVsZSIpKX1YKGEuYiksT2JqZWN0KGcuYykoInVzZXJJZCIsUSl9fSxbODU0XSk7CnVwYmpzQ2h1bmsoWzYxXSx7ODk2OmZ1bmN0aW9uKGUsdCxyKXtlLmV4cG9ydHM9cig4OTcpfSw4OTc6ZnVuY3Rpb24oZSx0LHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkodCwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKHQsIkJJRERFUl9DT0RFIixmdW5jdGlvbigpe3JldHVybiBpfSksci5kKHQsIkVOR0lORV9CQVNFX1VSTCIsZnVuY3Rpb24oKXtyZXR1cm4gZH0pLHIuZCh0LCJVU0VSSUQiLGZ1bmN0aW9uKCl7cmV0dXJuIG99KSxyLmQodCwiSU1QUkVTU0lPTklEIixmdW5jdGlvbigpe3JldHVybiBjfSksci5kKHQsIlJFRkVSRVIiLGZ1bmN0aW9uKCl7cmV0dXJuIHB9KSxyLmQodCwiQ0hBUlNFVCIsZnVuY3Rpb24oKXtyZXR1cm4gdX0pLHIuZCh0LCJzcGVjIixmdW5jdGlvbigpe3JldHVybiB2fSksdC5yZXNldFVzZXJTeW5jPWZ1bmN0aW9uKCl7bD0hMX07cigwKTt2YXIgYT1yKDEpLG49cigyKTtmdW5jdGlvbiBzKGUsdCxyKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOnIsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPXIsZX12YXIgaT0ieWFuZGV4cnRiIixkPSJodHRwczovL2FuLnlhbmRleC5ydS9tZXRhLyIsbz0iZHVpZCIsYz0iaW1wLWlkIixwPSJ0YXJnZXQtcmVmIix1PSJjaGFyc2V0IixnPVtdLGw9ITEsaD1bImh0dHBzOi8vYW4ueWFuZGV4LnJ1L21hcHVpZC9hcHBuZXh1cy8iLCJodHRwczovL3N0YXRzLm1vcy5ydS9nYy95bmQvIiwiaHR0cHM6Ly9hbi55YW5kZXgucnUvbWFwdWlkL2dvb2dsZS8iLCJodHRwczovL2RtZy5kaWdpdGFsdGFyZ2V0LnJ1LzEvMTE5L2kvaT9pPTE1NDc0NjY5OTkiLCJodHRwczovL3lhbmRleC1kbXAtc3luYy5ydXRhcmdldC5ydS9zeW5jIiwiaHR0cHM6Ly95YW5kZXgtc3luYy5ydXRhcmdldC5ydS9zeW5jIiwiaHR0cHM6Ly94MDEuYWlkYXRhLmlvLzAuZ2lmP3BpZD1ZQU5ERVgiLCJodHRwczovL3N5bmMuMWRtcC5pby9waXhlbC5naWY/Y2lkPTNjYmMyZWM4LTE0MjEtNDY3Ny04OWZlLTJhYzZmYzUyYTA5YSZwaWQ9dyZvPWF1IiwiaHR0cHM6Ly9yZWRpcmVjdC5mcm9udGVuZC53ZWJvcmFtYS5mci9yZWRpcmVjdC9zdGFuZGFyZD91cmw9aHR0cHM6Ly9hbi55YW5kZXgucnUvbWFwdWlkL2RtcHdlYm9yYW1hL3tXRUJPX0NJRH0iLCJodHRwczovL3Byb2ZpbGUuc3NwLnJhbWJsZXIucnUvc3luYzMuMzAyP3BpZD0xODgiLCJodHRwczovL2FuLnlhbmRleC5ydS9tYXB1aWQvYWRvYmVkbXAvIl0sZj1NYXRoLmxvZyxiPU1hdGguTE4yLHk9TWF0aC5jbHozMnx8ZnVuY3Rpb24oZSl7cmV0dXJuIDMxLWYoZT4+PjApL2J8MH0sbT1TdHJpbmcuZnJvbUNoYXJDb2RlLF89YXRvYjtidG9hO2Z1bmN0aW9uIHgoZSl7dmFyIHQ9ZS5jaGFyQ29kZUF0KDApPDwyNCxyPXkofnQpLGE9MCxuPWUubGVuZ3RoLHM9IiI7aWYocjw1JiZyPD1uKXtmb3IodD10PDxyPj4+MjQrcixhPTE7YTxyOysrYSl0PXQ8PDZ8NjMmZS5jaGFyQ29kZUF0KGEpO3Q8PTY1NTM1P3MrPW0odCk6dDw9MTExNDExMT9zKz1tKDU1Mjk2KygodC09NjU1MzYpPj4xMCksNTYzMjArKDEwMjMmdCkpOmE9MH1mb3IoO2E8bjsrK2Epcys9Iu+/vSI7cmV0dXJuIHN9dmFyIHY9e2NvZGU6aSxzdXBwb3J0ZWRNZWRpYVR5cGVzOltuLmJdLGlzQmlkUmVxdWVzdFZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuITB9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSl7Zy5wdXNoKGVbMF0pO2Zvcih2YXIgdD1bXSxyPTA7cjxlLmxlbmd0aDtyKyspe3ZhciBhPWZ1bmN0aW9uKGUpe3ZhciB0LHI9ZnVuY3Rpb24oZSl7dmFyIHQ9KCI7ICIrZG9jdW1lbnQuY29va2llKS5zcGxpdCgiOyAiK2UrIj0iKTtpZigyPT10Lmxlbmd0aClyZXR1cm4gdC5wb3AoKS5zcGxpdCgiOyIpLnNoaWZ0KCl9KCJfeW1fdWlkIiksYT0iWWEiK0RhdGUubm93KCk7d2luZG93LllhU2Vzc2lvbklEPXdpbmRvdy5ZYVNlc3Npb25JRHx8KDFlNipNYXRoLnJhbmRvbSgpKS50b0ZpeGVkKDApKyhuZXcgRGF0ZSkudmFsdWVPZigpLnRvU3RyaW5nKCk7dmFyIG49KHModD17fSx1LCJ1dGYtOCIpLHModCwiZ3JhYiIsImRBbz0iKSxzKHQsImVuYWJsZS1mbGF0LWhpZ2hsaWdodCIsMSkscyh0LCJ0ZXN0LXRhZyIsODU3NjE5MDY5NjY1MzApLHModCwiYWQtc2Vzc2lvbi1pZCIsd2luZG93LllhU2Vzc2lvbklEKSxzKHQsInRhcmdldC1pZCIsU3RyaW5nKC0yNTcmTWF0aC5mbG9vcigxZTgrTWF0aC5yYW5kb20oKSooMi0xZTgpKSkpLHModCwicGNvZGUtdmVyc2lvbiIsNzMyNCkscyh0LCJmbGFzaC12ZXIiLDApLHModCwiYXZhaWxhYmxlLXdpZHRoIixkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgpLHModCwiY2FsbGJhY2siLGEpLHModCwidGFnLWlkIixlLnBhcmFtcy50YWdJRCkscyh0LGMsZS5wYXJhbXMuYmxvY2tJRCkscyh0LHAsd2luZG93LmxvY2F0aW9uLmhyZWYpLHQpO3ImJihuW29dPXdpbmRvdy5idG9hKHIpKTtyZXR1cm4gbn0oZVtyXSk7dC5wdXNoKHttZXRob2Q6IkdFVCIsdXJsOmQrZVtyXS5wYXJhbXMudGFnSUQsZGF0YTphfSl9cmV0dXJuIHR9LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGUsdCl7dmFyIHIsYSxuPVtdLHM9bmV3IFJlZ0V4cCh0LmRhdGEuY2FsbGJhY2srIlxcKCcoLio/KSdcXCkkIiwiZ20iKSxpPWUuYm9keSxkPXMuZXhlYyhpKTt0cnl7dmFyIG8sYyxwLHUsbD1KU09OLnBhcnNlKGRbMV0pO2lmKGwuZGlyZWN0JiYhbC5ydGI/KG89JzxkaXYgaWQ9InlhbmRleF9ydGJfUi1BLScrdC5kYXRhWyJ0YWctaWQiXSsiLSIrdC5kYXRhWyJpbXAtaWQiXSsiXCI+PC9kaXY+PHNjcmlwdD52YXIgcmVzcG9uc2UgPSAnIitpLnJlcGxhY2UoL1wnL2csIlxcJyIpKydcJzt2YXIgcmVhZHlTdGF0ZUdldHRlciA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5fX2xvb2t1cEdldHRlcl9fKCJvbnJlYWR5c3RhdGVjaGFuZ2UiKTt2YXIgcmVhZHlTdGF0ZVNldHRlciA9IFhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5fX2xvb2t1cFNldHRlcl9fKCJvbnJlYWR5c3RhdGVjaGFuZ2UiKTtYTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXygib25yZWFkeXN0YXRlY2hhbmdlIixmdW5jdGlvbigpe3JldHVybiByZWFkeVN0YXRlR2V0dGVyLmNhbGwodGhpcyk7fSk7WE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLl9fZGVmaW5lU2V0dGVyX18oIm9ucmVhZHlzdGF0ZWNoYW5nZSIsZnVuY3Rpb24oYSl7cmVhZHlTdGF0ZVNldHRlci5jYWxsKHRoaXMsZnVuY3Rpb24oKXtpZih0aGlzLnN0YXR1cyA9PT0gMjAwICYmIHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkge3JlcGxhY2VXaXRoT2xkUmVzcG9uc2UocmVzcG9uc2UsIHRoaXMsIGEpO319KTt9KTt2YXIgcmVwbGFjZVdpdGhPbGRSZXNwb25zZSA9IGZ1bmN0aW9uKHJlc3BvbnNlLCB4aHJPYmplY3QsIHhockNhbGxiYWNrKXt2YXIgbmV3Q2FsbGJhY2sgPSAvWWFbWzAtOV0rXS8uZXhlYyh4aHJPYmplY3QucmVzcG9uc2UpO3ZhciBvbGRDYWxsYmFjayA9IC9ZYVswLTldKy8uZXhlYyhyZXNwb25zZSk7aWYgKCFuZXdDYWxsYmFjayB8fCAhb2xkQ2FsbGJhY2spIHtyZXR1cm47fXJlc3BvbnNlID0gcmVzcG9uc2UucmVwbGFjZShvbGRDYWxsYmFja1swXSxuZXdDYWxsYmFja1swXSk7eGhyT2JqZWN0Ll9fZGVmaW5lR2V0dGVyX18oInJlc3BvbnNlVGV4dCIsZnVuY3Rpb24oKXtyZXR1cm4gcmVzcG9uc2V9KTt4aHJPYmplY3QuX19kZWZpbmVHZXR0ZXJfXygicmVzcG9uc2UiLGZ1bmN0aW9uKCl7cmV0dXJuIHJlc3BvbnNlfSk7eGhyQ2FsbGJhY2suY2FsbCh4aHJPYmplY3QpO307KGZ1bmN0aW9uKHcsIGQsIG4sIHMsIHQpIHt3W25dID0gd1tuXSB8fCBbXTt3W25dLnB1c2goZnVuY3Rpb24oKSB7WWEuQ29udGV4dC5BZHZNYW5hZ2VyLnJlbmRlcih7YmxvY2tJZDogIlItQS0nK3QuZGF0YVsidGFnLWlkIl0rIi0iK3QuZGF0YVsiaW1wLWlkIl0rJyIscmVuZGVyVG86ICJ5YW5kZXhfcnRiX1ItQS0nK3QuZGF0YVsidGFnLWlkIl0rIi0iK3QuZGF0YVsiaW1wLWlkIl0rJyIsYXN5bmM6IHRydWV9KTt9KTt0ID0gZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IilbMF07cyA9IGQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7cy50eXBlID0gInRleHQvamF2YXNjcmlwdCI7cy5zcmMgPSAiLy9hbi55YW5kZXgucnUvc3lzdGVtL2NvbnRleHQuanMiO3MuYXN5bmMgPSB0cnVlO3QucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocywgdCk7fSkodGhpcywgdGhpcy5kb2N1bWVudCwgInlhbmRleENvbnRleHRBc3luY0NhbGxiYWNrcyIpOzxcL3NjcmlwdD4nLGM9MSk6KGM9bC5zZXR0aW5nc1tPYmplY3Qua2V5cyhsLnNldHRpbmdzKVswXV0uYmFubmVySWRzLHI9bC5ydGIuaHRtbC5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSxhfHwiw6/Cu8K/IiE9PXIuc3Vic3RyaW5nKDAsMyl8fChyPXIuc3Vic3RyaW5nKDMpKSxvPV8ocikucmVwbGFjZSgvW1x4YzAtXHhmZl1bXHg4MC1ceGJmXSovZyx4KSxsLnJ0YiYmbC5ydGIuaHRtbDUmJiIiIT09bC5ydGIuYmFzZVBhdGgmJihvPW8ucmVwbGFjZSgiPGhlYWQ+IiwnPGhlYWQ+PGJhc2UgaHJlZj0iJytsLnJ0Yi5iYXNlUGF0aCsnIiAvPicpKSksbC5zZXR0aW5ncyYmbC5zZXR0aW5nc1tPYmplY3Qua2V5cyhsLnNldHRpbmdzKVswXV0udmlld05vdGljZXMpe3U9bC5zZXR0aW5nc1tPYmplY3Qua2V5cyhsLnNldHRpbmdzKVswXV0udmlld05vdGljZXM7Zm9yKHZhciBoPTA7aDx1Lmxlbmd0aDtoKyspbz1vKyc8c2NyaXB0Pm5ldyBJbWFnZSgpLnNyYz0iJyt1W2hdKyciOzxcL3NjcmlwdD4nfWZvcihoPTA7aDxnLmxlbmd0aDtoKyspaWYoZ1toXS5wYXJhbXMudGFnSUQ9PT10LmRhdGFbInRhZy1pZCJdJiZnW2hdLnBhcmFtcy5ibG9ja0lEPT09dC5kYXRhWyJpbXAtaWQiXSYmIWdbaF0uX191c2VkKXtnW2hdLl9fdXNlZD0hMCxwPWdbaF07YnJlYWt9bi5wdXNoKHtyZXF1ZXN0SWQ6cC5iaWRJZCxjcG06LjAxLHdpZHRoOnAuc2l6ZXNbMF1bMF0saGVpZ2h0OnAuc2l6ZXNbMF1bMV0sYWQ6byx0dGw6OTAwLGNyZWF0aXZlSWQ6YyxuZXRSZXZlbnVlOiEwLGN1cnJlbmN5OiJVU0QifSl9Y2F0Y2goZSl7fXJldHVybiBufSxnZXRVc2VyU3luY3M6ZnVuY3Rpb24oZSx0LHIpe2lmKCFsKXtyJiYic3RyaW5nIj09dHlwZW9mIHIuY29uc2VudFN0cmluZyYmKCJib29sZWFuIj09dHlwZW9mIHIuZ2RwckFwcGxpZXM/Ij9nZHByPSIuY29uY2F0KE51bWJlcihyLmdkcHJBcHBsaWVzKSwiJmdkcHJfY29uc2VudD0iKS5jb25jYXQoci5jb25zZW50U3RyaW5nKToiP2dkcHJfY29uc2VudD0iLmNvbmNhdChyLmNvbnNlbnRTdHJpbmcpKSxsPSEwO2Zvcih2YXIgYT1bXSxuPTA7bjxoLmxlbmd0aDtuKyspYS5wdXNoKHt0eXBlOiJpbWFnZSIsdXJsOmhbbl19KTtyZXR1cm4gYX19fTtPYmplY3QoYS5yZWdpc3RlckJpZGRlcikodil9fSxbODk2XSk7CnVwYmpzQ2h1bmsoWzYwXSx7ODk4OmZ1bmN0aW9uKGUsYSxyKXtlLmV4cG9ydHM9cig4OTkpfSw4OTk6ZnVuY3Rpb24oZSxhLHIpeyJ1c2Ugc3RyaWN0IjtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiX19lc01vZHVsZSIse3ZhbHVlOiEwfSksci5kKGEsInNwZWMiLGZ1bmN0aW9uKCl7cmV0dXJuIHN9KTt2YXIgdz1yKDApLG49cigxKSx0PXIoMTApLGI9ci5uKHQpLEE9cigyKSxqPXIoMTEpLFA9Imh0dHBzOi8vYWQueWllbGRsYWIubmV0IixzPXtjb2RlOiJ5aWVsZGxhYiIsc3VwcG9ydGVkTWVkaWFUeXBlczpbQS5kLEEuYl0saXNCaWRSZXF1ZXN0VmFsaWQ6ZnVuY3Rpb24oZSl7cmV0dXJuISEoZSYmZS5wYXJhbXMmJmUucGFyYW1zLmFkc2xvdElkJiZlLnBhcmFtcy5zdXBwbHlJZCl9LGJ1aWxkUmVxdWVzdHM6ZnVuY3Rpb24oZSxhKXt2YXIgbz1bXSxpPXt0czpEYXRlLm5vdygpLGpzb246ITB9O3cuX2VhY2goZSxmdW5jdGlvbihlKXtpZihvLnB1c2goZS5wYXJhbXMuYWRzbG90SWQpLGUucGFyYW1zLnRhcmdldGluZyYmKGkudD1mdW5jdGlvbihlKXt2YXIgYT1bXTtmb3IodmFyIHIgaW4gZSl7dmFyIG47ZS5oYXNPd25Qcm9wZXJ0eShyKSYmKG49ZVtyXSxhLnB1c2gocisiPSIrbikpfXJldHVybiBhLmpvaW4oIiYiKX0oZS5wYXJhbXMudGFyZ2V0aW5nKSksZS51c2VySWRBc0VpZHMmJkFycmF5LmlzQXJyYXkoZS51c2VySWRBc0VpZHMpJiYoaS5pZHM9ZnVuY3Rpb24oZSl7Zm9yKHZhciBhPVtdLHI9MDtyPGUubGVuZ3RoO3IrKylhLnB1c2goZVtyXS5zb3VyY2UrIjoiK2Vbcl0udWlkc1swXS5pZCk7cmV0dXJuIGEuam9pbigiLCIpfShlLnVzZXJJZEFzRWlkcykpLGUucGFyYW1zLmN1c3RvbVBhcmFtcyYmdy5pc1BsYWluT2JqZWN0KGUucGFyYW1zLmN1c3RvbVBhcmFtcykpZm9yKHZhciBhIGluIGUucGFyYW1zLmN1c3RvbVBhcmFtcylpW2FdPWUucGFyYW1zLmN1c3RvbVBhcmFtc1thXTt2YXIgcixuLHQscyxkO2Uuc2NoYWluJiZ3LmlzUGxhaW5PYmplY3QoZS5zY2hhaW4pJiZBcnJheS5pc0FycmF5KGUuc2NoYWluLm5vZGVzKSYmKGkuc2NoYWluPShyPWUuc2NoYWluLG49ci52ZXJ8fCIiLHQ9MT09PXIuY29tcGxldGV8fDA9PT1yLmNvbXBsZXRlP3IuY29tcGxldGU6IiIscz1bImFzaSIsInNpZCIsImhwIiwicmlkIiwibmFtZSIsImRvbWFpbiIsImV4dCJdLGQ9ci5ub2Rlcy5yZWR1Y2UoZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsiISIuY29uY2F0KHMubWFwKGZ1bmN0aW9uKGUpe3JldHVybiByW2VdPyhhPXJbZV0sZW5jb2RlVVJJQ29tcG9uZW50KGEpLnJlcGxhY2UoLyEvZywiJTIxIikpOiIiO3ZhciBhfSkuam9pbigiLCIpKX0sIiIpLCIiLmNvbmNhdChuLCIsIikuY29uY2F0KHQpLmNvbmNhdChkKSkpfSksYSYmKGEucmVmZXJlckluZm8mJmEucmVmZXJlckluZm8ucmVmZXJlciYmKGkucHVicmVmPWEucmVmZXJlckluZm8ucmVmZXJlciksYS5nZHByQ29uc2VudCYmKGkuZ2Rwcj0iYm9vbGVhbiIhPXR5cGVvZiBhLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzfHxhLmdkcHJDb25zZW50LmdkcHJBcHBsaWVzLGkuZ2RwciYmKGkuY29uc2VudD1hLmdkcHJDb25zZW50LmNvbnNlbnRTdHJpbmcpKSk7dmFyIHI9by5qb2luKCIsIiksbj1mdW5jdGlvbihlKXt2YXIgYT1bXTtmb3IodmFyIHIgaW4gZSl7dmFyIG47ZS5oYXNPd25Qcm9wZXJ0eShyKSYmKG49ZVtyXSwic2NoYWluIiE9PXI/YS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChyKSsiPSIrZW5jb2RlVVJJQ29tcG9uZW50KG4pKTphLnB1c2gocisiPSIrbikpfXJldHVybiBhLmpvaW4oIiYiKX0oaSk7cmV0dXJue21ldGhvZDoiR0VUIix1cmw6IiIuY29uY2F0KFAsIi95cC8iKS5jb25jYXQociwiPyIpLmNvbmNhdChuKSx2YWxpZEJpZFJlcXVlc3RzOmUscXVlcnlQYXJhbXM6aX19LGludGVycHJldFJlc3BvbnNlOmZ1bmN0aW9uKGYsZSl7dmFyIHk9W10sZz1EYXRlLm5vdygpLEk9ZS5xdWVyeVBhcmFtcztyZXR1cm4gZS52YWxpZEJpZFJlcXVlc3RzLmZvckVhY2goZnVuY3Rpb24oYSl7dmFyIGUscixuLHQscyxkLG8saSxjLHAsdSxtLGwsaCx2OyFmLmJvZHl8fChlPWIoKShmLmJvZHksZnVuY3Rpb24oZSl7cmV0dXJuIGEucGFyYW1zLmFkc2xvdElkPT1lLmlkfSkpJiYocj0yIT09YS5zaXplcy5sZW5ndGh8fHcuaXNBcnJheShhLnNpemVzWzBdKT9hLnNpemVzWzBdOmEuc2l6ZXMsbj12b2lkIDAhPT1hLnBhcmFtcy5hZFNpemU/YS5wYXJhbXMuYWRTaXplLnNwbGl0KCJ4IikubWFwKE51bWJlcik6cix0PXZvaWQgMCE9PWEucGFyYW1zLmV4dElkPyImaWQ9IithLnBhcmFtcy5leHRJZDoiIixzPXZvaWQgMCE9PWUuYWR0eXBlP2UuYWR0eXBlOiIiLGQ9SS5nZHByPyImZ2Rwcj0iK0kuZ2RwcjoiIixvPUkuY29uc2VudD8iJmNvbnNlbnQ9IitJLmNvbnNlbnQ6IiIsaT17cmVxdWVzdElkOmEuYmlkSWQsY3BtOmUucHJpY2UvMTAwLHdpZHRoOm5bMF0saGVpZ2h0Om5bMV0sY3JlYXRpdmVJZDoiIitlLmlkLGRlYWxJZDplWyJjLmRlYWxpZCJdP2VbImMuZGVhbGlkIl06ZS5waWQsY3VycmVuY3k6IkVVUiIsbmV0UmV2ZW51ZTohMSx0dGw6MzAwLHJlZmVycmVyOiIiLGFkOic8c2NyaXB0IHNyYz0iJy5jb25jYXQoUCwiL2QvIikuY29uY2F0KGUuaWQsIi8iKS5jb25jYXQoYS5wYXJhbXMuc3VwcGx5SWQsIi8iKS5jb25jYXQoblswXSwieCIpLmNvbmNhdChuWzFdLCI/dHM9IikuY29uY2F0KGcpLmNvbmNhdCh0KS5jb25jYXQoZCkuY29uY2F0KG8sJyI+PFwvc2NyaXB0PicpfSxoPWEsdj1zLHcuZGVlcEFjY2VzcyhoLCJtZWRpYVR5cGVzLnZpZGVvIikmJiJ2aWRlbyI9PT12LnRvTG93ZXJDYXNlKCkmJihtPWEsKGM9KGw9dy5kZWVwQWNjZXNzKG0sIm1lZGlhVHlwZXMudmlkZW8ucGxheWVyU2l6ZSIpKSYmdy5pc0FycmF5KGxbMF0pP2xbMF06bCkmJihpLndpZHRoPWNbMF0saS5oZWlnaHQ9Y1sxXSksaS5tZWRpYVR5cGU9QS5kLGkudmFzdFVybD0iIi5jb25jYXQoUCwiL2QvIikuY29uY2F0KGUuaWQsIi8iKS5jb25jYXQoYS5wYXJhbXMuc3VwcGx5SWQsIi8iKS5jb25jYXQoblswXSwieCIpLmNvbmNhdChuWzFdLCI/dHM9IikuY29uY2F0KGcpLmNvbmNhdCh0KS5jb25jYXQoZCkuY29uY2F0KG8pLHU9YSwib3V0c3RyZWFtIj09PXcuZGVlcEFjY2Vzcyh1LCJtZWRpYVR5cGVzLnZpZGVvLmNvbnRleHQiKSYmKChwPWouYS5pbnN0YWxsKHtpZDphLmJpZElkLHVybDoiaHR0cHM6Ly9hZDIubW92YWQubmV0L2R5bmFtaWMuYWQ/YT1vMTkzMDkyJm1hX2xvYWRFdmVudD1tYS1zdGFydC1ldmVudCIsbG9hZGVkOiExfSkpLnNldFJlbmRlcihSKSxpLnJlbmRlcmVyPXApKSx5LnB1c2goaSkpfSkseX19O2Z1bmN0aW9uIFIoZSl7ZS5yZW5kZXJlci5wdXNoKGZ1bmN0aW9uKCl7d2luZG93Lm1hX3dpZHRoPWUud2lkdGgsd2luZG93Lm1hX2hlaWdodD1lLmhlaWdodCx3aW5kb3cubWFfdmFzdFVybD1lLnZhc3RVcmwsd2luZG93Lm1hX2NvbnRhaW5lcj1lLmFkVW5pdENvZGUsd2luZG93LmRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJtYS1zdGFydC1ldmVudCIpKX0pfU9iamVjdChuLnJlZ2lzdGVyQmlkZGVyKShzKX19LFs4OThdKTsKdXBianMucHJvY2Vzc1F1ZXVlKCk7");eval(n)}catch(e){debugger}T.cpbjs=window.upbjs};this.load=function(){T.cpbjs||(b(),f.invokeEventCallbacks("postset"))}}})(ob);var vb={};(function(I){function E(){b.que.push(function(){b.setConfig({userSync:{userIds:[{name:"pubProvidedId",params:{eidsFunction:function(){return[{source:"blockthrough.com",uids:[{id:"bt-aauser",atype:1,ext:{stype:"ppuid"}}]}]}}}]}})})}function G(k){k=void 0===k?{}:k;var g=k.onListenerAdded,u=void 0===k.pollingInterval?100:k.pollingInterval,
H=void 0===k.maxIntervalCount?50:k.maxIntervalCount;if(window.pbjs&&window.pbjs.onEvent)x(g);else var L=0,S=setInterval(function(){L++;L>=H?clearInterval(S):window.pbjs&&window.pbjs.onEvent&&(clearInterval(S),x(g))},u)}function x(k){try{window.pbjs.onEvent("beforeRequestBids",function(g){var u=window.pbjs.adUnits||[],H=u.map(function(L){return L.code});g=g.filter(function(L){return!H.includes(L.code)});0<g.length&&(window.pbjs.adUnits=[].concat($jscomp.arrayFromIterable(u),$jscomp.arrayFromIterable(g)))}),
k&&k()}catch(g){r.errorf(null,"prebidPostset - listen to pbjs.requestBids: %o",g)}}function y(){var k=f.fireEvent("provideSChainConfig");k&&b.que.push(function(){try{if(window[k.prebidVariable].getConfig("schain"))b.setConfig({schain:window[k.prebidVariable].getConfig("schain")});else throw Error("Could not find publisher's schain in their prebid variable - use manual fallback.");}catch(u){try{var g=k.manualFallback||{};b.setConfig({schain:{validation:"strict",config:{ver:"1.0",complete:null!==g.complete&&
void 0!==g.complete?g.complete:1,nodes:[{asi:g.asi,sid:g.sid,hp:null!==g.hp&&void 0!==g.hp?g.hp:1}]}}})}catch(H){r.errorf(null,"setPublisherSChain: error within manual fallback cpbjs.setConfig(): %o",H)}}})}I.postsetProvider=function(k){switch(k){case "prebid":return n}};var r=ra.new();r.setPrefix("prebidPostset: ");r.setLevel(ra.DEBUG);var f=ca.CustomEvents,b,n=function(){b=T.cpbjs;p();e();E();b.onBeforeRequest(function(u){return u&&wa.addAcceptableParam(u)});try{T.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame&&
b.setSafeFrameURL(T.upoSettings.whitelistedFrameSettings.url)}catch(u){r.errorf(null,"setSafeFrameURL error: %o",u)}b.aliasBidder("pulsepointLite","pulsepoint");b.aliasBidder("indexExchange","ix");b.aliasBidder("my6sense","upo2");b.aliasBidder("lockerdome","upo3");var k=window.pbjs||window.jitaJS;k&&k.bidderSettings&&(b.bidderSettings=k.bidderSettings);k=k&&k.getConfig&&k.getConfig();var g="high";k&&(g=k.customPriceBucket,k=k.priceGranularity,g="custom"===k?g:k);b.setConfig({priceGranularity:g,userSync:{iframeEnabled:1,
syncsPerBidder:25,syncEnabled:1,pixelEnabled:1}});(k=f.fireEvent("scrapePrebidRequestBids"))&&G(k);f.fireEvent("addIndexExchangeWrappers")&&d();y();f.fireEvent("prebidDoneInit",{cpbjs:b})},e=function(){try{var k=window.pbjs,g=k&&k.version&&parseInt(k.version[1]);if(g&&!isNaN(g)&&4<=g){var u=k.getConfig("consentManagement");if(u&&(u.gdpr||u.usp)){b.setConfig({consentManagement:u});return}}}catch(H){r.errorf(null,"setConsentConfig: copy publisher consentManagement settings: %o",H)}try{"function"===
typeof window.__tcfapi&&window.__tcfapi("ping",2,function(H){H&&H.cmpLoaded&&H.gdprApplies&&(H={consentManagement:b.getConfig().consentManagement||{}},H.consentManagement.gdpr={cmpApi:"iab",timeout:3E3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},b.setConfig(H))})}catch(H){r.errorf(null,"setConsentConfig: __tcfapi: %o",H)}try{"function"===typeof window.__cmp&&"function"!==typeof window.__tcfapi&&window.__cmp("getConsentData",null,function(H){H&&H.gdprApplies&&(H={consentManagement:b.getConfig().consentManagement||
{}},H.consentManagement.gdpr={cmpApi:"iab",timeout:3E3,allowAuctionWithoutConsent:!0,defaultGdprScope:!1},b.setConfig(H))})}catch(H){r.errorf(null,"setConsentConfig: __cmp: %o",err)}try{"function"===typeof window.__uspapi&&window.__uspapi("getUSPData",1,function(H,L){L&&H.uspString&&(H={consentManagement:b.getConfig().consentManagement||{}},H.consentManagement.usp={cmpApi:"iab",timeout:100},b.setConfig(H))})}catch(H){r.errorf(null,"setConsentConfig: __uspapi: %o",H)}},p=function(){T.whitelistedFrame?
b.setUpCookieFrame(T.whitelistedFrame):f.addEventListener("whitelistedFrameLoaded",function(){b.setUpCookieFrame(T.whitelistedFrame)})},d=function(){var k={aol:"ix_aol_om",appnexus:"ix_apnx_om",beachfront:"ix_bft_cpm",colossusssp:"ix_clss_cpm",consumable:"ix_cnsm_cpm",conversant:"ix_conv_cpm",criteo:"ix_cdb_om",districtm:"ix_dism_om",districtmDMX:"ix_dis_cpm",emx_digital:"ix_brt_cpm",gumgum:"ix_gum_cpm",improvedigital:"ix_imdi_cpm",justpremium:"ix_justp_cpm",kargo:"ix_karg_om",lockerdome:"ix_lkdm_cpm",
onedisplay:"ix_oath_cpm",onemobile:"ix_oath_cpm",openx:"ix_ox_om",optimera:"ix_opti_cpm",piximedia:"ix_pix_cpm",pubmatic:"ix_pubm_om",pulsepoint:"ix_pp_om",pxyz:"ix_pxyz_cpm",quantcast:"ix_qua_cpm",rubicon:"ix_rubi_om",sharethrough:"ix_shth_cpm",sonobi:"ix_sbi_om",sovrn:"ix_sovrn_om",triplelift:"ix_tpl_cpm",trustx:"ix_trstx_cpm",indexExchange:"IOM",ix:"IOM",undertone:"ix_undr_cpm"},g=function(H){return(100*parseFloat(H)).toFixed()},u;for(u in k)b.bidderSettings[u]={adserverTargeting:[{key:k[u],val:function(H){var L=
b.getConfig().priceGranularity;return"auto"===L?H.size+"_"+g(H.pbAg):"dense"===L?H.size+"_"+g(H.pbDg):"low"===L?H.size+"_"+g(H.pbLg):"medium"===L?H.size+"_"+g(H.pbMg):"high"!==L&&"custom"===L?H.size+"_"+g(H.pbCg):H.size+"_"+g(H.pbHg)}}]}}})(vb);var gb={};(function(I){var E=new function(){var r=ca.CustomEvents,f=na.stringRange(8,10);window.__upo_d.recoveryScriptVersion="2.9.20-2-g2a40414";var b=$a.browser(),n=$a.device(),e=$a.platform();try{var p=window.__bt_intrnl.traceID}catch(k){p=""}var d=
function(k,g){""==k&&(k="/");g=g||{};var u="?";g.upapi=["true"];g.tid=[p];g.cv=["2.9.20-2-g2a40414"];for(var H=Object.keys(g),L=0;L<H.length;L++)for(var S=H[L],c=g[S],m=0;m<c.length;m++){var l=c[m];k+=u+encodeURIComponent(S)+"="+encodeURIComponent(l);u="&"}return k};this.sendLog=function(k,g){var u={};u.event=[k];if(g)for(var H in g)u[H]=[encodeURIComponent(g[H])];g=T.SharedObject.getItem("websiteConfig")||{};k=g.organizationID;g=g.websiteID;k&&(u.organizationID=[k]);g&&(u.websiteID=[g]);
u.pid=[f];u.ver=["2.9.20-2-g2a40414"];u.browser=[b];u.device=[n];u.platform=[e];u.ref=[location.href];u.t=[Date.now()];u={url:d("/l",u)};return y.$fetch(u)};this.testCompliance=function(k){return new Promise(function(g,u){var H={};H.pid=[f];H.nr=["2"];var L=k,S=d("/tc",H),c=JSON.stringify(k);try{c&&2048<=c.length&&window.localStorage&&!window.localStorage.updebug?(L=P.compress(c).buffer,H.z=[1],S=d("/tc",H)):L=Ca.encode(c)}catch(m){L=Ca.encode(c)}y.$fetch({method:"POST",url:S,body:L}).then(function(m){m=
JSON.parse(Ca.decode(m.body));var l={},v;for(v in m)m.hasOwnProperty(v)&&(l[v]={status:m[v].status,id:m[v].id,backup:m[v].backup});g(l)},function(m){u(Error())})})};this.reportAuctionStarted=function(k,g,u,H,L){var S={};S.pid=[f];S.nr=["1"];var c={};c.websiteID=L;c.auctionID=k;c.spaceExternalID=g;c.spaceName=u;c.bids=D.map(H,function(m){return{bidderExternalID:m.bidderId,provider:m.provider}});r.fireEvent("auctionStartChangeRequestData",{query:S,body:c});k={method:"POST",url:d("/as",S),body:Ca.encode(JSON.stringify(c))};
return y.$fetch(k)};this.reportAuctionEnd=function(k,g,u,H,L,S){var c={};c.pid=[f];c.seid=[S];c.nr=["1"];L.websiteID=H;L.auctionID=k;L.spaceExternalID=g;L.spaceName=u;L.dfpAdUnit=S;L.adUnitCode=S;r.fireEvent("auctionEndChangeRequestData",{query:c,body:L});k={method:"POST",url:d("/ae",c),body:Ca.encode(JSON.stringify(L))};return y.$fetch(k)};this.reportRender=function(k,g,u,H,L,S){var c={};c.websiteID=S;c.auctionID=k;c.spaceExternalID=H;c.spaceName=L;c.bidderExternalID=g;c.provider=u;k={method:"POST",
url:d("/r",{nr:["1"]}),body:Ca.encode(JSON.stringify(c))};return y.$fetch(k)};this.reportView=function(k,g,u,H,L,S){var c={};c.websiteID=S;c.auctionID=k;c.spaceExternalID=H;c.spaceName=L;c.bidderExternalID=g;c.provider=u;k={method:"POST",url:d("/v",{nr:["1"]}),body:Ca.encode(JSON.stringify(c))};return y.$fetch(k)};this.consentData=function(k){var g={},u={},H=[10,13,25,28,32,52,69,76,91,755],L={consents:{}},S=k.tcData;k=k.error;var c=T.SharedObject.getItem("websiteConfig")||{},m=c.organizationID;c=
c.websiteID;m&&(g.organizationID=parseInt(m));c&&(g.websiteID=parseInt(c));g.pageID=f;g.clientVersion="2.9.20-2-g2a40414";S?(u.cmpVersion=S.cmpVersion,u.gdprApplies=S.gdprApplies,u.tcfPolicyVersion=S.tcfPolicyVersion,u.tcString=S.tcString,S.gdprApplies&&(u.purpose=S.purpose,H.forEach(function(l){return L.consents[l]=S.vendor.consents[l]}),u.vendor=L)):(u.gdprApplies=null,u.error=wa.truncateString(k.message,1024));g.tcData=u;g={method:"POST",url:d("/ce"),body:Ca.encode(JSON.stringify(g))};
return y.$fetch(g)}};I.Home=E;E=ra.new();E.setPrefix("transport: ");E.setLevel(ra.INFO);var G=function(r){for(var f={},b=Object.keys(r),n=0;n<b.length;n++)f[b[n].toLowerCase()]=r[b[n]];return f};E=function(r,f,b){b=b||{};if(b.merge&&b.override)throw new TypeError;this.tr=r;this.headers=G(f);this.merge=b.merge||!1;this.override=b.override||!1};E.prototype.$fetch=function(r,f,b){b=b||{};if("object"!==typeof f||"string"!==typeof f.url)throw new TypeError;f=this.addHeaders(f);this.tr.$fetch(r,f,b)};E.prototype.addHeaders=
function(r){var f=r.url,b=r.headers||{},n={};for(p in b)if(b.hasOwnProperty(p)){n[p]=[];for(var e=0;e<b[p].length;e++)n[p].push(b[p][e])}r={url:f,headers:G(n),body:r.body,method:r.method};var p=this.headers;f=r.headers;for(var d in p)if(p.hasOwnProperty(d)){if(this.override)f[d]=[];else if(!this.merge&&f[d])continue;f[d]||(f[d]=[]);for(b=0;b<p[d].length;b++)f[d].push(p[d][b])}return r};I.WithHeaders=E;var x=function(r){r=r.toLowerCase();if("proxy-"===r.substr(0,6)||"sec-"===r.substr(0,4))return!1;
switch(r){case "accept-charset":case "accept-encoding":case "access-control-request-headers":case "access-control-request-method":case "connection":case "content-length":case "cookie":case "cookie2":case "date":case "dnt":case "expect":case "host":case "keep-alive":case "origin":case "te":case "trailer":case "transfer-encoding":case "upgrade":case "via":return!1;case "x-client-version":case "x-cookie":case "x-referer":return!1}return!0},y=new function(){this.init=function(r,f){f=f||{};if(!r||"string"!==
typeof r)throw new TypeError;this.host=r;this.protocol=("undefined"!==typeof f.secure?f.secure:1)?"https":"http";this.suffix="undefined"!==typeof f.suffix?f.suffix:""};this.$fetch=function(r){return new Promise(function(f,b){if("object"!==typeof r||"string"!==typeof r.url)throw new TypeError;var n=!1,e=r.url||"";if(1>e.length||"/"!=e[0])e="/"+e;e=this.protocol+"://"+this.host+e;e+=this.suffix?"#"+this.suffix:"";var p=r.method||"GET",d=r.headers||{},k=r.body?r.body:null,g=new XMLHttpRequest;g.onreadystatechange=
function(H){if(4==g.readyState)if(0==g.status)n||(n=!0,b("status -> "+g.status));else{var L=g.getAllResponseHeaders();H={};if(L){L=L.split("\r\n");for(var S=0;S<L.length;S++){var c=L[S],m=c.indexOf(": ");if(0<m){var l=c.substring(0,m);c=c.substring(m+2);H[l]||(H[l]=[]);H[l].push(c)}}}H=G(H);H["x-content-type"]&&(H["content-type"]=H["x-content-type"],delete H["x-content-type"]);200<=g.status&&300>g.status?f({status:g.status,headers:H,body:g.response}):b("status -> "+g.status)}};g.onerror=function(H){n||
(n=!0,b(H))};g.open(p,e,!0);g.responseType="arraybuffer";for(var u in d)d.hasOwnProperty(u)&&0!=d[u].length&&(x(u)||g.setRequestHeader(u,d[u][0]));g.send(k)}.bind(this))}};I.$XHRService=y})(gb);var wb={};(function(I){var E=ra.new();E.setPrefix("report: ");E.setLevel(ra.INFO);var G=new function(){var x=ca.CustomEvents;this.init=function(){var y=T.SharedObject.getItem("websiteConfig");x.addEventListener("FirePublisherEvent",function(r){var f=r.data;r=f.eventName;f=f.payload||{bubbles:!1,cancelable:!1,
detail:void 0};if(window.CustomEvent)try{var b=new window.CustomEvent(r,f);window.dispatchEvent(b);return}catch(n){b=document.createEvent("CustomEvent");b.initCustomEvent(r,f.bubbles,f.cancelable,f.detail);window.dispatchEvent(b);return}b=document.createEvent("CustomEvent");b.initCustomEvent(r,f.bubbles,f.cancelable,f.detail);window.dispatchEvent(b)});x.addEventListener("sendLog",function(r){r=r.data;gb.Home.sendLog(r.eventName,r.payload).then(function(f){E.infof(null,"sendLog - %o",f)},function(f){E.errorf(null,
"sendLog - %o",f)})});x.addEventListener("onAuctionStarted",function(r){var f=r.data.auction;r=f.auctionId;var b=f.unit.space.id,n=f.unit.space.name,e=[],p=f.unit.space.preBiddingSettings&&f.unit.space.preBiddingSettings.biddingSettings;f=f.unit.space.postBiddingSettings;if(p)for(var d in p)d=parseInt(d),p.hasOwnProperty(d)&&D.forEach(p[d],function(k){e.push({bidderId:k.id,provider:k.name})});f&&(f.adxId&&e.push({bidderId:f.adxId,provider:"gad"}),f.directId&&e.push({bidderId:f.directId,provider:"direct"}));
gb.Home.reportAuctionStarted(r,b,n,e,y.websiteID).then(function(k){E.infof(null,"onAuctionStarted - %o",k)},function(k){E.errorf(null,"onAuctionStarted - %o",k)})});x.addEventListener("onAuctionEnded",function(r){var f=r.data;r=f.auction;f=f.bid;var b=r.bids,n=r.unit.space.name;try{if(y.dfpEnabled)for(var e=window.googletag.pubads().getSlots(),p=0;p<e.length;p++){var d=e[p],k=d.getSlotElementId();if(document.getElementById(k)==r.unit.element){n=d.getAdUnitPath().split("/")[d.getAdUnitPath().split("/").length-
1];break}}}catch(u){E.errorf(null,"onAuctionEnded: %o",u)}e={bids:[],aliens:[],win:void 0};for(p=0;p<b.length;p++){d=b[p];k=x.fireEvent("bidCpmAdjustment",{bid:{cpm:d.cpm,bidderCode:d.bidderCode,complianceStatus:d.complianceStatus}})||1;k*=d.cpm/1E3;var g=x.fireEvent("prebidTimeout")||3E3;k={bidderExternalID:d.bidderId,provider:d.bidderCode,amount:k,complianceStatus:d.complianceStatus,timeout:g,latency:d.timeToRespond,requestStatus:"OK",creativeID:d.contentIdHash,adUnit:n,adSize:String(d.width)+"x"+
String(d.height),adID:d.adId};if(d==f)e.win=k;else switch(k.complianceStatus){case T.consts.complianceStatus.COMPLIANT:case T.consts.complianceStatus.INCOMPLIANT:e.bids.push(k);break;default:e.aliens.push(k)}}gb.Home.reportAuctionEnd(r.auctionId,r.unit.space.id,r.unit.space.name,y.websiteID,e,n).then(function(u){E.infof(null,"onAuctionEnded - %o",u)},function(u){E.errorf(null,"onAuctionEnded - %o",u)})});x.addEventListener("onAuctionRendered",function(r){var f=r.data;r=f.auction;f=f.bid;gb.Home.reportRender(r.auctionId,
f.bidderId,f.bidderCode,r.unit.space.id,r.unit.space.name,y.websiteID).then(function(b){E.infof(null,"onAuctionRendered - %o",b)},function(b){E.errorf(null,"onAuctionRendered - %o",b)})});x.addEventListener("onAdViewed",function(r){var f=r.data;r=f.auction;f=f.bid;gb.Home.reportView(r.auctionId,f.bidderId,f.bidderCode,r.unit.space.id,r.unit.space.name,y.websiteID).then(function(b){E.infof(null,"onAdViewed - %o",b)},function(b){E.errorf(null,"onAdViewed - %o",b)})})};x.addEventListener("consentData",
function(y){gb.Home.consentData(y.data).then(function(r){E.infof(null,"consentData - %o",r)},function(r){E.errorf(null,"consentData - %o",r)})})};I.Report=G;G=new function(){var x=ca.CustomEvents;this.run=function(){f();y()};var y=function(){x.addEventListener("getRestrictionSettingsEnded",function(b){var n=x.fireEvent("acceptableAbTest");if(n){b="//static.criteo.net/images/pixel.gif?ch=1&upapi=true";n&&(b=n.src);var e=new Image;e.addEventListener("load",function(){n.callback(!0)},!1);e.addEventListener("error",
function(){n.callback(!1)},!1);e.src=b}})},r=!1,f=function(){x.addEventListener("getRestrictionSettingsEnded",function(b){b=b.data;b.contentRestriction&&b.acceptableAds&&(window.pbjs=window.pbjs||{},window.pbjs.que=window.pbjs.que||[],window.pbjs.que.push(function(){window.pbjs.onEvent("bidResponse",function(n){if(!r&&n&&0<n.length)for(var e=0;e<n.length;e++)if(0<n[e].cpm&&"emx_digital"!==n[e].bidder&&"districtmDMX"!==n[e].bidder){r=!0;x.fireEvent("disableStopFlag")||(window.__bt_intrnl.stopFlag=
!0);var p=T.SharedObject.getItem("renderedUnits");p={adBlockDetectionType:T.SharedObject.getItem("adBlockDetectionType"),stopedProcess:!p||0==p.length};gb.Home.sendLog("pbjsDetected",p)}n&&gb.Home.sendLog("pbjsBidReceived",{cpm:n.cpm?n.cpm:0,creativeLength:n.ad?n.ad.length:0,bidderCode:n.bidderCode||"",adUnitCode:n.adUnitCode||""})})}))})}};I.Verifications=G})(wb);var Ka={};(function(I){var E=ca.CustomEvents,G=function(f){function b(l){window.setTimeout(function(){l&&"none"==window.getComputedStyle(l).display&&
l.style.setProperty("display","block","important")},1E3)}function n(l){var v=0;D.forEach(l.sizes,function(A){A=A.split("x")[0];A=parseInt(A);A>v&&(v=A)});return v}function e(l,v){if(!E.fireEvent("blacklistAdStatement",{space:v})&&(l=l.querySelector(".default-creative-container")||l.querySelector(".ahover")||l.querySelector('[id^="google_ads_iframe_"]'))&&!l.querySelector(".upo-label")){var A=p();A.className="upo-label";l.appendChild(A);window.setTimeout(function(){A.style.opacity="1"},2E3)}}function p(){var l=
document.createElement("div");l.setAttribute("style","text-align:left;padding:0px;margin:0px;position:absolute;top:0;left:0;z-index:10000;transition:opacity 1s ease-out;opacity:0;");l.innerHTML='<span style="display:block;background:rgba(255, 255, 255, 0.7);height:fit-content;width:fit-content;top:0;left:0;color:#444;font-size:10px;font-weight:bold;font-family:sans-serif;line-height:normal;text-decoration:none;margin:0px;padding:6px;border-radius:0 0 5px 0;">&#65;&#68;</span>';return l}function d(){if(!document.getElementById("bt-render-styles")){var l=
document.createElement("style");l.id="bt-render-styles";l.type="text/css";l.textContent=".up-hide { display: none !important; }";l.textContent+='.ahover + [id^="google_ads_iframe_"] { width: 1px !important; height:1px !important; display: grid !important; }';(document.head||document.body||document.documentElement).appendChild(l)}}var k=!1,g=new wa.SubscriptionLayer;this.auctionId=na.stringRange(8,9);this.unit=f.unit;this.state=G.States.UNOFFERED;this.lastUpdate=this.creationTime=new Date;this.bids=
[];this.subscribeForEvent=function(l,v){g.subscribeForEvent(l,v)};this.cancelAuction=function(){k=!0};this.getWinningBid=function(){for(var l=void 0,v=void 0,A=0;A<this.bids.length;A++){var M=this.bids[A];(!l||M.cpm>l.cpm)&&M.complianceStatus==T.consts.complianceStatus.COMPLIANT&&(l=M);if(!v||M.cpm>v.cpm)v=M}return v&&v!=l&&S(v)?v:l};this.addBids=function(l){if(l)for(var v=0;v<l.length;v++)this.bids.push(l[v])};var u=function(l){D.addClass("up-hide",l.element);D.removeClass("up-show",l.element)},
H=function(l,v){D.addClass("up-show",l.element);D.removeClass("up-hide",l.element)};this.getComplianceBids=function(){for(var l=[],v=0;v<this.bids.length;v++){var A=this.bids[v];A.complianceStatus==T.consts.complianceStatus.COMPLIANT&&l.push(A)}return l};this.renderWinningBid=function(){var l=this.getWinningBid();this.renderBid(l)};var L=function(l,v){for(var A=0;A<l.bids.length;A++){var M=l.bids[A];M!=v&&M.cancelBid()}};this.renderBid=function(l){var v=this;try{if(E.fireEvent("renderBidInElementStarted",
{element:this.unit&&this.unit.element}),this.state=G.States.DONE,d(),L(this,l),this.unit.element&&(document.documentElement||document.body).contains(this.unit.element))if(!l||k)this.unit.currentBid||u(this.unit),g.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1});else{this.unit.cleanup();m(this.unit.element);H(this.unit,l);this.unit.element._adData_=l;l.onRenderedEvent(function(){var F=this.unit.element,N=this.unit.space;F=F.querySelector(".default-creative-container")||F.querySelector(".ahover")||
F.querySelector('[id^="google_ads_iframe_"]');F.style.position||F.style.setProperty("position","relative");F.style.setProperty("width","max-content","important");if(0<=["sharethrough","triplelift"].indexOf(l.bidderCode)){var a=l.width;N=n(N);if(a>N||120>a)a=N;F.style.setProperty("max-width",a+"px","important")}F.style.setProperty("z-index",0);F.style.setProperty("margin","0 auto");F.style.setProperty("display","block");e(this.unit.element,this.unit.space);try{if(!E.fireEvent("skipEnsureElementVisibility",
{unit:this.unit})){var B=this.unit.element;B.classList.contains("up-show")||B.classList.add("up-show");b(B);b(B.parentElement);b(B.parentElement.parentElement)}var h=this.unit.element;0===h.offsetWidth&&0===h.offsetHeight&&wa.getTrueByProbability(1)&&E.fireEvent("sendLog",{eventName:"ad-unit-hidden-by-css",payload:{elementId:h.id||"N/A"}})}catch(K){y.errorf(null,"auction: bid.onRenderedEvent: ensureElementVisibility: %o",K)}g.invokeEventCallbacks("auctionRendered",l);this.unit.rendered(l);T.SharedObject.getItem("renderedUnits")||
T.SharedObject.setItem("renderedUnits",[]);T.SharedObject.getItem("renderedUnits").push(this.unit)}.bind(this));var A=S(l),M={placement:this.unit.element},Q=function(){A?(l.onRenderedEvent(function(){this.renderStaticAd(this.bid,this.element)}.bind({bid:l,renderStaticAd:c,element:v.unit.element})),l.renderStaticBid(M)):l.renderBid(M)},ja=l.additionalBidsToRender&&0<l.additionalBidsToRender.length&&l.additionalBidsToRender[0];ja?(ja.onRenderedEvent(Q),ja.renderBid()):Q();g.invokeEventCallbacks("renderBidDone",
{successfulyRenderedBid:!0})}else g.invokeEventCallbacks("renderBidDone",{successfulyRenderedBid:!1})}catch(F){y.errorf(null,"renderBid err:%o",F)}};var S=function(l){return E.fireEvent("forceCompliant")&&l.complianceStatus==T.consts.complianceStatus.INCOMPLIANT},c=function(l,v){v.style.setProperty("background-image",'url("//mrb.upapi.net/fc?h='+(l.contentIdHash+'&upapi=true")'),"important");v.style.setProperty("background-repeat","no-repeat","important")},m=function(l){l.style.removeProperty("background-image");
l.style.removeProperty("background-repeat")}};G.States={UNOFFERED:0,DISPATCHED:1,DONE:3};I.Auction=G;var x=function(f,b,n,e,p,d,k,g,u){this.bidId=na.stringRange(16,24);this.ad=f.ad;this.adId=f.adId;this.adUrl=f.adUrl;this.bidderId=f.bidderId;this.bidder=f.bidder;this.bidderCode=f.bidderCode;this.contentIdHash=f.contentIdHash;this.currency=f.currency;this.creativeId=f.creativeId;this.c=f.c;this.cpm=f.cpm;this.complianceStatus=f.complianceStatus||0;this.height=f.height;this.isBackupCreative=f.isBackupCreative;
this.timeToRespond=f.timeToRespond;this.size=f.size;this.width=f.width;this.rawBid=b;this.type=n;this.status=x.Status.LIVE;this.renderBid=p;this.renderStaticBid=d||function(){};this.cancelBid=function(){this.status=x.Status.CANCELED;k&&k()};this.getGPTTargeting=function(H){return e&&e.call(this,H)};this.onRenderedEvent=g||function(){};this.makeEntryForTestCompliance=u||function(){};this.additionalBidsToRender=[]};x.Types={EMPTY:0,PREBID:1,RTK:2,ADX:3,ADX_TEXT:4,DFP_PREBID:5,ADSENSE:6,DIRECT:7,SMART_AS:8,
DEFAULT_CREATIVE:9};x.Status={LIVE:0,CANCELED:1};I.Bid=x;var y=ra.new();y.setPrefix("models: ");y.setLevel(ra.DEBUG);I.Slot=function(f){this.unit=f.unit;this.auctionsList=[];this.slotName=this.unit.space.name;this.renderBid=function(p){var d=n(this.auctionsList);if(d){var k=p&&D.find(d.bids,function(g){return g.bidId==p.bidId});try{d.subscribeForEvent("renderBidDone",function(g){g.successfulyRenderedBid?E.fireEvent("onAuctionEnded",{auction:d,bid:k}):E.fireEvent("onAuctionEnded",{auction:d})}),d.renderBid(k),
d.subscribeForEvent("auctionRendered",function(){E.fireEvent("onAuctionRendered",{auction:d,bid:k});ib.onVisible(d.unit.element,function(){E.fireEvent("onAdViewed",{auction:d,bid:k})})})}catch(g){}}};this.getBids=function(){var p=n(this.auctionsList);if(p)return b(p.bids)};this.getLastAuctionBids=function(){var p=e(this.auctionsList);if(p)return b(p.bids)};var b=function(p){return D.map(p,function(d){return{bidId:d.bidId,adId:d.adId,bidder:d.bidder,cpm:d.cpm,height:d.height,width:d.width,size:d.size,
complianceStatus:d.complianceStatus}})},n=function(p){return D.find(p,function(d){return d.state!=G.States.DONE})},e=function(p){p=p.reverse();return D.find(p,function(d){return d.state==G.States.DONE})}};E=ca.CustomEvents;I.Space=function(f){this.id=f.id;this.name=f.name;this.staging=f.staging;this.selector={position:f.selector.position,value:f.selector.value};this.sizes=f.sizes;this.preBiddingSettings={enabled:!1};if(f.preBiddingSettings&&(this.preBiddingSettings={enabled:f.preBiddingSettings.enabled,
biddingSettings:{}},f.preBiddingSettings.enabled&&f.preBiddingSettings.biddingSettings))for(var b in f.preBiddingSettings.biddingSettings)if(f.preBiddingSettings.biddingSettings.hasOwnProperty(b)){var n=f.preBiddingSettings.biddingSettings[b];this.preBiddingSettings.biddingSettings[b]=[];for(var e=0;e<n.length;e++){var p=n[e];p.id&&p.name&&p.testCompliance&&p.params&&this.preBiddingSettings.biddingSettings[b].push({id:p.id,name:p.name,testCompliance:p.testCompliance,params:p.params})}}this.postBiddingSettings=
{enabled:!1};if(f.postBiddingSettings&&f.postBiddingSettings.enabled)for(this.postBiddingSettings={adxId:f.postBiddingSettings.adxId,directId:f.postBiddingSettings.directId,enabled:f.postBiddingSettings.enabled,type:f.postBiddingSettings.type,order:[]},e=0;e<f.postBiddingSettings.order.length;e++)b=f.postBiddingSettings.order[e],E.fireEvent("removeAdServerRequestIteration",{iterationConfig:b})||this.postBiddingSettings.order.push({params:{keyValues:b.params.keyValues||{},queryParams:b.params.queryParams||
{}},adx:{bidderID:b.adx.bidderID,testCompliance:b.adx.testCompliance},direct:{bidderID:b.direct.bidderID,testCompliance:b.direct.testCompliance}})};var r=function(f){this.unitID=na.stringRange(16,24);this.element=f.element;this.space=f.space;this.state=f.state||r.States.PENDING;this.currentBid;this.countOfDispatches=0;this.lastInvokeTime;this.cleanup=function(){for(var n=this.element.children,e=[],p=0;p<n.length;p++)e.push(b(n[p]));for(p=0;p<e.length;p++)e[p]()};this.rendered=function(n){this.currentBid=
n};var b=function(n){return function(){n&&n.parentNode&&n.parentNode.removeChild(n)}}};r.States={PENDING:0,CHECKING:1,DISPATCHED:2};I.Unit=r})(Ka);var xb={};(function(I){function E(n,e){return n.every(function(p){return e.includes(p)})}function G(n){var e=n.ad;return[["video-box"],["google-native-video"],["imasdk.googleapis.com/formats/outstream"],["video-in-display"],["vix.eu.criteo.net/concat"],[".video-container","googlevideo.com"],["product-video","googlevideo.com"],["twoOfTwoVertical","animation-container"],
["animation:text2Frames","-webkit-animation"]].some(function(p){return E(p,e)})}function x(n){var e=n.ad;n=n.type;return[[".rhurl",".rhbodyurl"],[".rhurl","rh-image"],[".rhurl","rh-title"],[".rhurl",".rhbutton"],[".image-link","call-to-action-link"],[".image-link",".attribution"],[".image-link",".attribution"],[".rhprice",".rhsaleprice","gstatic.com/shopping"],[".grid-link-container",".grid-link"],[".rhsimpleprice",".rh-box-image","gstatic.com/shopping"],[".product-image",".product-container","gstatic.com/shopping"],
["logoMCImageWidth","-webkit-animation"],["productBannerSlot","logoBackColorDerived"],["js/adsbygoogle.js",'data-ad-format="link"'],["js/adsbygoogle.js",'data-ad-type="text"']].some(function(p){return E(p,e)})||e.includes("googletag.pubads().definePassback(")&&n==y.Bid.Types.ADX?!0:!1}var y=Ka,r=ra.new();r.setPrefix("testCompliance: ");r.setLevel(ra.DEBUG);var f=!1;try{f=window.location.href&&0<=window.location.href.indexOf("bt_tc=false")||"false"==localStorage.getItem("bt_tc")}catch(n){r.errorf(null,
"testComplianceDisabled: ",n)}r.debugf(null,"test Compliance disabled? ",f);var b=ca.CustomEvents;I.testBidsCompliance=function(n){var e={},p={},d=T.SharedObject.getItem("websiteConfig"),k=d.websiteID;d=d.organizationID;var g={};D.forEach(n,function(S){var c=S.auction;S=S.bids;g[c.auctionId]=g[c.auctionId]||{};for(var m=0;m<S.length;m++){var l=S[m];if(f)g[c.auctionId][l.bidId]={bid:l,result:{status:T.consts.complianceStatus.COMPLIANT,backup:!1}},r.debugf(null,"compliance is disabled for the current bid: ",
l);else{a:{var v=c,A=l;try{if(900<=parseInt(A.width)&&200<=parseInt(A.height)&&600>parseInt(A.height)){var M=v.unit.element;if(M&&900<=ib.calculateElementOffset(M).top){var Q=!1;break a}}}catch(N){}Q=[{width:728,height:201},{width:120,height:601}];for(v=0;v<Q.length;v++){var ja=Q[v];if(A.width>=ja.width&&A.height>=ja.height){Q=!0;break a}}Q=void 0}if(Q)g[c.auctionId][l.bidId]={bid:l,result:{status:T.consts.complianceStatus.INCOMPLIANT,backup:!1}};else if(l.complianceStatus!=T.consts.complianceStatus.UNKNOWN)g[c.auctionId][l.bidId]=
{bid:l,result:{status:l.complianceStatus,backup:!1}};else if(x(l))g[c.auctionId][l.bidId]={bid:l,result:{status:T.consts.complianceStatus.COMPLIANT,backup:!1}};else if(G(l))g[c.auctionId][l.bidId]={bid:l,result:{status:T.consts.complianceStatus.INCOMPLIANT,backup:!1}};else{a:{switch(l.bidderCode){case "adyoulike":case "ntv":case "upo":case "upo2":case "upo3":case "upo4":case "upo5":case "upo6":case "my6sense":case "lockerdome":case "sharethrough":A=!0;break a}A=!1}if(A)g[c.auctionId][l.bidId]={bid:l,
result:{status:T.consts.complianceStatus.COMPLIANT,backup:!1}};else if(A=l,A="triplelift"===A.bidderCode&&A.ad&&-1<A.ad.indexOf("tl_auction_response")&&-1<A.ad.indexOf("advertiser_name")&&-1<A.ad.indexOf("heading")&&-1===A.ad.indexOf("VAST version")&&-1===A.ad.indexOf("vast_xml")?!0:void 0,A)g[c.auctionId][l.bidId]={bid:l,result:{status:T.consts.complianceStatus.COMPLIANT,backup:!1}};else if(A=b.fireEvent("customComplianceCheck",{bid:l}))g[c.auctionId][l.bidId]={bid:l,result:{status:A,backup:!1}};
else{g[c.auctionId][l.bidId]={bid:l,result:{}};A=l.makeEntryForTestCompliance();A.auctionID=c.auctionId;A.spaceExternalID=c.unit.space.id;A.spaceName=c.unit.space.name;v=parseFloat(l.cpm);A.cpm=isNaN(v)?0:v;v=A;if(v.markup&&-1<v.markup.indexOf("://secure.ace.advertising.com/"))try{var F="https://secure.ace.advertising.com/site="+v.markup.split("Site: '")[1].split("'")[0]+"/size="+v.markup.split("Size: '")[1].split("'")[0]+"/rip="+v.markup.split("/rip=")[1].split("/")[0];F&&(v.markup='\x3c!-- "'+F+
'"--\x3e'+v.markup)}catch(N){}v.markup&&!v.url&&-1===v.markup.indexOf("<body")&&(v.markup="<body>"+v.markup+"</body>");v=na.stringRange(5,8);e[v]=A;p[v]=l}}}}});if(0>=Object.keys(e).length){for(var u in g)if(g.hasOwnProperty(u)){n=g[u];for(var H in n)n.hasOwnProperty(H)&&(g[u][H]=n[H].result)}return Promise.resolve(g)}try{var L=(new Intl.DateTimeFormat).resolvedOptions()}catch(S){L={locale:void 0,timezone:void 0}}return gb.Home.testCompliance({domain:window.location.host,websiteID:k,orgID:d,bids:e,
locale:L.locale,timezone:L.timeZone,url:window.location.href}).then(function(S){for(var c in S)if(S.hasOwnProperty(c)){var m=e[c].auctionID,l=g[m][p[c].bidId];l.result.status=S[c].status;l.result.bidContentIdHash=S[c].id;l.result.backup=S[c].backup}for(m in g)if(g.hasOwnProperty(m)){S=g[m];for(var v in S)S.hasOwnProperty(v)&&(g[m][v]=S[v].result)}return g})}})(xb);var zb={};(function(I){var E=ra.new();E.setPrefix("postbidding: ");E.setLevel(ra.INFO);var G=new function(){var r=!1,f=new wa.SubscriptionLayer,
b=function(){r||(r=!0,y.subscribeForEvent("refresh",function(n){f.invokeEventCallbacks("refresh",n)}),y.subscribeForEvent("bidReceived",function(n){f.invokeEventCallbacks("bidReceived",n)}))};this.subscribeForEvent=function(n,e){f.subscribeForEvent(n,e)};this.dispatch=function(n,e){b();var p=[];D.forEach(n,function(L){p.push({asAdUnit:L,promise:void 0})});for(var d={},k=0;k<n.length;k++){var g=n[k];d[g.type]=d[g.type]||[];d[g.type].push(g)}for(var u in d)if(u=parseInt(u),d.hasOwnProperty(u)){var H=
d[u];n=e&&e[u];a:{switch(u){case G.Types.DFP:n=y.dispatch(H,n);break a}n=void 0}D.forEach(n,function(L,S){var c=H[S];D.find(p,function(m){return m.asAdUnit==c}).promise=L})}return D.map(p,function(L){return L.promise})}};G.Types={UNKNOWN:0,DFP:1,SMART_AS:2};I.AdServer=G;E=ra.new();E.setPrefix("dfpAdapter: ");E.setLevel(ra.DEBUG);var x=ca.CustomEvents,y=new function(){function r(C){var O=0;C.forEach(function(aa){aa=aa.getTargetingMap();Object.entries(aa).forEach(function(Y){O+=(Y[0]?Y[0].length:0)+
(Y[1]&&Y[1][0]?Y[1][0].length:0)})});return 6E3<=O}function f(C){switch(C){case Ka.Bid.Types.ADX:return"gad";case Ka.Bid.Types.ADX_TEXT:return"gad_text";case Ka.Bid.Types.DIRECT:return"gad_dfp_direct"}}function b(C){C=k[C];C.deferred.resolve({auctionId:C.asAdUnit.auctionId,bids:[]})}function n(C,O,aa){return"fluid"===C&&aa?!0:O.some(function(Y){return Y.width===C.width&&Y.height===C.height})}function e(C){if(C=Aa("fluid",C))return C=C.split(","),C=C.map(function(O){return isNaN(O)?O:parseInt(O)})}
function p(C,O,aa,Y){var oa=e(C);if(!oa&&0===O.length)return C;var qa=0;Y=Array(Y).fill(0).map(function(Da,xa){return aa.includes(xa)?O[qa++]:oa[xa]||0}).join(",");return oa?ka(C,"fluid",Y):C+"&fluid="+encodeURIComponent(Y)}var d=!1,k={},g={},u={},H=[],L=[],S=new wa.SubscriptionLayer,c={_height_:5,_width_:6,_empty_:7,_is_afc_:8,_fluid_:9,_creative_ids_:14,_adgroup2_ids_:15};this.init=function(){if(!d&&(d=!0,db(),!document.getElementById("up-gpt-stylesheet"))){var C=document.createElement("style");
C.id="up-gpt-stylesheet";C.type="text/css";C.textContent=".up-gpt-static { opacity: 0.001 !important; }";(document.head||document.body||document.documentElement).appendChild(C)}};this.dispatch=function(C,O){try{this.init();var aa=[];x.fireEvent("onBeforeDfpRefreshDispatch");x.fireEvent("tryDisableGoogletagLazyLoad")&&m();D.forEach(C,function(Y){var oa=new D.CDefer;aa.push(oa.promise);k[Y.slotElementId]={asAdUnit:Y,deferred:oa};oa=new D.CDefer;g[Y.slotElementId]=oa});window.googletag.cmd.push(function(){try{E.debugf(null,
"onAdsRequestPrepareStarted");var Y=window.googletag.pubads().getSlots(),oa=[];D.forEach(Y,function(Da){D.forEach(C,function(xa,Fa){Fa=Da.getSlotElementId();if(Fa===xa.slotElementId){oa.push(Da);var Ha=na.stringRange(16,24);u[Ha]=Fa;Da.setTargeting("uponitSlotIterationId",Ha);x.fireEvent("preTargetingSetting",{dfpSlot:Da,ASAdUnit:xa});Fa=xa.params.keyValuesParams.toRemove;for(Ha=0;Ha<Fa.length;Ha++)Da.clearTargeting(Fa[Ha]);Da.__up_display||(Da.__up_display=!0,window.googletag.display(xa.slotElementId));
Fa=xa.params.keyValuesParams.toAdd;for(var La in Fa)Fa.hasOwnProperty(La)&&Da.setTargeting(La,Fa[La]);if(window.uponit&&window.uponit.modifiers&&window.uponit.modifiers.dfpTargeting&&0<window.uponit.modifiers.dfpTargeting.length)try{var Pa=window.uponit.modifiers.dfpTargeting;for(La=0;La<Pa.length;La++){var Ba=Da.getTargetingMap();Fa={};for(var Ea in Ba)Fa[Ea]=Ba[Ea];Ha=null;!xa||void 0==xa.floorPrice&&null==xa.floorPrice||(Ha=xa.floorPrice);var Qa=Pa[La](Fa,Da,Ha);if(Qa)for(Ea in Qa)Ba[Ea]&&Ba[Ea]===
Qa[Ea]||Da.setTargeting(Ea,Qa[Ea])}}catch(Ua){E.errorf(null,"dispatch: uponit-modifiers: %o",Ua)}Da.setForceSafeFrame(!0);Da.setCollapseEmptyDiv(!1)}})});E.debugf(null,"onAdsRequestSlotsPrepare - slots: %o",A(oa));l(oa);var qa=googletag.pubads().isSRA()&&r(oa);if(x.fireEvent("forceNotSingleRequestRefresh")||qa)for(Y={},qa=0;qa<oa.length;Y={$jscomp$loop$prop$slot$75:Y.$jscomp$loop$prop$slot$75},qa++)Y.$jscomp$loop$prop$slot$75=oa[qa],setTimeout(function(Da){return function(){window.googletag.pubads().refresh([Da.$jscomp$loop$prop$slot$75],
void 0,!0)}}(Y),0);else setTimeout(function(){window.googletag.pubads().refresh(oa,void 0,!0)},0)}catch(Da){E.errorf(null,"dispatch: %o",Da)}});return aa}catch(Y){ra.criticalf("google cmd function failed: %o",Y)}};var m=function(){window.googletag.cmd.push(function(){window.googletag.pubads().enableLazyLoad({fetchMarginPercent:-1,renderMarginPercent:-1})})},l=function(C){D.forEach(C,function(O){O.setTargeting("upstdfp",!0)})},v=function(C){var O=[];try{for(var aa=0;aa<C.length;aa++){var Y=C[aa];"fluid"===
Y?O.push(Y):O.push([Y.getWidth(),Y.getHeight()])}}catch(oa){E.errorf(null,"getNormalizedDfpSizes errored - %o",oa)}return O},A=function(C){var O=[];try{for(var aa=0;aa<C.length;aa++){var Y=C[aa];O.push({elementId:Y.getSlotElementId(),dfpAdUnitPath:Y.getAdUnitPath(),sizes:v(Y.getSizes()),targetingMap:Y.getTargetingMap()})}}catch(oa){E.errorf(null,"getNormalizedDFPAdSlots errored - %o",oa)}return O},M=function(C){D.forEach(C,function(O){O.clearTargeting("upstdfp")})},Q=function(C,O){if(-1<O.indexOf("fluid")){var aa=
D.map(O,function(qa){return"fluid"!=qa&&qa.getWidth()});O=D.map(O,function(qa){return"fluid"!=qa&&qa.getHeight()});aa=D.filter(aa,function(qa){return void 0!=qa});O=D.filter(O,function(qa){return void 0!=qa});aa=D.reduce(aa,function(qa,Da){return Math.max(qa,Da)});O=D.reduce(O,function(qa,Da){return Math.max(qa,Da)});return!(C._width_<=aa&&C._height_<=O)}aa=C._width_;C=C._height_;for(var Y=0;Y<O.length;Y++){var oa=O[Y];if(oa.getWidth()==aa&&oa.getHeight()==C)return!1}return!0},ja=function(C){if(!C)return!1;
var O=x.fireEvent("isPrebidResponse",{str:C});return void 0!=O?O:/\.(renderAd|renderAdNew)\(document,(\s+)?['"][a-zA-Z0-9\-_]+['"]/gm.test(C)||/apstag\.renderImp\(document,/gm.test(C)||/"hb_adid":[\s\r\n\t]{0,9}?\["[a-z-A-Z0-9\-_]+"\]/gm.test(C)||/ucTagData\.ad[Ii]d(:?\s+)?=(:?\s+)?['"]([a-zA-Z0-9\-_]+)['"]/gm.test(C)||-1<C.indexOf("districtm_adslot = ")?!0:!1},F=function(C,O,aa,Y){C&&C._html_&&-1<C._html_.indexOf("googletag.pubads().definePassback(")&&(C._html_=C._html_.replace(").setTargeting('",
").setTargeting('up_recovery','true').setTargeting('"),C._html_=C._html_.replace(').setTargeting("',').setTargeting("up_recovery","true").setTargeting("'));C&&C._html_&&-1===C._html_.indexOf("ca-pub-15988")&&(C._html_=C._html_.replace("data-ad-slot=",'data-ad-type="text" data-ad-slot=').replace("data-ad-client\\x3d","data-ad-type\\x3d\\x22text\\x22 data-ad-client\\x3d").replace('google_ad_client = "ca-pub','google_ad_type = "text";google_ad_client = "ca-pub'));(O=x.fireEvent("dfpResponseCustomReplace",
{googleReponse:C,googleFrame:Y,googleSlot:O}))&&(C=O);if(!(C._fluid_||C._height_&&C._width_)&&0<aa.length)for(O=0;O<aa.length;O++)if(Y=aa[O],"fluid"!=Y&&120<=Y.getWidth()){C._width_=parseInt(Y.getWidth());C._height_=parseInt(Y.getHeight());break}},N=function(C,O){var aa=C._html_;return C._empty_?Ka.Bid.Types.EMPTY:ja(aa)?Ka.Bid.Types.DFP_PREBID:C._is_afc_?"text"===Ga([O]).ad_type?Ka.Bid.Types.ADX_TEXT:Ka.Bid.Types.ADX:-1<aa.indexOf("js/adsbygoogle.js")||-1<aa.indexOf("pagead/show_ads.js")?Ka.Bid.Types.ADSENSE:
Ka.Bid.Types.DIRECT},a=function(C,O){switch(C){case Ka.Bid.Types.ADSENSE:case Ka.Bid.Types.ADX:case Ka.Bid.Types.ADX_TEXT:return O.adxBidderId;case Ka.Bid.Types.DIRECT:return O.directBidderId}},B=function(C,O){H.push(O);C._html_=x.fireEvent("CustomPrebidHTMLModification",C._html_)||C._html_.replace(/w=w.parent/gm,"w=window").replace(/w = w.parent/gm,"w = window").replace(/pbjs/gm,"upbjs").replace(/renderAd/gm,"renderAdNew")},h=function(C){var O=C.getSlotElementId();O=wa.escapeSelector("#"+O);O=document.querySelector(O+
' [id^="google_ads_iframe_"]');return O=x.fireEvent("customInnerContainer",{googleSlot:C})||O},K=function(C,O){try{if(C){for(var aa={},Y=[],oa=0;oa<C.length;oa++){var qa=C[oa].response.parsedData,Da=C[oa].response.rawResponse,xa=C[oa].slot;if(xa){var Fa=O[oa],Ha=xa.getSlotElementId(),La=new D.CDefer;aa[Ha]=La;Y.push(La.promise);var Pa=k[Ha],Ba=h(xa);F(qa,xa,Fa,Ba);if(X(qa,xa,Fa))aa[Ha].resolve({injectToDom:!1}),b(Ha);else{ja(qa._html_)&&B(qa,Ha);var Ea=N(qa,xa),Qa=x.fireEvent("forceCompliant"),Ua=
qa._html_,Va=f(Ea),ab=a(Ea,Pa.asAdUnit.params),Ya=f(Ea);a:{try{if(Qa&&Ea==Ka.Bid.Types.DIRECT&&qa._adgroup2_ids_&&qa._adgroup2_ids_[0]&&qa._creative_ids_&&qa._creative_ids_[0]){var sb=qa._adgroup2_ids_[0].toString()+"_"+qa._creative_ids_[0].toString();break a}}catch(Wa){E.errorf(null,"getCreativeId: %o",Wa)}sb=void 0}var pb=new Ka.Bid({ad:Ua,adId:null,bidder:Va,bidderId:ab,bidderCode:Ya,creativeId:sb,width:qa._width_,height:qa._height_,cpm:Pa.asAdUnit.floorPrice+.01},Da,Ea,void 0,function(Wa){return function(){var Xa=
aa[Wa];this.onRenderedEvent(function(){var eb=document.getElementById(Wa).querySelector('div[id^="google_ads_"]');D.removeClass("up-gpt-static",eb)});"unresolved"==Xa.fate&&Xa.resolve({injectToDom:!0})}}(Ha),function(Wa){return function(){var Xa=aa[Wa];this.onRenderedEvent(function(){var eb=document.getElementById(Wa).querySelector('div[id^="google_ads_"]');D.addClass("up-gpt-static",eb)});"unresolved"==Xa.fate&&Xa.resolve({injectToDom:!0})}}(Ha),function(Wa){return function(){var Xa=aa[Wa];"unresolved"==
Xa.fate&&Xa.resolve({injectToDom:!1})}}(Ha),function(Wa){return function(Xa){g[Wa].promise.then(function(){Xa()})}}(Ha),function(){return{bidderExternalID:this.bidderId,url:this.adUrl,hint:{provider:this.type==Ka.Bid.Types.DIRECT?"dfp_direct":this.bidderCode,uid:this.creativeId},width:parseInt(this.width),height:parseInt(this.height),markup:this.ad.replace(/\\(n|r|\\)/g,function(Wa,Xa){return"n"==Xa?"\n":"r"==Xa?"\r":"\\"})}});Pa.deferred.resolve({auctionId:Pa.asAdUnit.auctionId,bids:[pb]});S.invokeEventCallbacks("bidReceived",
{auctionId:Pa.asAdUnit.auctionId,bid:pb})}}else Y.push(Promise.resolve({injectToDom:!1}))}return Promise.all(Y).then(function(Wa){try{for(var Xa=[],eb=0;eb<this.responsesWithSlots.length;eb++){var ba=this.responsesWithSlots[eb].response,Z=ba.parsedData,la=this.responsesWithSlots[eb].slot,ma=la&&la.getSlotElementId();Wa[eb]&&!Wa[eb].injectToDom&&(ma&&L.push(ma),Z._html_="",Z._empty_=!0,Z._width_=1,Z._height_=1);Xa.push(ba)}return Xa}catch(ha){E.errorf(null,"handleDfpBidResponses: Promise.all: %o",
ha)}}.bind({responsesWithSlots:C,deferredsPromises:Y}))}}catch(Wa){E.errorf(null,"handleDfpBidResponses: %o",Wa)}},X=function(C,O,aa){if(!C||C&&!C._html_)return!0;var Y=Ga([O]),oa=C._empty_;aa="text"==Y.ad_type&&!ja(C._html_)&&Q(C,aa);C=wa.isUnacceptable("#"+O.getSlotElementId(),{width:C._width_,height:C._height_});return oa||aa||C},ka=function(C,O,aa){return C.replace(new RegExp("([?&]"+O+"=)([^&#]*)([&#$].*)","g"),"$1"+encodeURIComponent(aa)+"$3")},Aa=function(C,O){C=C.replace(/[\[\]]/g,"\\$&");
return(C=(new RegExp("[?&]"+C+"(=([^&#]*)|&|#|$)")).exec(O))?C[2]?decodeURIComponent(C[2].replace(/\+/g," ")):"":null},fa=function(C,O){return(C=(new RegExp("(^|[&])"+C+"(=([^&#]*)|&|#|$)")).exec(O))?C[3]?decodeURIComponent(C[3].replace(/\+/g," ")):"":null},Ga=function(C){try{for(var O={},aa=0;aa<C.length;aa++){var Y=k[C[aa].getSlotElementId()].asAdUnit;if(Y&&Y.params&&Y.params.queryParams)for(var oa in Y.params.queryParams)Y.params.queryParams.hasOwnProperty(oa)&&(O[oa]=Y.params.queryParams[oa])}return O}catch(qa){E.errorf(null,
"getSlotsQueryParams: %o",qa)}},Ma=function(C){C=C.split("\n");for(var O=[],aa=0;aa<C.length;aa++){var Y=C[aa];if(0===aa%2&&""!=Y){try{var oa=window.JSON.parse(Y)}catch(Fa){E.errorf(null,"parseGoogleExpandableResponse: 1 %o",Fa)}var qa=Object.keys(oa)[0];Y=oa[qa];qa={adUnitPath:qa,rawResponse:Y,parsedData:{}};try{for(var Da in c)if(c.hasOwnProperty(Da)){var xa=c[Da];"undefined"!==typeof Y[xa]&&null!==Y[xa]&&(qa.parsedData[Da]=Y[xa])}}catch(Fa){E.errorf(null,"parseGoogleExpandableResponse: 2 %o",err)}O.push(qa)}else 0!==
aa%2&&(O[O.length-1].parsedData._html_=Y)}return O},t=function(C,O){O.__defineGetter__("responseText",function(){return C});O.__defineGetter__("response",function(){return C});O.__defineGetter__("status",function(){return 200});O.__defineGetter__("readyState",function(){return 4})},W=function(C,O,aa,Y){try{var oa=D.map(O,function(Da,xa){if(-1<aa.indexOf(xa))return O[xa]}),qa=D.map(C,function(Da,xa){return{slot:oa[xa],response:Da}});return K(qa,Y)}catch(Da){E.errorf(null,"invokeMiddleware: %o",Da)}},
q=function(C,O){if(O=Ga(O))for(var aa in O)if(O.hasOwnProperty(aa)){var Y=O[aa];0>C.indexOf("?")?C=C+"?"+aa+"="+Y:0>C.indexOf("&"+aa+"=")&&0>C.indexOf("?"+aa+"=")&&(C=C+"&"+aa+"="+Y)}return C},w=function(C){var O=[],aa=Aa("scp",C);aa||(aa=Aa("prev_scp",C));if(aa){C=aa.split("|");for(aa=0;aa<C.length;aa++){var Y=fa("uponitSlotIterationId",C[aa]);u[Y]&&O.push(u[Y])}return O}},J=function(C){for(var O=[],aa=window.googletag.pubads().getSlots(),Y=0;Y<aa.length;Y++)for(var oa=aa[Y],qa=0;qa<C.length;qa++){var Da=
C[qa];oa.getSlotElementId()==Da&&O.push(oa)}return O},R=function(C,O,aa,Y){E.debugf(null,"onAdsServerResponse - slots: %o, relevantIndexes: %o",A(O),aa);return new Promise(function(oa,qa){try{if(""===C.responseText)O.forEach(function(xa){return b(xa.getSlotElementId())}),oa();else{var Da=Ma(C.responseText);W(Da,O,aa,Y).then(function(xa){for(var Fa="",Ha=0;Ha<xa.length;Ha++){var La=xa[Ha],Pa=La.parsedData,Ba=Pa._html_;delete Pa._html_;var Ea=La.rawResponse,Qa={};try{for(var Ua in c)c.hasOwnProperty(Ua)&&
(Ea[c[Ua]]=1==Pa[Ua]?1:0==Pa[Ua]?0:Pa[Ua]);Qa[La.adUnitPath]=Ea}catch(Va){E.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 1 %o",Va)}try{Fa=Fa+JSON.stringify(Qa)+"\n"+Ba+"\n"}catch(Va){E.errorf(null,"stringifyResponse: RESPONSE_TYPES.arrayTypeExpandable: 2 %o",Va)}}t(Fa,C);oa()})}}catch(xa){ra.criticalf(null,"handleReponsesFromXHR errored: %o",xa)}})},ea=function(C){var O=[],aa=["21063911","21063048","21063670","21063817","21063671"],Y=Aa("eid",C);if(!Y)return C;Y=Y.split(",");
for(var oa=0;oa<Y.length;oa++){var qa=Y[oa];0>aa.indexOf(qa)&&O.push(qa)}return C=ka(C,"eid",O.join(","))},ia=function(C){var O=Aa("sz",C);O||(O=Aa("prev_iu_szs",C));if(O)return C=O.split(","),C=D.map(C,function(aa){return aa.split("|")}),C=D.map(C,function(aa,Y){return D.map(aa,function(oa){oa=oa.split("x");return{width:parseInt(oa[0]),height:parseInt(oa[1])}})})},pa={width:320,height:50},va=function(C){return D.map(C,function(O){var aa={getWidth:function(){return O.width},getHeight:function(){return O.height}};
O.width==pa.width&&O.height==pa.height&&(aa="fluid");return aa})},Oa=function(C,O,aa){function Y(){var Ba=x.fireEvent("removeSizesDfpConfig");if(Ba){var Ea=Ba.forAll||[];xa=D.map(xa,function(Qa,Ua){Ua=O[Ua].getSlotElementId();var Va=(Ba[Ua]||[]).concat(Ea);Va=D.map(Va,function(ab){return"fluid"==ab?(C=C.replace(/fluid=(.*?)&/g,""),{width:pa.width,height:pa.height}):ab});return D.filter(Qa,function(ab){return!D.find(Va,function(Ya){return Ya.width==ab.width&&Ya.height==ab.height})})})}}if(C)try{if(-1<
C.indexOf("&sz="))var oa="sz";else if(-1<C.indexOf("&prev_iu_szs="))oa="prev_iu_szs";else return;var qa=ia(C);if(qa){var Da=qa.length;var xa=D.filter(qa,function(Ba,Ea){return-1<aa.indexOf(Ea)});var Fa=(e(C)||[]).filter(function(Ba,Ea){return aa.includes(Ea)});modifiedSizesPerSlot=[];modifiedSizesGoogletagFormat=[];Y();xa=D.map(xa,function(Ba,Ea){var Qa=O[Ea].getSlotElementId(),Ua=Fa[Ea],Va=x.fireEvent("sizesToRemoveBySpace",{spaceName:k[Qa].asAdUnit.spaceName});if(!Va)return Ba;Va.includes("fluid")&&
Ua&&(Fa[Ea]=0);return D.filter(Ba,function(ab){return!D.find(Va,function(Ya){return"fluid"===Ya?pa.width==ab.width&&pa.height==ab.height:Ya.width===ab.width&&Ya.height===ab.height})})});try{D.forEach(xa,function(Ba,Ea){var Qa=O[Ea].getSlotElementId(),Ua=Fa[Ea];Qa=x.fireEvent("sizesToAddBySpace",{ASAdUnit:k[Qa].asAdUnit});if(!Qa)return Ba;D.forEach(Qa,function(Va){n(Va,Ba,Ua)||("fluid"===Va?(n(pa,Ba,Ua)||Ba.push({width:pa.width,height:pa.height}),Fa[Ea]="height"):Ba.push({width:Va.width,height:Va.height}))})})}catch(Ba){E.errorf(null,
"sizesToAddBySpace error - %o",Ba)}D.forEach(xa,function(Ba,Ea){Ea=O[Ea].getSlotElementId();Ba=wa.sizesReplacer("#"+Ea,Ba);Ba=D.filter(Ba,function(Qa){return!!Qa});0==Ba.length&&(Ba=[{width:2,height:3}]);modifiedSizesPerSlot.push(Ba);Ba=va(Ba);modifiedSizesGoogletagFormat.push(Ba)});var Ha=0,La=D.map(qa,function(Ba,Ea){if(0>aa.indexOf(Ea))return Ba;Ba=modifiedSizesPerSlot[Ha];Ha++;return Ba});var Pa=D.map(La,function(Ba){return D.map(Ba,function(Ea){return Ea.width+"x"+Ea.height})});Pa=D.map(Pa,function(Ba){return Ba.join("|")});
Pa=Pa.join(",");C=ka(C,oa,Pa);C=p(C,Fa,aa,Da);return{url:C,modifiedSizes:modifiedSizesGoogletagFormat}}}catch(Ba){return E.errorf(null,"modifySizesInUrl errored - %o",Ba),{url:C,modifiedSizes:D.map(O,function(Ea){return Ea.getSizes()})}}},ta=function(C){var O=[],aa=Aa("scp",C);aa||(aa=Aa("prev_scp",C));if(aa){C=Aa("csp",C);if(C){var Y=fa("upstdfp",C);E.debugf(null,"onCommonSlotTargetDetected - upstdfp: %o",Y)}aa=aa.split("|");for(C=0;C<aa.length;C++){var oa=aa[C];(Y||fa("upstdfp",oa))&&O.push(C)}return O}},
ua=function(){sa.Hooks.addEventListener(sa.Hooks.Types.XHR_OPEN_PRE,function(C){try{var O=C.data;if(Na(O[1])){var aa=w(O[1]),Y=J(aa),oa=ta(O[1]);M(Y);O[1]=wa.addAcceptableParam(O[1]);O[1]=q(O[1],Y);sizeReplacmentObj=Oa(O[1],Y,oa);O[1]=sizeReplacmentObj.url;var qa=sizeReplacmentObj.modifiedSizes;O[1]=ea(O[1]);x.fireEvent("onBeforeDfpAdsRequest",{url:O[1]});E.debugf(null,"onDfpAdsRequest - url: %s, slots: %o, relevantIndexes: %o",O[1],A(Y),oa);var Da=null,xa=null,Fa=this,Ha=!1;this.onload=function(){try{Da&&
!Ha&&(Ha=!0,R(Fa,Y,oa,qa).then(function(){Da.call(Fa)}))}catch(La){E.errorf(null,"addListenersOnHooks: onload: %o",La)}};this.onreadystatechange=function(La){try{xa&&!Ha&&4===this.readyState&&(200===this.status?(Ha=!0,R(Fa,Y,oa,qa).then(function(){xa.call(Fa,La)})):E.criticalf(null,"onDfpAdsRequestError, status: %s, responseText: %s",this.status,this.responseText))}catch(Pa){E.criticalf(null,"onReadyStateChangeError, err %o",Pa)}};this.__defineGetter__("onload",function(){return Da});this.__defineSetter__("onload",
function(La){return Da=La});this.__defineGetter__("onreadystatechange",function(){return xa});this.__defineSetter__("onreadystatechange",function(La){return xa=La})}}catch(La){E.errorf(null,"addListenersOnHooks: %o",La)}})},Na=function(C){try{return C&&-1<C.indexOf("doubleclick.net/gampad/ads")&&-1<C.indexOf("upstdfp")}catch(O){debugger}};this.subscribeForEvent=function(C,O){S.subscribeForEvent(C,O)};var Sa=function(){window.googletag.pubads().addEventListener("slotRenderEnded",function(C){var O=
C.slot;C=O.getSlotElementId();O=h(O);var aa=O.querySelector("iframe");if(0<=L.indexOf(C))L.splice(L.indexOf(C),1);else{var Y=g[C];Y&&"unresolved"==Y.fate&&Y.resolve();if(-1<H.indexOf(C)){H.splice(H.indexOf(C),1);try{O.style.width="1px",O.style.height="1px",O.querySelector("iframe").width="1",O.querySelector("iframe").height="1"}catch(oa){E.errorf(null,"setGoogletagEvents: %o",oa)}}"0"===aa.width&&aa.style.setProperty("width","max-content","important")}})},Ta=function(){var C=window.googletag.pubads().refresh;
window.googletag.pubads().refresh=function(O,aa,Y){E.debugf(null,"onGoogleTagRefreshInvoked - info: %o",{slots:O&&A(O),settings:aa,isRefreshInvokedByUs:Y});if(Y)return O?C(O,aa):C();O||(O=window.googletag.pubads().getSlots());aa=[];for(Y=0;Y<O.length;Y++)try{var oa=O[Y].getSlotElementId();oa&&aa.push(oa)}catch(qa){E.errorf(null,"wrapGoogleTagRefresh: refresh-invoked-by-the-publisher: %o",qa)}S.invokeEventCallbacks("refresh",aa)}},db=function(){var C="push";window.googletag.cmd.unshift&&(C="unshift");
window.googletag.cmd[C](function(){x.fireEvent("shouldNotWrapGoogleTagRefresh")||Ta();Sa();ua(window)})}};I.DfpAdapter=y})(zb);var Ab={};(function(I){var E=ra.new();E.setPrefix("prebidding: ");E.setLevel(ra.INFO);var G=new function(){var b=!1,n=new wa.SubscriptionLayer,e=function(){b&&(b=!1);b=!0;y.subscribeForEvent("refresh",function(p){n.invokeEventCallbacks("refresh",p)});y.subscribeForEvent("bidReceived",function(p){n.invokeEventCallbacks("bidReceived",p)})};this.subscribeForEvent=function(p,
d){n.subscribeForEvent(p,d)};this.dispatch=function(p,d){e();var k=[],g={};D.forEach(p,function(L){k.push({hbAdUnit:L,promises:[]});var S=L.biddingSettings;for(c in S){var c=parseInt(c);if(S.hasOwnProperty(c)){var m=S[c];m&&0<m.length&&(g[c]=g[c]||[],g[c].push({biddersSettings:m,auctionId:L.auctionId,spaceName:L.spaceName,sizes:L.sizes,selector:L.selector}))}}});for(var u in g)if(u=parseInt(u),g.hasOwnProperty(u)){var H=g[u];p=d&&d[u];a:{switch(u){case G.Types.PREBID:p=y.dispatch(H,p);break a}p=void 0}D.forEach(p,
function(L,S){D.find(k,function(c){return c.hbAdUnit.auctionId==H[S].auctionId}).promises.push(L)})}return D.map(k,function(L){return Promise.all(L.promises).then(function(S){S=D.map(S,function(c){return c.bids});return{auctionId:L.hbAdUnit.auctionId,bids:D.flat(S)}})})}};G.Types={UNKNOWN:0,PREBID:1,RTK:2};I.HB=G;var x=ca.CustomEvents,y=new function(){function b(F,N){return D.filter(F,function(a){return D.find(N,function(B){return a.width==B[0]&&a.height==B[1]})})}function n(F,N,a){if(!1!==F.isBackupCreative)if(a)N.contentWindow.postMessage({type:"eval",
code:f},"*");else try{N.contentWindow.eval(atob(r))}catch(B){E.errorf(null,"evalBackupCreativeScript: - %o",B)}}var e=!1,p={},d={},k=new wa.SubscriptionLayer;this.subscribeForEvent=function(F,N){k.subscribeForEvent(F,N)};this.dispatch=function(F){try{e||(e=!0,p=T.cpbjs,l(),x.fireEvent("wrapPrebidRequestBids")&&A(),ja());var N={};D.forEach(F,function(K){N[K.spaceName]={hbAdUnit:K,deferred:new D.CDefer}});var a=L(F),B=x.fireEvent("prebidTimeout")||3E3;g();p.requestBids({timeout:B,adUnits:a,bidsBackHandler:function(K){try{for(var X in N)if(N.hasOwnProperty(X)){var ka=
N[X],Aa=ka.hbAdUnit;if(K){var fa=K[X],Ga=[];if(fa){var Ma=D.find(a,function(t){return t.code==X}).sizes;fa.bids=b(fa.bids,Ma);Ga=c(fa.bids,ka.hbAdUnit)}ka.deferred.resolve({auctionId:Aa.auctionId,bids:Ga});D.forEach(Ga,function(t){k.invokeEventCallbacks("bidReceived",{auctionId:Aa.auctionId,bid:t})})}else ka.deferred.resolve({auctionId:Aa.auctionId,bids:[]})}}catch(t){E.errorf(null,"prebidAdapter: dispatch: bidsBackHandler: - %o",t)}}});F=[];for(var h in N)N.hasOwnProperty(h)&&F.push(N[h].deferred.promise);
return F}catch(K){E.errorf(null,"prebidAdapter: dispatch: - %o",K)}};var g=function(){if(p.bidderSettings&&p.bidderSettings.standard&&p.bidderSettings.standard.adserverTargeting){var F=!!D.find(p.bidderSettings.standard.adserverTargeting,function(a){return"hb_pb_org"==a.key}),N=!!D.find(p.bidderSettings.standard.adserverTargeting,function(a){return"hb_pb"==a.key});!F&&N&&p.bidderSettings.standard.adserverTargeting.push({key:"hb_pb_org",val:function(a){var B=p.getConfig().priceGranularity;return"auto"===
B?a.pbAg:"dense"===B?a.pbDg:"low"===B?a.pbLg:"medium"===B?a.pbMg:"high"!==B&&"custom"===B?a.pbCg:a.pbHg}})}},u=function(F){var N=F.split("x");if(2!==N.length)throw Error();F=parseInt(N[0]);N=parseInt(N[1]);if(isNaN(F)||isNaN(N))throw Error();return{width:F,height:N}},H=function(F){for(var N=[],a=0;a<F.sizes.length;a++){var B=u(F.sizes[a]);N.push({width:B.width,height:B.height})}var h=x.fireEvent("sizesToReplaceBySpace",{spaceName:F.spaceName});h&&(N=D.map(N,function(X){var ka=D.find(h,function(Aa){return Aa.size.width==
X.width&&Aa.size.height==X.height});return ka?{width:ka.replacement.width,height:ka.replacement.height}:X}));var K=x.fireEvent("sizesToRemoveBySpace",{spaceName:F.spaceName});K&&(N=D.filter(N,function(X){return!D.find(K,function(ka){return ka.width==X.width&&ka.height==X.height})}));F=wa.sizesReplacer(F.selector,N);F=D.filter(F,function(X){return!!X});return F=D.map(F,function(X){return[X.width,X.height]})},L=function(F){return D.map(F,function(N){var a=H(N),B=[];D.forEach(N.biddersSettings,function(h){B.push({bidder:h.name,
params:h.params})});return{code:N.spaceName,bids:B,sizes:a,mediaTypes:{banner:{sizes:a}}}})},S=function(F,N){if(F.ad&&-1<F.ad.indexOf(atob("c2VydmluZy1zeXMuY29t"))&&-1<F.ad.indexOf(atob("QnVyc3RpbmdQaXBlL2FkU2VydmVyLmJz"))){var a=atob("PHNjcmlwdD53aW5kb3cuZWJDZmcgPSB7fTt3aW5kb3cuZWJDZmdfXyA9IHt9O3dpbmRvdy5fX2RlZmluZUdldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7cmV0dXJuIHdpbmRvdy5lYkNmZ19fO30pO3dpbmRvdy5fX2RlZmluZVNldHRlcl9fKCdlYkNmZycsZnVuY3Rpb24oYSl7YS5hZEh0bWxQYXRoPScnO3JldHVybiB3aW5kb3cuZWJDZmdfXz1hO30pOzwvc2NyaXB0Pg==");
-1<F.ad.indexOf("<body>")?F.ad=F.ad.replace("<body>",a):F.ad=a+F.ad}if("amazonAAX"===F.bidder)try{var B=JSON.parse(F.adTargeting);B.amzniid=F.adId;for(var h in B)F.adserverTargeting[h]=B[h];F.ad=F.adHtml;try{delete F.adserverTargeting.hb_pb}catch(K){}delete F.adUrl}catch(K){}F.bidder&&"smartadserver"===F.bidder&&(F.bidder="smart");if(F.bidder&&("triplelift"===F.bidder&&-1<F.ad.indexOf("render_options_bm")||"sharethrough"===F.bidder)){B=F;N=H(N);for(F=h=0;F<N.length;F++)a=N[F][0],a>h&&(h=a);B.width=
h}},c=function(F,N){F=D.map(F,function(a){a.bidderId=m(a,N);if(a.bidderId)return S(a,N),d[a.adId]=new D.CDefer,new Ka.Bid({ad:a.ad,adId:a.adId,adUrl:a.adUrl,bidderId:a.bidderId,bidder:a.bidder,bidderCode:a.bidderCode,currency:a.currency,creativeId:"komoona"===a.bidder||"criteo"===a.bidder||"consumable"===a.bidder?null:a.c?String(a.c):a.adid&&"0"!=a.adid?String(a.adid):a.crid&&"0"!=a.crid?String(a.crid):a.creativeId&&"0"!=a.creativeId?String(a.creativeId):a.creative_id&&"0"!=a.creative_id?String(a.creative_id):
null,cpm:a.cpm,complianceStatus:0,height:a.height,timeToRespond:a.timeToRespond,size:a.size,width:a.width},a,Ka.Bid.Types.PREBID,function(B){B=0<B.complianceBidsInAuction.length?D.map(B.complianceBidsInAuction,function(K){return K.rawBid&&K.rawBid}):void 0;var h=a.adUnitCode;B=p.getAdserverTargeting(h,B)[h];""==B.hb_pb&&B.hb_pb_org&&(B.hb_pb=B.hb_pb_org);return B=x.fireEvent("customAdserverTargeting",{adServerTargeting:B})||B},function(B){try{v(this);var h=B.placement;this.onRenderedEvent(function(){var K=
h.parentElement.querySelector(".ahover");D.removeClass("up-pb-static",K)});M(h,this)}catch(K){}},function(B){v(this);var h=B.placement;this.onRenderedEvent(function(){var K=h.parentElement.querySelector(".ahover");D.addClass("up-pb-static",K)});M(h,this)},void 0,function(B){this.renderedDeferred.promise.then(function(){B()})}.bind({renderedDeferred:d[a.adId]}),function(){var B={bidderExternalID:this.bidderId,markup:this.ad,url:this.adUrl,hint:{provider:this.bidderCode,uid:this.creativeId},width:parseInt(this.width),
height:parseInt(this.height)};if("152media"===this.bidderCode||"brealtime"===this.bidderCode||"districtm"===this.bidderCode||"defymedia"===this.bidderCode||"appnexusAst"===this.bidderCode)B.provider="appnexus";"ix"===this.bidderCode&&(B.provider="indexExchange");"underdogmedia"===this.bidderCode&&(B.hintID=B.hintID+"_"+this.width+"_"+this.height);"gumgum"===this.bidderCode&&this.creative&&(B.markup=this.creative);if("komoona"===this.bidderCode)try{var h=0,K=JSON.parse(unescape(this.ad.split('"creative_data":"')[1].split('","')[0])),
X;for(X in K.hdbd_data.hbbids){var ka=K.hdbd_data.hbbids[X];ka.cpm>h&&(h=ka.cpm,B.markup=ka.creative_data.creative)}}catch(Aa){}this.ad&&-1<this.ad.indexOf("https://googleads.g.doubleclick.net/pagead/adfetch?client=ca-pub-")&&(B.url="https://googleads.g.doubleclick.net/pagead/adfetch"+this.ad.split("https://googleads.g.doubleclick.net/pagead/adfetch")[1].split("&rfl=")[0],B.markup="");return B});E.errorf(null,"prebidAdapter: dispatch: bidsBackHandler: - No corresponding bidderSettings found in ad unit: %o for Prebid auction response bid: %o",
N,a)});return D.reject(F,wa.isNil)},m=function(F,N){return(N=D.find(N.biddersSettings,function(a){return a.name==F.bidderCode}))?N.id:void 0},l=function(){p.onEvent("bidWon",function(F){d[F.adId].resolve()})},v=function(F){(F=F.rawBid)&&F.bidder&&(x.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsRender",payload:{detail:F}}),x.fireEvent("FirePublisherEvent",{eventName:"uponitRender",payload:{detail:F}}))},A=function(){var F=window.pbjs||window.jitaJS;if(F&&F.requestBids){var N=F.requestBids;
F.requestBids=function(a){for(var B=[],h=a&&a.adUnits,K=0;K<h.length;K++)B.push(h[K].code);k.invokeEventCallbacks("refresh",B);if(!x.fireEvent("skipOriginalRequestBidsFunction"))return N.apply(this,arguments)}}},M=function(F,N){var a=Q(),B=a.container,h=a.iframe,K=function(){try{h.removeEventListener("load",K);var X=T.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame;h.style.setProperty("visibility","");X||(h.contentWindow.document.documentElement.innerHTML="<html><body></body></html>");var ka=
!X&&h.contentWindow.document,Aa=$a.browser();"sharethrough"===N.bidder&&window.setTimeout(function(){for(var fa=document.querySelectorAll(".str-thumbnail"),Ga=0;Ga<fa.length;Ga++){var Ma=fa[Ga].style.backgroundImage;!Ma||-1!==Ma.indexOf("upapi")||-1!==Ma.indexOf("criteo.net")||-1!==Ma.indexOf("imgix.net")&&-1!==Ma.indexOf(".gif")?-1<Ma.indexOf("imgix.net")&&-1<Ma.indexOf(".gif")&&(-1<Ma.indexOf("?")?fa[Ga].style.backgroundImage=Ma.replace('")','&adunit=true")'):fa[Ga].style.backgroundImage=Ma.replace('")',
'?adunit=true")')):-1<Ma.indexOf("?")?fa[Ga].style.backgroundImage=Ma.replace('")','&upapi=true")'):fa[Ga].style.backgroundImage=Ma.replace('")','?upapi=true")')}},3E3);"edge"===Aa&&(N.rawBid.ad=N.rawBid.ad.replace(/\.html[\?#]/,".html?upapi=true&"),N.rawBid.ad=N.rawBid.ad.replace(/\.html%23/,".html%23upapi=true%26"),window.setTimeout(function(){if(X)h.contentWindow.postMessage({type:"eval",code:"try { var styleSheets = document.styleSheets; for (var i = 0; i < styleSheets.length; i++) { if (styleSheets[i].cssText && styleSheets[i].cssText.indexOf(\"a[href^='http://ads2.williamhill.com/redirect.aspx?']\") > -1) { styleSheets[i].cssText = ''; } } } catch (e) { }"},
"*");else try{for(var fa=ka.styleSheets,Ga=0;Ga<fa.length;Ga++)fa[Ga].cssText&&-1<fa[Ga].cssText.indexOf("a[href^='http://ads2.williamhill.com/redirect.aspx?']")&&(fa[Ga].cssText="")}catch(Ma){}},3E3));window.setTimeout(function(){var fa="edge"===Aa||"ie"===Aa;fa||n(N,h,X);var Ga=wa.doesBrowserSupportDocOpen();p.version.includes("4.17")?p.renderAd(ka,N.adId,{ifr:h,shouldOpenDocument:Ga}):p.renderAd(ka,N.adId,Ga,h);fa&&n(N,h,X)},0);h.style.width=N.width+"px";h.style.height=N.height+"px"}catch(fa){E.errorf(null,
"renderBid - %o",fa)}};h.addEventListener("load",K);h.style.setProperty("visibility","hidden");F.insertBefore(B,F.children[0])},Q=function(){var F=document.createElement("div");F.className="ahover";var N=ub.createSafeFrame();N.style.width="1px";N.style.height="1px";N.style.border="0px";N.setAttribute("marginwidth","0");N.setAttribute("marginheight","0");N.scrolling="no";F.appendChild(N);return{container:F,iframe:N}},ja=function(){if(!document.getElementById("up-pb-stylesheet")){var F=document.createElement("style");
F.id="up-pb-stylesheet";F.type="text/css";F.textContent=".up-pb-static { opacity: 0.001 !important; }";(document.head||document.body||document.documentElement).appendChild(F)}}},r="dmFyIF8weGE4YmU9WyJceDYzXHg2OFx4NjlceDZDXHg2NFx4NzJceDY1XHg2RSIsIlx4NkNceDY1XHg2RVx4NjdceDc0XHg2OCIsIlx4NDlceDQ2XHg1Mlx4NDFceDREXHg0NSIsIlx4NzRceDYxXHg2N1x4NEVceDYxXHg2RFx4NjUiLCJceDY5XHg2RVx4NzNceDY1XHg3Mlx4NzRceDQyXHg2NVx4NjZceDZGXHg3Mlx4NjUiLCJceDc3XHg3Mlx4NjlceDc0XHg2NSIsIlx4NkRceDYxXHg3NFx4NjNceDY4IiwiXHg3Mlx4NjVceDcwXHg2Q1x4NjFceDYzXHg2NSIsIlx4NzNceDYzXHg3Mlx4NjlceDcwXHg3NCIsIlx4NzRceDc5XHg3MFx4NjVceDNBXHgyMFx4MjdceDQ4XHg1NFx4NERceDRDXHgzNVx4MjciLCJceDc0XHg3OVx4NzBceDY1XHgzQVx4MjBceDI3XHg0OVx4NERceDQxXHg0N1x4NDVceDI3IiwiXHg2NVx4NjJceDQzXHg2Nlx4NjciLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTNceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDQ4XHg3NFx4NkRceDZDXHg1MFx4NjFceDc0XHg2OCIsIlx4NEZceDYyXHg2QVx4NjVceDYzXHg3NCIsIlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NTBceDcyXHg2Rlx4NzBceDY1XHg3Mlx4NzRceDc5IiwiXHg1Rlx4NUZceDVGIiwiXHg3MFx4NjFceDY3XHg2NVx4NTZceDY5XHg3M1x4NjlceDYyXHg2Q1x4NjUiLCJceDZGXHg2Mlx4NkFceDY1XHg2M1x4NzQiLCJceDY4XHg2MVx4NzNceDRGXHg3N1x4NkVceDUwXHg3Mlx4NkZceDcwXHg2NVx4NzJceDc0XHg3OSIsIlx4NzNceDc1XHg3MFx4NzBceDZGXHg3Mlx4NzRceDY1XHg2NFx4NDJceDcyXHg2Rlx4NzdceDczXHg2NVx4NzIiLCJceDYyXHg2MVx4NkVceDZFXHg2NVx4NzJceDQxXHg2NFx4NDhceDc0XHg2RFx4NkNceDU0XHg2NVx4NzhceDc0IiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzIiLCJceDVGXHg1Rlx4NjRceDY1XHg2Nlx4NjlceDZFXHg2NVx4NDdceDY1XHg3NFx4NzRceDY1XHg3Mlx4NUZceDVGIiwiXHg2MVx4NjRceDRDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDVGXHg1RiIsIlx4NjlceDZFXHg2NFx4NjVceDc4XHg0Rlx4NjYiLCJceDczXHg3NFx4NzJceDY5XHg2RVx4NjciLCJceDZBXHg2MVx4NzZceDYxXHg3M1x4NjNceDcyXHg2OVx4NzBceDc0XHgzQVx4MjciLCJceDY0XHg2Rlx4NjNceDc1XHg2RFx4NjVceDZFXHg3NCIsIlx4NjNceDcyXHg2NVx4NjFceDc0XHg2NVx4NDVceDZDXHg2NVx4NkRceDY1XHg2RVx4NzQiLCJceDczXHg3NFx4NzlceDZDXHg2NSIsIlx4NjhceDY1XHg2MVx4NjQiLCJceDYyXHg2Rlx4NjRceDc5IiwiXHg2NFx4NkZceDYzXHg3NVx4NkRceDY1XHg2RVx4NzRceDQ1XHg2Q1x4NjVceDZEXHg2NVx4NkVceDc0IiwiXHg2MVx4NzBceDcwXHg2NVx4NkVceDY0XHg0M1x4NjhceDY5XHg2Q1x4NjQiLCJceDczXHg3NFx4NzlceDZDXHg2NVx4NTNceDY4XHg2NVx4NjVceDc0XHg3MyIsIlx4NjlceDZFXHg3M1x4NjVceDcyXHg3NFx4NTJceDc1XHg2Q1x4NjUiLCJceDY5XHg2RFx4NjdceDVCXHg2M1x4NkNceDYxXHg3M1x4NzNceDVFXHgzRFx4MjdceDcwXHg2Q1x4MkRceDZDXHg2Rlx4NjFceDY0XHg2NVx4NzJceDJEXHgyN1x4NURceDdCXHg2NFx4NjlceDczXHg3MFx4NkNceDYxXHg3OVx4M0FceDZFXHg2Rlx4NkVceDY1XHgyMFx4MjFceDY5XHg2RFx4NzBceDZGXHg3Mlx4NzRceDYxXHg2RVx4NzRceDdEIiwiXHg2N1x4NjVceDc0XHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NFx4NDJceDc5XHg0OVx4NjQiLCJceDY5XHg2NVx4NjNceDYzXHg3NFx4NjVceDczXHg3NCIsIlx4NjlceDY2XHg3Mlx4NjFceDZEXHg2NSIsIlx4NjNceDYxXHg2Q1x4NkMiLCJceDYxXHg2NFx4NjRceDQ1XHg3Nlx4NjVceDZFXHg3NFx4NENceDY5XHg3M1x4NzRceDY1XHg2RVx4NjVceDcyIiwiXHg2Q1x4NkZceDYxXHg2NCIsIlx4NjNceDZGXHg2RVx4NzRceDY1XHg2RVx4NzRceDU3XHg2OVx4NkVceDY0XHg2Rlx4NzciLCJceDQ4XHg1NFx4NERceDRDXHg0NVx4NkNceDY1XHg2RFx4NjVceDZFXHg3NCIsIlx4NzBceDcyXHg2Rlx4NzRceDZGXHg3NFx4NzlceDcwXHg2NSIsIlx4NzNceDY4XHg2OVx4NjZceDc0IiwiXHg3MFx4NzVceDczXHg2OCIsIlx4NjYiLCJceDMwXHg3OFx4MzIiLCJceDMwXHg3OFx4MzEiLCJceDMwXHg3OFx4MzAiLCJceDMwXHg3OFx4MzYiLCJceDMwXHg3OFx4MzMiLCJceDMwXHg3OFx4MzQiLCJceDMwXHg3OFx4MzUiLCJceDMwXHg3OFx4MzkiLCJceDMwXHg3OFx4MzgiLCJceDMwXHg3OFx4MzciLCJceDY4IiwiXHgzMFx4NzhceDYxIiwiXHgzMFx4NzhceDYyIiwiXHg2MiIsIlx4MzBceDc4XHg2MyIsIlx4NzRceDZGXHg0Q1x4NkZceDc3XHg2NVx4NzJceDQzXHg2MVx4NzNceDY1IiwiXHgzMFx4NzhceDY0IiwiXHgzMFx4NzhceDY2IiwiXHg2MSIsIlx4MzBceDc4XHgzMVx4MzAiLCJceDMwXHg3OFx4NjUiLCJceDY3IiwiXHgzMFx4NzhceDMxXHgzMiIsIlx4MzBceDc4XHgzMVx4MzEiLCJceDMwXHg3OFx4MzFceDM0IiwiXHgzMFx4NzhceDMxXHgzMyIsIlx4MzBceDc4XHgzMVx4MzUiLCJceDMwXHg3OFx4MzFceDM2IiwiXHg2OSIsIlx4MzBceDc4XHgzMVx4MzciLCJceDZBIiwiXHgzMFx4NzhceDMxXHgzOCIsIlx4NzRceDY1XHg3M1x4NzQiLCJceDMwXHg3OFx4MzFceDM5IiwiXHgzMFx4NzhceDMxXHg2MiIsIlx4MzBceDc4XHgzMVx4NjEiLCJceDMwXHg3OFx4MzFceDYzIiwiXHgzMFx4NzhceDMxXHg2NCIsIlx4MzBceDc4XHgzMVx4NjUiLCJceDYzIiwiXHgzMFx4NzhceDMyXHgzMCIsIiIsIlx4MzBceDc4XHgzMVx4NjYiLCJceDMwXHg3OFx4MzJceDMxIiwiXHgzMFx4NzhceDMyXHgzMyIsIlx4MzBceDc4XHgzMlx4MzIiLCJceDMwXHg3OFx4MzJceDM0IiwiXHgzMFx4NzhceDMyXHgzNSIsIlx4MzBceDc4XHgzMlx4MzciLCJceDMwXHg3OFx4MzJceDM2IiwiXHg2OVx4NzMiLCJceDMwXHg3OFx4MzJceDM4IiwiXHgzMFx4NzhceDMyXHgzOSIsIlx4MzBceDc4XHgzMlx4NjIiLCJceDMwXHg3OFx4MzJceDYxIiwiXHgyRVx4NjhceDc0XHg2RFx4NkMiLCJceDMwXHg3OFx4MzJceDYzIiwiXHgzMFx4NzhceDMyXHg2NCIsIlx4MzBceDc4XHgzMlx4NjUiLCJceDI3IiwiXHg2MVx4NzBceDcwXHg2Q1x4NzkiXTt2YXIgYWFhPVtfMHhhOGJlWzBdLF8weGE4YmVbMV0sXzB4YThiZVsyXSxfMHhhOGJlWzNdLF8weGE4YmVbNF0sXzB4YThiZVs1XSxfMHhhOGJlWzZdLF8weGE4YmVbN10sXzB4YThiZVs4XSxfMHhhOGJlWzldLF8weGE4YmVbMTBdLF8weGE4YmVbMTFdLF8weGE4YmVbMTJdLF8weGE4YmVbMTNdLF8weGE4YmVbMTRdLF8weGE4YmVbMTVdLF8weGE4YmVbMTZdLF8weGE4YmVbMTddLF8weGE4YmVbMThdLF8weGE4YmVbMTldLF8weGE4YmVbMjBdLF8weGE4YmVbMjFdLF8weGE4YmVbMjJdLF8weGE4YmVbMjNdLF8weGE4YmVbMjRdLF8weGE4YmVbMjVdLF8weGE4YmVbMjZdLF8weGE4YmVbMjddLF8weGE4YmVbMjhdLF8weGE4YmVbMjldLF8weGE4YmVbMzBdLF8weGE4YmVbMzFdLF8weGE4YmVbMzJdLF8weGE4YmVbMzNdLF8weGE4YmVbMzRdLF8weGE4YmVbMzVdLF8weGE4YmVbMzZdLF8weGE4YmVbMzddLF8weGE4YmVbMzhdLF8weGE4YmVbMzldLF8weGE4YmVbNDBdLF8weGE4YmVbNDFdLF8weGE4YmVbNDJdLF8weGE4YmVbNDNdLF8weGE4YmVbNDRdLF8weGE4YmVbNDVdLF8weGE4YmVbNDZdXTsoZnVuY3Rpb24oXzB4NDNlZXgyLF8weDQzZWV4Myl7dmFyIF8weDQzZWV4ND1mdW5jdGlvbihfMHg0M2VleDUpe3doaWxlKC0tXzB4NDNlZXg1KXtfMHg0M2VleDJbXzB4YThiZVs0OF1dKF8weDQzZWV4MltfMHhhOGJlWzQ3XV0oKSl9fTtfMHg0M2VleDQoKytfMHg0M2VleDMpfShhYWEsMHgxNjUpKTt2YXIgYj1mdW5jdGlvbihfMHg0M2VleDIsXzB4NDNlZXgzKXtfMHg0M2VleDI9IF8weDQzZWV4Mi0gMHgwO3ZhciBfMHg0M2VleDQ9YWFhW18weDQzZWV4Ml07cmV0dXJuIF8weDQzZWV4NH07KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gXzB4NDNlZXgyKF8weDQzZWV4Myl7aWYoIV8weDQzZWV4M1tfMHhhOGJlWzQ5XV0pe18weDQzZWV4M1tfMHhhOGJlWzQ5XV09ICAhMHgwO3RyeXt2YXIgXzB4NDNlZXg0PV8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldKGIoXzB4YThiZVs1MF0pKTsoXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtiKF8weGE4YmVbNTRdKV18fCBfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW2IoXzB4YThiZVs1NV0pXXx8IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzU2XSldKVtiKF8weGE4YmVbNTNdKV0oXzB4NDNlZXg0KTtfMHg0M2VleDNbXzB4YThiZVsyOF1dW2IoXzB4YThiZVs1OV0pXVsweDBdW2IoXzB4YThiZVs1OF0pXShiKF8weGE4YmVbNTddKSwweDApfWNhdGNoKGYpe307XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYwXV09IGRvY3VtZW50W2IoXzB4YThiZVs2MV0pXTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbMzhdXT0gZnVuY3Rpb24oXzB4NDNlZXg3KXt0cnl7aWYoYihfMHhhOGJlWzYyXSk9PT0gXzB4NDNlZXg3KXtyZXR1cm4gXzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzI5XV0oXzB4YThiZVs2M10pfX1jYXRjaChoKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjBdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleDcpfTtfMHg0M2VleDNbYihfMHhhOGJlWzUyXSldW18weGE4YmVbNjNdXT0gZG9jdW1lbnRbYihfMHhhOGJlWzUxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzUxXSldPSBmdW5jdGlvbihfMHg0M2VleDgpe3RyeXtpZihiKF8weGE4YmVbNjRdKT09PSBfMHg0M2VleDhbXzB4YThiZVs2NV1dKCkpe3ZhciBfMHg0M2VleDk9XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzYzXV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXg4KTtfMHg0M2VleDlbYihfMHhhOGJlWzcwXSldKGIoXzB4YThiZVs2N10pLGZ1bmN0aW9uKCl7dHJ5e3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyLHRoaXNbXzB4YThiZVs0NF1dW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tfMHhhOGJlWzQ0XV0sdGhpc1tfMHhhOGJlWzQ0XV0pfWNhdGNoKGspe319KTtyZXR1cm4gXzB4NDNlZXg5fX1jYXRjaChsKXt9O3JldHVybiBfMHg0M2VleDNbXzB4YThiZVsyOF1dW18weGE4YmVbNjNdXVtiKF8weGE4YmVbNjZdKV0odGhpcyxfMHg0M2VleDgpfTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW2IoXzB4YThiZVs1M10pXTtfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNTNdKV09IGZ1bmN0aW9uKF8weDQzZWV4YSl7dmFyIF8weDQzZWV4Yj1fMHg0M2VleDNbXzB4YThiZVs0NV1dW2IoXzB4YThiZVs3Ml0pXVtfMHhhOGJlWzcxXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhhKTt0cnl7Zm9yKHZhciBfMHg0M2VleGM9MHgwO18weDQzZWV4YzwgXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtiKF8weGE4YmVbNzRdKV07XzB4NDNlZXhjKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4YVtfMHhhOGJlWzBdXVtfMHg0M2VleGNdW2IoXzB4YThiZVs3N10pXSYmIChfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGFbXzB4YThiZVswXV1bXzB4NDNlZXhjXVtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXhjXVtfMHhhOGJlWzQ0XV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleGNdW2IoXzB4YThiZVs2OV0pXSkpfTtfMHhhOGJlWzJdPT09IF8weDQzZWV4YVtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhhW18weGE4YmVbNDRdXXx8IF8weDQzZWV4YVtiKF8weGE4YmVbNzBdKV0oXzB4YThiZVs0M10sZnVuY3Rpb24oKXt0aGlzW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbXzB4YThiZVs0NF1dKX0pLF8weDQzZWV4YVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhhW18weGE4YmVbNDRdXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXMsXzB4NDNlZXhhW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHApe307cmV0dXJuIF8weDQzZWV4Yn07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bXzB4YThiZVs3OF1dPSBfMHg0M2VleDNbYihfMHhhOGJlWzczXSldW2IoXzB4YThiZVs3Ml0pXVtiKF8weGE4YmVbNzldKV07XzB4NDNlZXgzW2IoXzB4YThiZVs3M10pXVtiKF8weGE4YmVbNzJdKV1bYihfMHhhOGJlWzc5XSldPSBmdW5jdGlvbihfMHg0M2VleGQsXzB4NDNlZXhlKXt2YXIgXzB4NDNlZXhmPV8weDQzZWV4M1tiKF8weGE4YmVbNzNdKV1bYihfMHhhOGJlWzcyXSldW18weGE4YmVbNzhdXVtfMHhhOGJlWzQxXV0odGhpcyxfMHg0M2VleGQsXzB4NDNlZXhlKTt0cnl7Zm9yKHZhciBfMHg0M2VleDEwPTB4MDtfMHg0M2VleDEwPCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW2IoXzB4YThiZVs3NF0pXTtfMHg0M2VleDEwKyspe2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVszXV0mJiAoXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV18fCBfMHg0M2VleGRbYihfMHhhOGJlWzc1XSldW18weDQzZWV4MTBdW2IoXzB4YThiZVs3MF0pXShiKF8weGE4YmVbNjddKSxmdW5jdGlvbigpe3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXT0gXzB4NDNlZXgyO3RoaXNbYihfMHhhOGJlWzY5XSldW18weGE4YmVbNjhdXVtiKF8weGE4YmVbNjZdKV0odGhpc1tiKF8weGE4YmVbNjldKV0sdGhpc1tiKF8weGE4YmVbNjldKV0pfSksXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs3NV0pXVtfMHg0M2VleDEwXVtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dW2IoXzB4YThiZVs2Nl0pXSh0aGlzLF8weDQzZWV4ZFtiKF8weGE4YmVbNzVdKV1bXzB4NDNlZXgxMF1bXzB4YThiZVs0NF1dKSl9O2IoXzB4YThiZVs3Nl0pPT09IF8weDQzZWV4ZFtiKF8weGE4YmVbNzddKV0mJiAoXzB4NDNlZXhkW18weGE4YmVbNDRdXXx8IF8weDQzZWV4ZFtiKF8weGE4YmVbNzBdKV0oYihfMHhhOGJlWzY3XSksZnVuY3Rpb24oKXt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV09IF8weDQzZWV4Mjt0aGlzW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bYihfMHhhOGJlWzY2XSldKHRoaXNbYihfMHhhOGJlWzY5XSldLHRoaXNbYihfMHhhOGJlWzY5XSldKX0pLF8weDQzZWV4ZFtiKF8weGE4YmVbNjldKV1bXzB4YThiZVs2OF1dPSBfMHg0M2VleDIsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXVtfMHhhOGJlWzY4XV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXhkW2IoXzB4YThiZVs2OV0pXSkpfWNhdGNoKHUpe307cmV0dXJuIF8weDQzZWV4Zn07XzB4NDNlZXgzW18weGE4YmVbMjhdXVtfMHhhOGJlWzgwXV09IF8weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bYihfMHhhOGJlWzgxXSldO18weDQzZWV4M1tiKF8weGE4YmVbNTJdKV1bXzB4YThiZVs1XV09IGZ1bmN0aW9uKF8weDQzZWV4MTEpe3RyeXtpZihfMHg0M2VleDExJiYgL2RhdGFcLWRjbVwtcmVuZGVyaW5nXC1tb2RlXHM/PVxzP1snIl1pZnJhbWVbJyJdL1tfMHhhOGJlWzgyXV0oXzB4NDNlZXgxMSkpe3ZhciBfMHg0M2VleDEyPV8weDQzZWV4MTFbYihfMHhhOGJlWzgzXSldKC9kYXRhXC1kY21cLXJlbmRlcmluZ1wtbW9kZVxzPz1ccz9bJyJdaWZyYW1lWyciXS8pLF8weDQzZWV4MTM9XzB4NDNlZXgxMlsweDBdW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbNjRdKSxiKF8weGE4YmVbODRdKSk7XzB4NDNlZXgxMT0gXzB4NDNlZXgxMVtiKF8weGE4YmVbODVdKV0oXzB4NDNlZXgxMixfMHg0M2VleDEzKX07XzB4NDNlZXgxMSYmIC0weDE8IF8weDQzZWV4MTFbXzB4YThiZVsyNV1dKGIoXzB4YThiZVs4Nl0pKSYmIChfMHg0M2VleDExPSBfMHg0M2VleDExW2IoXzB4YThiZVs4NV0pXShiKF8weGE4YmVbODZdKSxiKF8weGE4YmVbODddKSkpfWNhdGNoKHkpe307XzB4NDNlZXgzW2IoXzB4YThiZVs1Ml0pXVtfMHhhOGJlWzgwXV1bXzB4YThiZVs0MV1dKHRoaXMsXzB4NDNlZXgxMSl9O18weDQzZWV4M1tiKF8weGE4YmVbODhdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbXzB4YThiZVs4OV1dPSB2b2lkKDB4MCk7XzB4NDNlZXgzW18weGE4YmVbMjNdXShfMHhhOGJlWzExXSxmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDNbXzB4YThiZVs4OV1dfSk7XzB4NDNlZXgzW2IoXzB4YThiZVs5Ml0pXShiKF8weGE4YmVbODhdKSxmdW5jdGlvbihfMHg0M2VleDE0KXtfMHg0M2VleDE0W2IoXzB4YThiZVs5MF0pXT0gXzB4YThiZVs5MV07cmV0dXJuIF8weDQzZWV4M1tfMHhhOGJlWzg5XV09IF8weDQzZWV4MTR9KTtfMHg0M2VleDQ9IGZ1bmN0aW9uKF8weDQzZWV4MTUsXzB4NDNlZXgxNil7XzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbOTVdKV0oXzB4NDNlZXgzW2IoXzB4YThiZVs5M10pXVtiKF8weGE4YmVbNzJdKV0sXzB4NDNlZXgxNSx7J1x4NjdceDY1XHg3NCc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc1tfMHhhOGJlWzE2XSsgXzB4NDNlZXgxNV19LCdceDczXHg2NVx4NzQnOmZ1bmN0aW9uKF8weDQzZWV4MTcpe18weDQzZWV4MTc9IF8weDQzZWV4MTYodGhpcyxfMHg0M2VleDE3KTtfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLF8weDQzZWV4MTUseydceDY3XHg2NVx4NzQnOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbYihfMHhhOGJlWzk0XSkrIF8weDQzZWV4MTVdfSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDE4KXtfMHg0M2VleDE4PSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxOCk7dGhpc1tiKF8weGE4YmVbOTRdKSsgXzB4NDNlZXgxNV09IF8weDQzZWV4MTh9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgwfSk7dmFyIF8weDQzZWV4MTk9XzB4NDNlZXgxNztfMHg0M2VleDNbYihfMHhhOGJlWzkzXSldW2IoXzB4YThiZVs5NV0pXSh0aGlzLGIoXzB4YThiZVs5NF0pKyBfMHg0M2VleDE1LHsnXHg2N1x4NjVceDc0JzpmdW5jdGlvbigpe3JldHVybiBfMHg0M2VleDE5fSwnXHg3M1x4NjVceDc0JzpmdW5jdGlvbihfMHg0M2VleDFhKXtfMHg0M2VleDE5PSBfMHg0M2VleDFhPSBfMHg0M2VleDE2KHRoaXMsXzB4NDNlZXgxYSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxfSl9LCdceDY1XHg2RVx4NzVceDZEXHg2NVx4NzJceDYxXHg2Mlx4NkNceDY1JzohMHgxLCdceDYzXHg2Rlx4NkVceDY2XHg2OVx4NjdceDc1XHg3Mlx4NjFceDYyXHg2Q1x4NjUnOiEweDF9KX07XzB4NDNlZXg0KGIoXzB4YThiZVs5Nl0pLGZ1bmN0aW9uKF8weDQzZWV4MWIsXzB4NDNlZXgxYyl7YihfMHhhOGJlWzk3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFiJiYgXzB4NDNlZXgxYltiKF8weGE4YmVbOTldKV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWJbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWN9KTtfMHg0M2VleDQoXzB4YThiZVsxMDBdLGZ1bmN0aW9uKF8weDQzZWV4MWQsXzB4NDNlZXgxZSl7XzB4YThiZVsxOF09PT0gIHR5cGVvZiBfMHg0M2VleDFkJiYgXzB4NDNlZXgxZFtfMHhhOGJlWzE5XV0oYihfMHhhOGJlWzk4XSkpJiYgKF8weDQzZWV4MWRbYihfMHhhOGJlWzk4XSldPSBmdW5jdGlvbigpe3JldHVybiAhMHgxfSk7cmV0dXJuIF8weDQzZWV4MWV9KTt2YXIgXzB4NDNlZXgxZj12b2lkKDB4MCk7XzB4NDNlZXg0KGIoXzB4YThiZVsxMDFdKSxmdW5jdGlvbihfMHg0M2VleDIwLF8weDQzZWV4MjEpe3JldHVybiBfMHg0M2VleDFmPSBfMHg0M2VleDIxfSk7XzB4NDNlZXgzW2IoXzB4YThiZVsxMDJdKV09IHZvaWQoMHgwKTtfMHg0M2VleDNbYihfMHhhOGJlWzEwNF0pXShfMHhhOGJlWzIyXSxmdW5jdGlvbigpe3JldHVybiB0aGlzW2IoXzB4YThiZVsxMDNdKV19KTtfMHg0M2VleDNbYihfMHhhOGJlWzkyXSldKF8weGE4YmVbMjJdLGZ1bmN0aW9uKF8weDQzZWV4MjIpe3RoaXNbYihfMHhhOGJlWzEwM10pXT0gZnVuY3Rpb24oKXt2YXIgXzB4NDNlZXgyMz1hcmd1bWVudHM7LTB4MTwgXzB4NDNlZXgyM1sweDNdW2IoXzB4YThiZVsxMDZdKV0oXzB4YThiZVsxMDVdKSAmJiBiKF8weGE4YmVbMTA3XSk9PT0gIHR5cGVvZiBfMHg0M2VleDFmICYmIChfMHg0M2VleDIzWzB4M109IGIoXzB4YThiZVsxMDhdKSsgXzB4NDNlZXgxZltiKF8weGE4YmVbODVdKV0oLycvZyxfMHhhOGJlWzc4XSkrIF8weGE4YmVbMTA5XSk7XzB4NDNlZXgyMltfMHhhOGJlWzExMF1dKHRoaXMsXzB4NDNlZXgyMyl9O3JldHVybiBfMHg0M2VleDIyfSl9fV8weDQzZWV4Mih3aW5kb3cpfSgpKQ==",
f="try { eval(atob('"+r+"')) } catch (err) {}"})(Ab);var qb={};(function(I){var E=new function(){var G=Ab.HB,x=zb.AdServer,y=new wa.SubscriptionLayer,r=ca.CustomEvents;this.subscribeForEvent=function(e,p){y.subscribeForEvent(e,p)};var f=function(e){return D.filter(e,function(p){return.01<=p.cpm})};this.dispatchHB=function(e,p){try{var d={},k=[],g=[];D.forEach(e,function(L){var S=new D.CDefer;d[L.auctionId]=S;k.push(S.promise);var c=L.unit.space.preBiddingSettings;c&&c.enabled?g.push(L):S.resolve({auctionId:L.auctionId,
bids:[]})});var u=D.map(g,function(L){return{auctionId:L.auctionId,biddingSettings:L.unit.space.preBiddingSettings.biddingSettings,spaceName:L.unit.space.name,sizes:L.unit.space.sizes,selector:L.unit.space.selector.value}}),H=G.dispatch(u,p);Promise.all(H).then(function(L){try{for(var S=[],c=0;c<L.length;c++){var m=L[c],l=m.auctionId,v=D.find(g,function(ja){return ja.auctionId==l}),A=m.bids;A=r.fireEvent("passZeroCpmBidsFilter")?A:f(A);var M=r.fireEvent("filterPrebidBids");if(M){var Q=D.map(A,function(ja){return{bid:ja,
rawBid:ja.rawBid}});A=M(Q)}m.bids=A;S.push({auction:v,bids:A})}xb.testBidsCompliance(S).then(function(ja){for(var F in ja)if(ja.hasOwnProperty(F)){var N=ja[F],a=D.find(L,function(ka){return ka.auctionId==F}),B=a.bids,h;for(h in N)if(N.hasOwnProperty(h)){var K=N[h],X=D.find(B,function(ka){return ka.bidId==h});X.contentIdHash=K.bidContentIdHash;X.complianceStatus=K.status;X.isBackupCreative=K.backup}d[F].resolve(a)}})}catch(ja){}});return k}catch(L){}};this.dispatchAS=function(e,p){try{var d={},k=[],
g=[];D.forEach(e,function(H){var L=new D.CDefer;d[H.auctionId]=L;k.push(L.promise);var S=H.unit.space.postBiddingSettings;S&&S.enabled?g.push(H):L.resolve({auctionId:H.auctionId,bids:[]})});var u=b(g,p,0);D.forEach(u,function(H){H.then(function(L){d[L.auctionId].resolve(L)})});return k}catch(H){}};var b=function(e,p,d){try{var k={},g=[];D.forEach(e,function(S){var c=new D.CDefer;g.push(c.promise);k[S.auctionId]={auction:S,deferred:c}});var u=[];D.forEach(e,function(S){S.unit.space.postBiddingSettings.order[d]?
u.push(S):k[S.auctionId].deferred.resolve({auctionId:S.auctionId,bids:[]})});if(u){var H=D.map(u,function(S){var c=S.unit.space.postBiddingSettings,m=S.getWinningBid();m=m?m.cpm:0;var l=S.auctionId,v=S.unit.space.name;a:{switch(S.unit.space.postBiddingSettings.type){case x.Types.DFP:var A=c.order[d];var M={},Q=S.getWinningBid(),ja=S.getComplianceBids(),F="true false undefined 152media 33across a4g aardvark adblade adbund adbutler adform adkernel adkerneladn admedia admixer adocean adsparc adspirit adsupply adtelligent adxcg adyoulike aerserv andbeyond aol appnexusAst appnexus arteebee atomx amazon amazonAAX audienceNetwork automatad beachfront betweendigital bidfluence brainy brealtime bridgewell brightcom buysellads c1x carambola clickonometrics clickforce colossus connectad consumable contentIgnite conversant cox cpx criteo defymedia dgads districtmDMX districtm engagebdr emxdigital emx_digital e-planning essens fairtrade featureForward fidelityMedia freewheel-ssp fyber gamoshi gamma getintent gourmetAds gumgum gxone imonomy improvedigital IndexExchange indexExchange ix inneractive innity inskin insticator invibes iqm justpremium kargo komoona kumma lifestreet lkqd lockerdome madvertise marsmedia matomy media.net medianet mobfox my6sense mytarget nginad upo upo1 upo2 upo3 upo4 upo5 upo6 upo7 upo8 upo9 upo10 oneplanetonly onetag openx optimatic optimera orbitsoft peak226 piximedia platform.io playgroundXyz polluxNetwork polymorph prebidServer pubgears pubmatic pulsepoint pulsepointLite quantcast quantum readpeak realvu rhythmone rockyou roxot rtbdemandBidder rtbdemandadk rtbhouse rubicon rxrtb sara sekindoum serverbid sharethrough smart smartyads somoAudience sonobi soloway sovrn spotx springserve stickyadstv tapsense teads thoughtleadr tremor trionInteractive triplelift trustx twenga ucfunnel underdogmedia undertone unruly vertamedia vertoz vi vidazoo vis.x vuble weborama wideorbit widespace xaxis xendiz yieldbot yieldlab yieldmo yieldone".split(" "),
N={up_bidder:!0};Q&&Q.bidder&&-1<F.indexOf(Q.bidder)?N.up_bidder=Q.bidder:Q&&Q.bidder&&0>F.indexOf(Q.bidder)&&r.fireEvent("sendLog",{eventName:"upBidder_unknownBidder",payload:{bidder:Q.bidder,bidderCode:Q.bidderCode}});F=window.location.hostname;0===F.indexOf("www.")&&(F=F.replace("www.",""));var a=F;a=a.match(/(co\.il|co\.uk|org\.il)/)?a.replace("www.","").split(".").splice(-3).join("."):a.replace("www.","").split(".").splice(-2).join(".");N.up_recovery="true";var B=$a.browser(),h=$a.device(),K=
$a.platform();N.up_browser=B;N.up_device=h;N.up_platform=K;N.up_domain=F;N.up_website=a;N.up_website_id=T.SharedObject.getItem("websiteConfig").websiteID;Q=Q?Q.getGPTTargeting({complianceBidsInAuction:ja}):{};N=D.objectAssign({},N||{},Q,A.keyValues||{});Q=n[S.unit.unitID]?Object.keys(n[S.unit.unitID]):[];n[S.unit.unitID]=N;M.keyValuesParams={toAdd:N,toRemove:Q};M.queryParams=A.params.queryParams||{};M.adxBidderId=A.adx.bidderID;M.adxShouldTestCompliance=A.adx.testCompliance;M.directBidderId=A.direct.bidderID;
M.directShouldTestCompliance=A.direct.testCompliance;A=M;break a}A=void 0}return{auctionId:l,spaceName:v,params:A,slotElementId:S.unit.element.getAttribute("id"),floorPrice:m,type:c.type}}),L=x.dispatch(H,p);D.forEach(L,function(S){S.then(function(c){try{var m=c.auctionId,l=c.bids[0],v=D.find(u,function(M){return M.auctionId==m}),A=D.find(H,function(M){return M.auctionId==m});l?l.type==Ka.Bid.Types.DFP_PREBID?(l.complianceStatus=T.consts.complianceStatus.COMPLIANT,k[m].deferred.resolve(c)):l.type!=
Ka.Bid.Types.ADX_TEXT||A.params.adxShouldTestCompliance?l.type!=Ka.Bid.Types.DIRECT||A.params.directShouldTestCompliance?xb.testBidsCompliance([{auction:v,bids:[l]}]).then(function(M){l.contentIdHash=M[m][l.bidId].bidContentIdHash;l.complianceStatus=M[m][l.bidId].status;p&&p.forceCompliantEnabled&&l.type==Ka.Bid.Types.DIRECT&&l.complianceStatus==T.consts.complianceStatus.INCOMPLIANT?k[m].deferred.resolve(c):l.complianceStatus!=T.consts.complianceStatus.COMPLIANT?(l.cancelBid(),b([v],p,d+1)[0].then(function(Q){k[m].deferred.resolve(Q)})):
k[m].deferred.resolve(c)}).catch(function(M){l.cancelBid();b([v],p,d+1)[0].then(function(Q){k[m].deferred.resolve(Q)})}):(l.complianceStatus=T.consts.complianceStatus.COMPLIANT,k[m].deferred.resolve(c)):(l.complianceStatus=T.consts.complianceStatus.COMPLIANT,k[m].deferred.resolve(c)):k[m].deferred.resolve(c)}catch(M){}})});return g}}catch(S){}},n={};(function(){x.subscribeForEvent("bidReceived",function(e){y.invokeEventCallbacks("bidReceived",e)});x.subscribeForEvent("refresh",function(e){y.invokeEventCallbacks("refresh",
e)});G.subscribeForEvent("bidReceived",function(e){y.invokeEventCallbacks("bidReceived",e)});G.subscribeForEvent("refresh",function(e){y.invokeEventCallbacks("refresh",e)})})()};I.dispatch=E})(qb);var Bb={};(function(I){var E=new function(){var G=qb.dispatch,x=ca.CustomEvents,y={},r=!1,f=!1,b=function(){G.subscribeForEvent("bidReceived",function(m){m=c([m.bid])[0];n(E.UPONIT_EVENTS.BID_RECEIVED,m)})},n=function(m,l){m=y[m]||[];for(var v=m.length||0,A=0;A<v;A++){var M=m[A];setTimeout(function(){M(l)},
0)}};this.UPONIT_EVENTS={BID_RECEIVED:1};this.COMPLIANCE_STATUSES={UNKNOWN:0,COMPLIANT:1,INCOMPLIANT:2,ERROR:3,PENDING:4};this.init=function(m){var l=m.prebidConfig,v=m.dfpConfig;m=l&&l.init;var A=v&&v.init;r=l&&l.enabled;f=v&&v.enabled;l={prebid:r,dfp:f};for(var M in l)if(l.hasOwnProperty(M)&&l[M]){v=nb.presetProvider(M);var Q=vb.postsetProvider(M);v&&ob.addPresetCallback(M,v);Q&&ob.addPostsetCallback(M,Q)}for(M in l)l.hasOwnProperty(M)&&l[M]&&ob.loadThirdParty(M);m&&d(m);A&&k(A);b()};var e=function(m){m&&
m.adUnit&&m.sizes&&m.slotElementId&&window.googletag.cmd.push(function(){var l=window.googletag.defineSlot(m.adUnit,m.sizes,m.slotElementId).addService(window.googletag.pubads());if(m.targeting)for(var v in m.targeting)m.targeting.hasOwnProperty(v)&&l.setTargeting(v,m.targeting[v])})},p=function(m){return!!D.find(window.uponit.slots,function(l){return l.unit.space.selector.value==m})};this.defineSlot=function(m,l){var v={};v.id="space_"+V.hashString(m.name+"_"+m.selector);v.id=v.id.substr(0,500);
v.name=m.name;v.sizes=m.sizes;v.selector={position:0,value:m.selector};if(m.prebid){v.preBiddingSettings={enabled:!0,biddingSettings:{}};v.preBiddingSettings.biddingSettings[1]=[];for(var A=0;A<m.prebid.bidders.length;A++){var M=m.prebid.bidders[A],Q="bidder_"+V.hashString(v.id+"_"+M.name+"_"+JSON.stringify(M.params).trim());Q=Q.substr(0,500);v.preBiddingSettings.biddingSettings[1].push({id:Q,name:M.name,testCompliance:!0,params:M.params})}}m.dfp&&(v.postBiddingSettings={adxId:m.name+"_adx",directId:m.name+
"_direct",enabled:!0,type:1,order:[{params:{keyValues:m.keyValues},adx:{bidderID:m.name+"_adx",testCompliance:!0},direct:{bidderID:m.name+"_direct",testCompliance:!0}},{params:{queryParams:{ad_type:"text"},keyValues:m.keyValues},adx:{bidderID:m.name+"_adx",testCompliance:!1},direct:{bidderID:m.name+"_direct",testCompliance:!0}}]});A=!!document.querySelector(v.selector.value);M=p(v.selector.value);if(A&&!M)return!f||l&&l.dfpSlotAlreadyDefined||e(m.dfp),m=new Ka.Space(v),l=document.querySelector(m.selector.value),
l.alreadyWraped||(sa.Hooks.hookFunction(l,"setAttribute",sa.Hooks.Types.SET_ATTRIBUTE_PRE,void 0,!0),l.alreadyWraped=!0),m=new Ka.Unit({element:l,space:m}),m=new Ka.Slot({unit:m}),window.uponit.slots.push(m),m};var d=function(m){x.addEventListener("prebidDoneInit",function(l){var v=(l=l.data)&&l.cpbjs;if(v){l={setConfig:function(Q){v.setConfig(Q)},aliasBidder:function(Q,ja){v.aliasBidder(Q,ja)},enableAnalytics:function(Q){v.enableAnalytics(Q)},bidderSettings:function(Q){v.bidderSettings=Q}};for(var A in m)if(m.hasOwnProperty(A)){var M=
m[A];l[A]&&l[A].apply(this,M)}}})},k=function(m){window.googletag.cmd.push(function(){window.googletag.pubads().disableInitialLoad()})};this.enableServices=function(){f&&(window.googletag=window.googletag||{cmd:[]},window.googletag.cmd.push(function(){window.googletag.enableServices()}))};this.fetchPrebid=function(m){return g(m)};var g=function(m){if(!r)return D.map(m,function(v){return Promise.resolve({slotName:v.unit.space.name,bids:[]})});var l=S(m);m=G.dispatchHB(l);return D.map(m,function(v){return v.then(function(A){var M=
A.auctionId,Q=D.find(l,function(N){return N.auctionId==M}),ja=A.bids;A=Q.unit.space.name;var F=ja;x.fireEvent("apiOnlyCompliantBids")&&(F=[],D.forEach(ja,function(N){N.complianceStatus==T.consts.complianceStatus.COMPLIANT&&F.push(N)}));Q.addBids(F);Q=c(F);return{slotName:A,bids:Q}})})};this.fetchDFP=function(m){return u(m)};var u=function(m){if(!f)return D.map(m,function(v){return Promise.resolve({slotName:v.unit.space.name,bids:[]})});var l=S(m);m={forceCompliantEnabled:x.fireEvent("forceCompliant")};
m=G.dispatchAS(l,m);return D.map(m,function(v){return v.then(function(A){var M=A.auctionId,Q=D.find(l,function(a){return a.auctionId==M}),ja=A.bids;A=Q.unit.space.name;var F=Q.getWinningBid();if(ja&&0<ja.length&&ja[0].type==Ka.Bid.Types.DFP_PREBID)return F&&F.additionalBidsToRender.push(ja[0]),{slotName:A,bids:[]};var N=ja;x.fireEvent("apiOnlyCompliantBids")&&(N=[],D.forEach(ja,function(a){a.complianceStatus==T.consts.complianceStatus.COMPLIANT&&N.push(a)}));Q.addBids(N);Q=c(N);return{slotName:A,
bids:Q}})})};this.renderBid=function(m,l){m.renderBid(l)};this.fetchAndRender=function(m){return H(m)};var H=function(m){return new Promise(function(l,v){m=m||window.uponit.slots;v=g(m);Promise.all(v).then(function(A){A=u(m);D.forEach(A,function(M){M.then(function(Q){var ja=Q.slotName;Q=D.find(window.uponit.slots,function(h){return h.unit.space.name==ja});for(var F=Q.getBids(),N,a=0;a<F.length;a++){var B=F[a];(!N||N.cpm<B.cpm)&&B.complianceStatus==T.consts.complianceStatus.COMPLIANT&&(N=B)}Q.renderBid(N)})});
Promise.all(A).then(function(){l()})})})};this.addEventListener=function(m,l){y[m]=y[m]||[];y[m].push(l)};var L=function(m){return D.find(m.auctionsList,function(l){return l.state!=Ka.Auction.States.DONE})},S=function(m){return D.map(m,function(l){var v=L(l);v||(v=new Ka.Auction({unit:l.unit}),l.auctionsList.push(v),x.fireEvent("onAuctionStarted",{auction:v}));return v})},c=function(m){return D.map(m,function(l){return{bidId:l.bidId,adId:l.adId,bidder:l.bidder,cpm:l.cpm,height:l.height,width:l.width,
size:l.size,complianceStatus:l.complianceStatus}})}};I.api=E})(Bb);var Cb={};(function(I){function E(q,w,J){(q=window.googletag.defineSlot(q,w,J))&&q.addService(window.googletag.pubads());return q}function G(q){var w=v.fireEvent("newGAMSlotsOnUnitCreation")||{},J=w.AD_UNIT_PATH_PREFIX,R=w.deriveDataFromUnitForSpaces,ea=w.slotDataBySpaceName;0<q.length&&(R||ea)&&window.googletag.cmd.push(function(){try{q.forEach(function(ia){var pa=ia.unitID,va=ia.element;ia=ia.space;var Oa=R&&R.includes(ia.name)&&
J,ta=ea&&ea[ia.name];if(Oa||ta){if(ta){var ua=ea[ia.name]||{};var Na=ua.adUnitPath;var Sa=ua.sizes;ua=ua.slotElementId}!Na&&J&&(Na=""+J+ia.name);Sa||(Sa=ia.sizes.map(function(Ta){return Ta.split("x").map(function(db){return parseInt(db,10)})}).filter(function(Ta){return 2===Ta.length&&!isNaN(Ta[0])&&!isNaN(Ta[1])}));ua||(va.id||va.setAttribute("id","bt-unit-"+pa),ua=va.id);Na&&Sa&&0<Sa.length&&ua&&E(Na,Sa,ua)}})}catch(ia){Q.errorf(null,"error defining new GAM slots on Unit creation",ia)}})}function x(q){if(q){var w=
v.fireEvent("rewriteGAMSlots")||v.fireEvent("GAMSpecialAdUnit");if(w&&w.parseSlotAdUnitPath&&!q._is_rewritten_slot){for(var J=q.getSlotElementId(),R=q.getSizes(),ea=[],ia=0;ia<R.length;ia++){var pa=R[ia];pa&&pa.getWidth&&pa.getHeight?ea.push([pa.getWidth(),pa.getHeight()]):pa&&"fluid"===pa&&ea.push("fluid")}R=ea;try{var va=w.parseSlotAdUnitPath(q);if(!w.shouldSkipDestroySlot||!w.shouldSkipDestroySlot(q,va)){var Oa=q.getSlotElementId();window.googletag.destroySlots([q]);var ta=document.getElementById(Oa),
ua=ta&&ta.querySelector("div[id^='google_ads_iframe_']");ta&&ua&&ta.removeChild(ua)}if(va){if(newSlot=E(va,R,J)){newSlot._is_rewritten_slot=!0;if(w.shouldCopyTargeting){J=newSlot;var Na=q.getTargetingMap(),Sa;for(Sa in Na)Na.hasOwnProperty(Sa)&&J.setTargeting(Sa,Na[Sa][0])}w.postSlotCreation&&w.postSlotCreation(newSlot)}return newSlot}}catch(Ta){Q.errorf(null,"error redefining GAM slot (e.g. for SAU or BT AdX unit)",Ta)}}}}function y(q,w){function J(ia){var pa=q.height+"px",va=q.width+"px",Oa=q.creativeHTML,
ta=document.createElement("div");ta.className="default-creative-container";ta.style.height=pa;ta.style.width=va;var ua=k.createSafeFrame();ua.className="default-creative-iframe";ua.setAttribute("scrolling","no");ua.setAttribute("marginwidth","0");ua.setAttribute("marginheight","0");ua.setAttribute("height",pa);ua.setAttribute("width",va);ta.appendChild(ua);ua.addEventListener("load",function(){try{var Na=wa.doesBrowserSupportDocOpen();if(g.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame){var Sa=
"if("+Na+") { document.open('text/html', 'replace'); } document.write(atob('"+btoa(Oa)+"')); document.close();";ua.contentWindow.postMessage({type:"eval",code:Sa},"*")}else{var Ta=ua.contentWindow.document;Na&&Ta.open("text/html","replace");Ta.write(Oa);Ta.close()}ea=!0;u.forEach(R,function(db){db()})}catch(db){Q.errorf(null,"auction: createDefaultCreativeBid: renderDefaultCreative: %o",db)}});ia.appendChild(ta)}var R=[],ea=!1;w={ad:q.creativeHTML,bidder:"default-creative",bidderId:"default-creative-"+
w.unit.space.name,bidderCode:"default-creative",width:q.width,height:q.height};return new H.Bid(w,w,H.Bid.Types.DEFAULT_CREATIVE,void 0,function(ia){J(ia.placement)},void 0,void 0,function(ia){ea?ia():R.push(ia)},void 0)}function r(){try{window.__tcfapi("addEventListener",0,function(q,w){!w||"useractioncomplete"!==q.eventStatus&&"tcloaded"!==q.eventStatus?w||(w="Unable to attach event listener. tcfapi does not adhere to IAB spec. listenerSuccess: "+(w+". "),q&&(w+="eventStatus: "+q.eventStatus+"."),
v.fireEvent("consentData",{error:{message:w}})):v.fireEvent("consentData",{tcData:q})})}catch(q){v.fireEvent("consentData",{error:q})}}function f(){var q=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return q?parseInt(q[2],10):!1}function b(q){var w=v.fireEvent("maxAmountOfUnitDispatches");return w?q.filter(function(J){return J.countOfDispatches<w}):q}function n(q,w){var J=g.upoSettings.minTimeBetweenRefreshes,R=v.fireEvent("minTimeBetweenRefreshes");isNaN(R)||"number"!=typeof R||(J=R);isNaN(w.minTimeBetweenRefreshes)||
"number"!=typeof w.minTimeBetweenRefreshes||(J=w.minTimeBetweenRefreshes);var ea=new Date;return q.filter(function(ia){if(!ia)return!1;var pa=!0;if(ia.lastInvokeTime){var va=ea.getTime()-ia.lastInvokeTime.getTime();va>J?Q.infof(null,"refreshing %o",ia.space.name):(pa=!1,Q.infof(null,"waiting %o secs before next refresh for %o",(J-va)/1E3,ia.space.name))}return pa})}function e(q){return q.filter(function(w){return!v.fireEvent("filterOutUnitToBeAuctioned",{unit:w})})}function p(q){var w=q.map(function(J){return J.element});
return q.filter(function(J,R){return w.indexOf(J.element)==R})}function d(q,w){return new Promise(function(J,R){w&&w.definedSlotsFilteringSettings&&(w.definedSlotsFilteringSettings.dfpEnabled||w.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots)?window.googletag.cmd.push(function(){var ea=window.googletag.pubads().getSlots(),ia=[];q.forEach(function(pa){w.definedSlotsFilteringSettings.alwaysFilterByGoogletagSlots||pa.space.postBiddingSettings.enabled?ea.forEach(function(va){va.getSlotElementId()===
pa.element.getAttribute("id")&&ia.push(pa)}):ia.push(pa)});J(ia)}):J(q)})}var k=ub,g=T,u=D,H=Ka,L=function(q){try{var w=function(ta){return ta[0]+"x"+ta[1]},J=function(ta){return 2===ta.length&&ta.every(function(ua){return!Array.isArray(ua)&&!isNaN(ua)})},R={},ea=q.selector||wa.escapeSelector("#"+q.code),ia=q.sizes;ia||q.mediaTypes&&q.mediaTypes.banner&&q.mediaTypes.banner.sizes&&(ia=q.mediaTypes.banner.sizes);if(ia){var pa=J(ia)?[w(ia)]:ia.filter(J).map(w);R.id=q.id;R.id||(R.id="space_"+V.hashString(q.code+
"_"+ea));R.id=R.id.substr(0,500);R.name=q.code;R.sizes=pa;R.selector={position:0,value:ea};if(q.bids)for(R.preBiddingSettings={enabled:!0,biddingSettings:[]},R.preBiddingSettings.biddingSettings[1]=[],w=0;w<q.bids.length;w++){var va=q.bids[w];va.params=va.params||{};var Oa="bidder_"+V.hashString(R.id+"_"+va.bidder+"_"+JSON.stringify(va.params).trim());Oa=Oa.substr(0,500);R.preBiddingSettings.biddingSettings[1].push({id:Oa,testCompliance:!0,name:va.bidder,params:va.params})}else R.preBiddingSettings=
{enabled:!1};R.postBiddingSettings=M.dfpEnabled?{adxId:R.name+"_adx",directId:R.name+"_direct",enabled:!0,type:1,order:[{params:{},adx:{bidderID:R.name+"_adx",testCompliance:!0},direct:{bidderID:R.name+"_direct",testCompliance:!0}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:R.name+"_adx",testCompliance:!1},direct:{bidderID:R.name+"_direct",testCompliance:!0}}]}:{enabled:!1};return R}}catch(ta){Q.errorf(null,"adUnitParser - error in parsing prebid ad unit - err: %o",ta)}},S=new function(){var q=
ca.CustomEvents;this.init=function(){q.addEventListener("onAuctionGroupStarted",function(w){Q.infof(null,"onAuctionGroupStarted: %o",w)});q.addEventListener("onAuctionGroupEnded",function(w){Q.infof(null,"onAuctionGroupEnded: %o",w)});q.addEventListener("onAuctionStarted",function(w){Q.infof(null,"onAuctionStarted: %o",w)});q.addEventListener("onAuctionEnded",function(w){Q.infof(null,"onAuctionEnded: %o",w)});q.addEventListener("onPrebiddingStarted",function(w){Q.infof(null,"onPrebiddingStarted: %o",
w)});q.addEventListener("onPrebiddingEnded",function(w){Q.infof(null,"onPrebiddingEnded: %o",w)});q.addEventListener("onPostbiddingStarted",function(w){Q.infof(null,"onPostbiddingStarted: %o",w)});q.addEventListener("onPostbiddingEnded",function(w){Q.infof(null,"onPostbiddingEnded: %o",w)});q.addEventListener("onAuctionBidResponse",function(w){Q.infof(null,"onAuctionBidResponse: %o",w)});q.addEventListener("onNewUnitFound",function(w){Q.infof(null,"onNewUnitFound: %o",w)})}};window.__upo_d=window.__upo_d||
{};window.__upo_d.v="v2";window.__bt_intrnl=window.__bt_intrnl||{};window.googletag=window.googletag||{};window.googletag.cmd=window.googletag.cmd||[];var c={"contentEnabled":true,"mobileContentEnabled":true,"dfpEnabled":true,"spaces":{}},m=c.spaces||{},l=g.upoSettings.staticDomain;if(0<=window.location.href.indexOf("bt_debug=true")||"true"==window.localStorage.getItem("bt_debug"))c.dfpEnabled="true"==localStorage.getItem("forceGAM")?!0:c.dfpEnabled,c.mobileContentEnabled="true"==localStorage.getItem("forceMobileContent")?!0:c.mobileContentEnabled,c.contentEnabled=
"true"==localStorage.getItem("forceContent")?!0:c.contentEnabled;var v=ca.CustomEvents,A,M={websiteData:c,scriptSettings:fb.settings,apiDomain:"api.btloader.com",staticDomain:l,websiteID:"5763266364047360",organizationID:"5714937848528896",dfpEnabled:c.dfpEnabled,prebidEnabled:!1,mobileContentEnabled:c.mobileContentEnabled,contentEnabled:c.contentEnabled};window.__upo_d.websiteConfig=function(){return{websiteData:M.websiteData,scriptSettings:M.scriptSettings,apiDomain:M.apiDomain,websiteID:M.websiteID,
staticDomain:M.staticDomain,organizationID:M.organizationID,dfpEnabled:M.dfpEnabled,prebidEnabled:M.prebidEnabled,mobileContentEnabled:M.mobileContentEnabled,contentEnabled:M.contentEnabled}};g.SharedObject.setItem("websiteConfig",M);var Q=ra.new();Q.setPrefix("main: ");Q.setLevel(ra.INFO);var ja=function(){try{var q=ra.new();q.setPrefix("hook: ");q.setLevel(ra.DEBUG);window.eval.call(window,"(function (CustomEvents, websiteConfig, lg) {\n"+atob("LyoKICAgICMgY2hhbmdlbG9nCgogICAgIyMgNC8yMy8yMDIwCiAgICAqIFtkaW9nb10gLSBhZGRlZCBndWFyZEVsZW1lbnRXZWJzaXRlSG9vayB0byBwcmV2ZW50IGdvb2dsZV9hZCBjb250YWluZXJzIGZyb20gYmVpbmcgY2xlYXJlZAogICAgKiBbZGlvZ29dIC0gdXBkYXRlZCByZW1vdmVTaXplc0RmcENvbmZpZyB0byByZW1vdmUgbm9uLWNvbXBsaWFudCBzaXplcwogICAgKiBbZGlvZ29dIC0gYWRkZWQgb25BdWN0aW9uRW5kZWRXZWJzaXRlSG9vayB0byBoaWRlIHBhcmVudCBlbGVtZW50cyB3aGVuIHVuaXQgaGFzIG5vIGJpZHMKICAgICMjIDUvMDEvMjAyMAogICAgKiBbS2VuZGFsbF0gLSBBZGRlZCBzY2hhaW4gY29uZmlnIGludG8gcHJlYmlkLiBBbHNvIHVwZGF0ZWQgdG8gbGF0ZXN0IHZlcnNpb24gb2YgUHJlYmlkIDIueCAoMi40NC44KQogICAgIyMgNS8wNi8yMDIwCiAgICAqIFtkaW9nb10gLSByZXNldHRpbmcgWE1MSHR0cFJlcXVlc3Qgb2JqIGZvciBpbm5lcnN0cmVuZ3RoLnpvbmUKICAgICogW2Rpb2dvXSAtIGR5bmFtaWNhbGx5IHNjcmFwcGluZyBhZC11bml0cwogICAgKiBbZGlvZ29dIC0gYWRkZWQgb25BdWN0aW9uUmVuZGVyZWRXZWJzaXRlSG9vayBob29rIGZvciBvbnR2dG9uaWdodC5jb20KICAgICogW2Rpb2dvXSAtIHJlbW92ZWQgZ3VtZ3VtIGJpZGRlciBmcm9tIGFkaGVzaW9uL3N0aWNreSBhZC11bml0cwogICAgIyMgNS8yMi8yMDIwCiAgICAqIFtsYXdyZW5jZV0gLSByZW1vdmUgZmxvYXRVcG9MYWJlbCBob29rICYgY3VzdG9tIHVwby1sYWJlbCBzdHlsZSBjb2RlIChpcyBub3cgZ2xvYmFsIGRlZmF1bHQpCiAgICAjIyA2LzE4LzIwMjAKICAgICogW3l1aGVdIC0gT25ib2FyZCBhbGphemVlcmEuY29tIC0gc3R5bGUgZml4ZXMsIHJlbW92ZSBub24tQUFDIGNvbXBsaWFudCB0cmlwbGVsaWZ0IGJpZHMsIHJlbW92ZSBtb2JpbGUgZGZwIGFkIHNpemVzCiAgICAjIyA2LzI1LzIwMjAKICAgICogW3l1aGVdIC0gIERpc2FibGUgaW5jb250ZW50IHVuaXRzIG9uIGxzZS5jby51ayBbQU0tNTIyXQogICAgIyMgNy8xMC8yMDIwCiAgICAqIFtrZW5kYWxsXSAtICBEaXNhYmxlIHNoYXJldGhyb3VnaCBvbiBzdG9ja3R3aXRzCiAgICAjIyA3LzE2LzIwMjAKICAgICogW3l1aGVdIC0gRml4IFNQQSBuYXZpZ2F0aW9uIGJlaGF2aW9yIGZvciByYWlkZXIuaW8KICAgICMjIDcvMjEvMjAyMAogICAgKiBbeXVoZV0gLSByZW1vdmUgYWRoZXNpb24gYWQgdW5pdHMgZm9yIHNvbnlhbHBoYXJ1bW9ycyBhbmQgZnVqaXJ1bW9ycyBbQU0tNTQxXQogICAgIyMgNy8yMi8yMDIwCiAgICAqIFt5dWhlXSAtIHJlbW92ZSBvdmVybGF5aW5nIGFuZCBpbi1jb250ZW50IGFkIHVuaXRzLCBhbmQgY29sbGFwc2UgaW4tY29udGVudCBkaXZzIFtBTS01ODhdCiAgICAjIyAyOS8xMC8yMDIwCiAgICAqIFthcnNoYWFuXSAtIGRpc2FibGVkIHRyaXBsZWxpZnQgZm9yIGEgc2l0ZSBhbmQgc2hhcmV0aHJvdWdoIGZvciBhbm90aGVyIHNpdGUgW0FNLTg0MV0uCiAgICAjIyAyMC8xMS8yMDIwCiAgICAqIFthcnNoYWFuXSAtIGRpc2FibGVkIHNoYXJldGhyb3VnaCBmb3IgYSBzaXRlIFtBTS04ODldLgogICAgIyMgMDEvMjMvMjAyMQogICAgKiBbbWFyaWlhXSAtIGRpc2FibGUgbm9uLWNvbXBsaWFudCBhZCB1bml0cyBbQU0tMTA0OF0gW0FNLTEwMzVdIFtBTS0xMDM0XSBbQU0tMTAzM10gW0FNLTEwMzBdIFtBTS0xMDI3XSBbQU0tMTAyNl0gW0FNLTEwMThdIFtBTS0xMDE1XQogICAgIyMgMDEvMjMvMjAyMQogICAgKiBbbWFyaWlhXSAtIGRpc2FibGUgbm9uLWNvbXBsaWFudCBhZCB1bml0cyBbQU0tMTExOF0gW0FNLTExMTRdIFtBTS0xMDk0XSBbQU0tMTExNl0KICAgICMjIDAzLzAxLzIwMjEKICAgICogW2Fyc2hhYW5dIC0gU0NoYWluIGlzIG5vdyBzZXQgdXAgd2l0aCBhIGhvb2suCiovCgp2YXIgaXNTaXRlID0gZnVuY3Rpb24gKHNpdGUpIHsKICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lLmluZGV4T2Yoc2l0ZSkgPiAtMTsKfTsKCmZ1bmN0aW9uIGlzU2l0ZU9uZU9mKHNpdGVBcnIpIHsKICByZXR1cm4gc2l0ZUFyci5zb21lKGZ1bmN0aW9uIChzaXRlKSB7CiAgICByZXR1cm4gaXNTaXRlKHNpdGUpOwogIH0pOwp9CgppZiAoaXNTaXRlKCd1c2NyZWRpdGNhcmRndWlkZS5jb20nKSkgewogIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9CiAgICAnI3VzY3JlZGl0Y2FyZGd1aWRlXzMwMHgyNTBfcmlnaHQyLnVwLXNob3csICN1c2NyZWRpdGNhcmRndWlkZV8zMDB4MjUwX3JpZ2h0My51cC1zaG93LCAjdXNjcmVkaXRjYXJkZ3VpZGVfMzAweDI1MF9SaWdodDEudXAtc2hvdyB7IG1heC13aWR0aDogMzAwcHggIWltcG9ydGFudDsgfSBkaXZbaWQqPSJpbmxpc3QiXS51cC1zaG93IHsgbWFyZ2luOiA0MHB4IGF1dG8gMjBweCAhaW1wb3J0YW50OyB9JzsKICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKfSBlbHNlIGlmIChpc1NpdGUoJ3dvcmxkb21ldGVycy5pbmZvJykpIHsKICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnLmFkc2J5Z29vZ2xlIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JzsKICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKfSBlbHNlIGlmIChpc1NpdGUoJ2NvcmRjdXR0ZXJzbmV3cy5jb20nKSkgewogIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9CiAgICAnI2NvcmRjdXR0ZXJuZXdzXzcyOHg5MF8zMjB4NTBfQVRGLnVwLXNob3cgeyBtYXgtd2lkdGg6IGluaGVyaXQgIWltcG9ydGFudDsgfSBkaXZbaWQqPSJEeW5hbWljQWRzIl0udXAtc2hvdyA+IC5haG92ZXIgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDsgfSc7CiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCdib2luZ2JvaW5nLm5ldCcpKSB7CiAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0KICAgICcjYm9pbmdib2luZ185NzB4OTBfNzI4eDkwXzMyMHg1MF9QdXNoZG93biB7IG1hcmdpbjogYXV0byAhaW1wb3J0YW50OyB9JzsKICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKfSBlbHNlIGlmIChpc1NpdGUoJ3Bob3RvZ3JhcGh5bGlmZS5jb20nKSkgewogIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9CiAgICAnI1Bob3RvZ3JhcGh5TGlmZV83Mjh4OTBfMzIweDUwX0R5bmFtaWMxLnVwLXNob3cgeyBtYXgtd2lkdGg6IGluaGVyaXQgIWltcG9ydGFudDsgfSc7CiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCd0ZW5uaXN3b3JsZHVzYS5vcmcnKSkgewogIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9CiAgICAnZGl2W2lkXj0iYWRfMzAweCJdLnVwLXNob3cgKyBkaXYsIGRpdltpZF49ImFkXzMwMHgiXS51cC1oaWRlICsgZGl2IHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9JzsKICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKfSBlbHNlIGlmIChpc1NpdGUoJ2V2ZW50aHVicy5jb20nKSkgewogIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9CiAgICAnZGl2W2lkKj0iRHluYW1pY0FkcyJdLnVwLXNob3cgPiAuYWhvdmVyLCBkaXZbaWQqPSJEeW5hbWljQWRzIl0udXAtc2hvdyA+IGRpdltpZF49Imdvb2dsZV9hZHNfaWZyYW1lIl0geyBkaXNwbGF5OiBpbmxpbmUtYmxvY2sgIWltcG9ydGFudDsgfSc7CiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCdtZWV0bWUuY29tJykpIHsKICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnLmFkLXVuaXQ6YmVmb3JlIHsgYm9yZGVyOiBub25lICFpbXBvcnRhbnQ7IH0nOwogIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwp9IGVsc2UgaWYgKGlzU2l0ZSgnaWxvdmVteWRvZ3NvbXVjaC50dicpKSB7CiAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0KICAgICcjaWxvdmVteWRvZ3NvbXVjaF8zMjB4NTBfdG9wLnVwLXNob3cgfiBkaXYuYmFubmVyX2NvbnRhaW5lciB7IG1hcmdpbi10b3A6IDEyMHB4ICFpbXBvcnRhbnQ7IH0nOwogIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9IHN0eWxlRWxlbWVudC50ZXh0Q29udGVudC5jb25jYXQoCiAgICAnICNpbG92ZW15ZG9nc29tdWNoXzMyMHg1MF90b3AudXAtc2hvdyB7IHBvc2l0aW9uOiByZWxhdGl2ZSAhaW1wb3J0YW50OyB9JwogICk7CiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCdhbGphemVlcmEuY29tJykpIHsKICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPQogICAgJyNhbGphemVlcmFfbGVhZGVyYm9hcmRfYXRmLnVwLXNob3cgaWZyYW1lIHsgbWFyZ2luLXRvcDogMHB4ICFpbXBvcnRhbnQ7IH0nOwogIChkb2N1bWVudC5oZWFkIHx8IGRvY3VtZW50LmJvZHkgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChzdHlsZUVsZW1lbnQpOwp9IGVsc2UgaWYgKGlzU2l0ZSgnZXNzZW5jZS5jb20nKSkgewogIC8vIEhpZGUgZGlzYWJsZWQgYWQgdW5pdCBjb250YWluZXIgW0FNLTQ5OV0KICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSAnI2Vzc2VuY2VfaW5jb250ZW50IHsgZGlzcGxheTogbm9uZTsgfSc7CiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCdjb21tZXJjaWFsb2JzZXJ2ZXIuY29tJykpIHsKICAvLyBIaWRlIGRpc2FibGVkIGFkIHVuaXQgY29udGFpbmVyIFtBTS00OTldCiAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gJyNjb21tZXJjaWFsb2JzZXJ2ZXJfMzAweDI1MF9pbmNvbnRlbnQgeyBkaXNwbGF5OiBub25lOyB9JzsKICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKfSBlbHNlIGlmIChpc1NpdGUoJ2xzZS5jby51aycpKSB7CiAgLy8gSGlkZSBkaXNhYmxlZCBhZCB1bml0IGNvbnRhaW5lciBbQU0tNTIyXQogIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9ICcjbHNlY291a19pbmNvbnRlbnRfMywgI2xzZWNvdWtfbGVhZGVyYm9hcmRfbWlkIHsgZGlzcGxheTogbm9uZTsgfSc7CiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCdncmVhdHNjaG9vbHMub3JnJykpIHsKICAvLyBIaWRlIGdvb2dsZXRhZyBkaXYgKEdBTSBpcyBkaXNhYmxlZCkgKyB0aGVpciBgZG5gIGNsYXNzIGhpZGRpbmcgb3VyIGFkIHVuaXQgW0FNLTU1MV0KICB2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsKICBzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPQogICAgJy5haG92ZXIgKyBbaWRePSJnb29nbGVfYWQiXXsgd2lkdGg6IDFweCAhaW1wb3J0YW50OyBoZWlnaHQ6MXB4ICFpbXBvcnRhbnQ7IGRpc3BsYXk6IGdyaWQgIWltcG9ydGFudDsgfSc7CiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCdrb21hbmRvLmNvbScpKSB7CiAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gJy5wb3N0LWJvZHkgLmFkLWluLWNvbnRlbnQtd3JhcHBlciB7IGRpc3BsYXk6IG5vbmUgfSc7CiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCdwYW56b2lkLmNvbScpKSB7CiAgLy8gSGlkZSBkaXNhYmxlZCBhZCB1bml0IGNvbnRhaW5lciBbQU0tNjc2XQogIHZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwogIHN0eWxlRWxlbWVudC50ZXh0Q29udGVudCA9CiAgICAnI1BhbnpvaWRfZGlzY3Vzc2lvbnBvc3RfNzI4eDkwXzQ2OHg2MF8zMjB4NTBfMzAweDc1IHsgZGlzcGxheTogbm9uZTsgfSc7CiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCdjYW1lbGNhbWVsY2FtZWwuY29tJykpIHsKICAvLyBIaWRlIGRpc2FibGVkIGFkIHVuaXQgY29udGFpbmVyIFtBTS02OTJdCiAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0gJyNjYW1lbGNhbWVsY2FtZWxfaW5jb250ZW50IHsgZGlzcGxheTogbm9uZTsgfSc7CiAgKGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7Cn0gZWxzZSBpZiAoaXNTaXRlKCd0b2xseXBpY3MuY29tJykpIHsKICAvLyBIaWRlIGRpc2FibGVkIGFkIHVuaXQgY29udGFpbmVyIFtBTS02OTJdCiAgdmFyIHN0eWxlRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7CiAgc3R5bGVFbGVtZW50LnRleHRDb250ZW50ID0KICAgICcjdG9sbHlwaWNzX2xlYWRlcmJvYXJkX2F0Zl8xIF9fZnMtYW5jaWxsYXJ5IHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9ICN0b2xseXBpY3NfbGVhZGVyYm9hcmRfYXRmXzEgLmFob3ZlcitbaWQqPSJnb29nbGVfYWRzX2lmcmFtZSJdIHsgZGlzcGxheTogZ3JpZCAhaW1wb3J0YW50OyB9JzsKICAoZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKfQoKdmFyIHN0eWxlUnVsZXMgPSBbCiAgJyNmcy1zdGlja3ktYnJhbmRpbmctZWxtLCAudXAtc2hvdyA+IC5mcy1icmFuZGluZy1lbG0geyBkaXNwbGF5OiBub25lICFpbXBvcnRhbnQ7IH0nLAoKICAvLyBBZCBjb250YWluZXIgKC5haG92ZXIgb3IgI2dvb2dsZV9hZHNfaWZyYW1lXy8uLi4gZGl2KSBoYXMgdGhlaXIgc3R5bGVzIHdlIHNldCBlcmFzZWQgZm9yIGZvb3RlciB1bml0cywgbmVlZCB0aGlzIHN0eWxlIHRvIGNlbnRlciB0aGUgYWQgbGFiZWwpCiAgJy51cC1zaG93ID4gLmFob3ZlciwgLnVwLXNob3cgPiBbaWRePSJnb29nbGVfYWRzX2lmcmFtZV8iXSB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfScsCgogIC8vIEVuc3VyZSBpZiBIQiB3aW5zIGFuZCBHQU0gaXMgZW5hYmxlZCwgdGhhdCB0aGUgMXgxIEdBTSBhZCBpZnJhbWUgd2UgcmVuZGVyIHVuZGVybmVhdGggdGhlIEhCIGFkIGNyZWF0aXZlIGRvZXNuJ3QgYWRkIGV4dHJhIHNwYWNlIHRvIHRoZSBmb290ZXIgW0FNLTQ5OV0KICAvLyAoRm9yIGFuIGV4cGxhbmF0aW9uIG9uIHdoeSB3ZSByZW5kZXIgdGhpcyAxeDEgaWZyYW1lIC0gc2VlIGByZWNvdmVyeS5qc2AgbGluZSA4MzEgKHdoZXJlIHdlIHByb2Nlc3MgdGhlIEFkIFNlcnZlciAoR0FNKSBhdWN0aW9uIHJlc3BvbnNlcykpCiAgJyNzbG90LWZvb3Rlci13cmFwcGVyIHsgaGVpZ2h0OiBhdXRvOyBsaW5lLWhlaWdodDogMXB4IH0nLApdLmpvaW4oJyAnKTsKCnZhciBzdHlsZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOwpzdHlsZUVsZW1lbnQudGV4dENvbnRlbnQgPSBzdHlsZVJ1bGVzOwooZG9jdW1lbnQuaGVhZCB8fCBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTsKCnZhciBzaG91bGRGaWx0ZXJPdXRVbml0OwoKLy8gbG9naWMgc3BlY2lmaWMgcGVyIHdlYnNpdGUKc3dpdGNoICh3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUpIHsKICBjYXNlICd3d3cuZ3JlYXRzY2hvb2xzLm9yZyc6CiAgICBzaG91bGRGaWx0ZXJPdXRVbml0ID0gZnVuY3Rpb24gKHVuaXQpIHsKICAgICAgdmFyIGNvbnRlbnQxID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YXRpYy1jb250YWluZXIgPiAuY29udGVudCcpOwogICAgICB2YXIgY29udGVudDIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdhcnRpY2xlI21haW4nKTsKCiAgICAgIGlmICgKICAgICAgICAoY29udGVudDEgJiYgY29udGVudDEuY29udGFpbnModW5pdC5lbGVtZW50KSkgfHwKICAgICAgICAoY29udGVudDIgJiYgY29udGVudDIuY29udGFpbnModW5pdC5lbGVtZW50KSkKICAgICAgKSB7CiAgICAgICAgdW5pdC5lbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnLCAnaW1wb3J0YW50Jyk7IC8vIGNvbGxhcHNlIHRoZSBlbGVtZW50CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH07CiAgICBicmVhazsKfQoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2ZpbHRlck91dFVuaXRUb0JlQXVjdGlvbmVkJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgaWYgKHNob3VsZEZpbHRlck91dFVuaXQpIHsKICAgIHZhciB1bml0ID0gZXZlbnQuZGF0YS51bml0OwogICAgcmV0dXJuIHNob3VsZEZpbHRlck91dFVuaXQodW5pdCk7CiAgfQp9KTsKCnZhciBwYXJzZUFkVW5pdCA9IGZ1bmN0aW9uIChhZFVuaXQpIHsKICB2YXIgY29kZVBhcnRzID0gYWRVbml0LmNvZGUgJiYgYWRVbml0LmNvZGUuc3BsaXQoJy8nKTsKICBhZFVuaXQuY29kZSA9IGNvZGVQYXJ0c1tjb2RlUGFydHMubGVuZ3RoIC0gMV07CgogIGFkVW5pdC5zZWxlY3RvciA9ICdbaWQ9IicgKyBhZFVuaXQuY29kZSArICciXSc7CgogIC8vIFJlbW92ZSAzbGlmdCBtb2JpbGUgYmlkZGVyIHdoZW4gcnVubmluZyB0aGUgc2NyaXB0IGluIGEgZGVza3RvcCBicm93c2VyCiAgaWYgKGFkVW5pdC5iaWRzICYmICF3aW5kb3dbJ19fdXBvX2QnXVsnaXNNb2JpbGUnXSkgewogICAgYWRVbml0LmJpZHMgPSBhZFVuaXQuYmlkcy5maWx0ZXIoZnVuY3Rpb24gKGJpZFNldHRpbmdzKSB7CiAgICAgIHJldHVybiAhKAogICAgICAgIGJpZFNldHRpbmdzLnBhcmFtcyAmJgogICAgICAgIGJpZFNldHRpbmdzLnBhcmFtcy5pbnZlbnRvcnlDb2RlICYmCiAgICAgICAgYmlkU2V0dGluZ3MucGFyYW1zLmludmVudG9yeUNvZGUuaW5kZXhPZignbW9iaWxlJykgIT09IC0xCiAgICAgICk7CiAgICB9KTsKICB9CgogIC8vIFtBTS01NTFdIC0gUmVtb3ZlIGJpZHMgd2l0aCA5NzB4MjUwIHNpemUgaW5uZXIgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBhZFVuaXQgLSBvbmx5IGZvciBzaGFyZXRocm91Z2ggYW5kIHRyaXBsZWxpZnQgYmlkcwogIGFkVW5pdCA9IHJlbW92ZVNoYXJldGhyb3VnaEFuZFRyaXBsZWxpZnQ5NzB4MjUwQmlkcyhhZFVuaXQpOwoKICAvLyBSZW1vdmUgc2hhcmV0aHJvdWdoIGJpZHMgb24gY2VydGFpbiBzaXRlcy9hZCB1bml0cwogIC8vIChzb21lIG9mIHRoZSBjcmVhdGl2ZXMgcmV0dXJuZWQgYXJlIHBhc3NiYWNrcyB0aGF0IHJlbmRlciBhZHMgb2YgdW5jb250cm9sbGFibGUgc2l6ZXMgb3V0c2lkZSB0aGUgYWQgdW5pdCBpZnJhbWUpCiAgaWYgKAogICAgaXNTaXRlKCdzdG9ja3R3aXRzLmNvbScpIHx8CiAgICAoaXNTaXRlKCdjYW5vbnJ1bW9ycy5jb20nKSAmJiBhZFVuaXQuY29kZSA9PT0gJ2Nhbm9ucnVtb3JzX2xlYWRlcmJvYXJkX2F0ZicpIHx8IC8vIFtBTS03MDhdCiAgICAoaXNTaXRlKCdsY3BkZnIuY29tJykgJiYgYWRVbml0LmNvZGUgPT09ICdsY3BkZnJfNzI4eDkwXzk3MHg5MF85NzB4MjUwXzMyMHg1MF9BVEYnKSB8fCAvLyBbQU0tNzM4XQogICAgKGlzU2l0ZSgnYmFzZWJhbGwtYWxtYW5hYy5jb20nKSAmJiBhZFVuaXQuY29kZSA9PT0gJ0Jhc2ViYWxsYWxtYW5hY19sZWFkZXJib2FyZF9BVEYnKSB8fCAvLyBbQU0tNzM5XQogICAgKGlzU2l0ZSgndHZzZXJpZXNmaW5hbGUuY29tJykgJiYKICAgICAgYWRVbml0LmNvZGUgPT09ICdUVlNlcmllc0ZpbmFsZV85NzB4MjUwXzk3MHg5MF83Mjh4OTBfMzIweDUwX0FURl9Ib21lcGFnZScpIHx8CiAgICBpc1NpdGUoJ2hhYmxhbW9zZGVnYW1lcnMuY29tJykKICApIHsKICAgIGlmIChhZFVuaXQgJiYgYWRVbml0LmJpZHMpIHsKICAgICAgYWRVbml0LmJpZHMgPSBhZFVuaXQuYmlkcy5maWx0ZXIoZnVuY3Rpb24gKGJpZCkgewogICAgICAgIHJldHVybiBiaWQuYmlkZGVyICE9PSAnc2hhcmV0aHJvdWdoJzsKICAgICAgfSk7CiAgICB9CiAgfSBlbHNlIGlmIChpc1NpdGUoJ3JpZGRsZXMuY29tJykgJiYgYWRVbml0LmNvZGUgPT09ICdyaWRkbGVzXzk3MHg5MF83Mjh4OTBfQVRGJykgewogICAgaWYgKGFkVW5pdCAmJiBhZFVuaXQuYmlkcykgewogICAgICBhZFVuaXQuYmlkcyA9IGFkVW5pdC5iaWRzLmZpbHRlcihmdW5jdGlvbiAoYmlkKSB7CiAgICAgICAgcmV0dXJuIGJpZC5iaWRkZXIgIT09ICd0cmlwbGVsaWZ0JzsKICAgICAgfSk7CiAgICB9CiAgfQoKICAvLyBSZW1vdmUgZ3VtZ3VtIGJpZGRlciBmcm9tIGFkaGVzaW9uL3N0aWNreSBhZC11bml0cwogIHRyeSB7CiAgICBpZiAoCiAgICAgIGFkVW5pdC5jb2RlLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJ19hZGhlc2lvbicpIHx8CiAgICAgIGFkVW5pdC5jb2RlLnRvTG93ZXJDYXNlKCkuZW5kc1dpdGgoJ19zdGlja3knKQogICAgKSB7CiAgICAgIGFkVW5pdC5iaWRzID0gYWRVbml0LmJpZHMuZmlsdGVyKGZ1bmN0aW9uIChiaWQpIHsKICAgICAgICByZXR1cm4gYmlkLmJpZGRlciAhPT0gJ2d1bWd1bSc7CiAgICAgIH0pOwogICAgfQogIH0gY2F0Y2ggKGUpIHsKICAgIGxnLmVycm9yZihudWxsLCAnZXJyb3IgcmVtb3ZpbmcgZ3VtZ3VtIGJpZGRlcjogJW8nLCBlKTsKICB9CgogIHJldHVybiBhZFVuaXQ7Cn07CgovLyBbQU0tNTUxXSAtIFJlbW92ZSBiaWRzIHdpdGggOTcweDI1MCBzaXplIGlubmVyIGNvbmZpZ3VyYXRpb24gZnJvbSB0aGUgYWRVbml0IC0gb25seSBmb3Igc2hhcmV0aHJvdWdoIGFuZCB0cmlwbGVsaWZ0IGJpZHMKdmFyIHJlbW92ZVNoYXJldGhyb3VnaEFuZFRyaXBsZWxpZnQ5NzB4MjUwQmlkcyA9IGZ1bmN0aW9uIChhZFVuaXQpIHsKICB0cnkgewogICAgdmFyIGJpZGRlcnMgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWRVbml0LmJpZHMubGVuZ3RoOyBpKyspIHsKICAgICAgdmFyIGJpZCA9IGFkVW5pdC5iaWRzW2ldOwogICAgICBpZiAoCiAgICAgICAgKGJpZC5iaWRkZXIgPT09ICd0cmlwbGVsaWZ0JyB8fCBiaWQuYmlkZGVyID09PSAnc2hhcmV0aHJvdWdoJykgJiYKICAgICAgICBiaWQuc2l6ZSAmJgogICAgICAgIGJpZC5zaXplWzBdICYmCiAgICAgICAgYmlkLnNpemVbMF1bMF0gPT09IDk3MCAmJgogICAgICAgIGJpZC5zaXplWzBdWzFdID09PSAyNTAKICAgICAgKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgYmlkZGVycy5wdXNoKGJpZCk7CiAgICB9CiAgICBhZFVuaXQuYmlkcyA9IGJpZGRlcnM7CiAgfSBjYXRjaCAoZSkgewogICAgbGcuZXJyb3JmKG51bGwsICdlcnJvciByZW1vdmluZyBiaWQgZnJvbSBhZCB1bml0OiAlbycsIGUpOwogIH0KICByZXR1cm4gYWRVbml0Owp9OwoKdmFyIHdlYnNpdGVIb29rRmlsdGVyT3V0QWRVbml0OyAvLyBkZWNsYXJlZCBoZXJlLCBhbmQgZGVmaW5lZCBpbiBhIEZyZWVzdGFyIHdlYnNpdGUgaG9vayBmaWxlIGlmIGRlc2lyZWQKZnVuY3Rpb24gZmlsdGVyT3V0QWRVbml0KGFkVW5pdCkgewogIC8vIEZpbHRlciBvdXQgYWQgdW5pdCBpZiB0aGlzIGZ1bmN0aW9uIGlzIGRlZmluZWQgaW4gYSBGcmVlc3RhciB3ZWJzaXRlIGhvb2sgZmlsZSAodG8gYXZvaWQgYWRkaW5nIHRoYXQgbG9naWMgaGVyZSBhbmQgZ3Jvd2luZyB0aGUgb3JnIGhvb2sgZmlsZSkKICBpZiAod2Vic2l0ZUhvb2tGaWx0ZXJPdXRBZFVuaXQpIHsKICAgIHJldHVybiB3ZWJzaXRlSG9va0ZpbHRlck91dEFkVW5pdChhZFVuaXQpOwogIH0KICAvLyBCbGFjayBsaXN0IHVuaXRzIHRvIHJlbW92ZSBmcm9tIGF1Y3Rpb25zCiAgaWYgKGlzU2l0ZSgnYmFja2NoaW5hLmNvbScpICYmIGFkVW5pdC5jb2RlID09PSAnYmFja2NoaW5hXzMwMHgyNTBfQVRGX0wnKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLy8gQUEgVmlvbGF0aW9uIC0gRGlzYWJsZSBkeW5hbWljYWxseSBnZW5lcmF0ZWQgaW4tY29udGVudCBhZCB1bml0cyBbQU0tNDUyXQogIGlmICgKICAgIGlzU2l0ZSgnYmxlZXBpbmdjb21wdXRlci5jb20nKSAmJgogICAgYWRVbml0LmNvZGUuaW5kZXhPZignYmxlZXBpbmdjb21wdXRlcl83Mjh4OTBfMzAweDI1MF9fMzIweDEwMF8zMjB4NTBfZHluYW1pYycpID4gLTEKICApIHsKICAgIHJldHVybiB0cnVlOwogIH0KICAvLyBEaXNhYmxlIGluLWNvbnRlbnQgYWQgdW5pdCBbQU0tNDk2XQogIGlmIChpc1NpdGUoJ3RlY21pbnQuY29tJykgJiYgYWRVbml0LmNvZGUgPT09ICd0ZWNtaW50X2luY29udGVudCcpIHsKICAgIHJldHVybiB0cnVlOwogIH0KICAvLyBEaXNhYmxlIG5vbi1jb21wbGlhbnQgYWQgdW5pdHMgW0FNLTQ5OV0KICBpZiAoCiAgICBpc1NpdGUoJ2Vzc2VuY2UuY29tJykgJiYKICAgIChhZFVuaXQuY29kZSA9PT0gJ2Vzc2VuY2VfaW5jb250ZW50JyB8fCBhZFVuaXQuY29kZSA9PT0gJ2Vzc2VuY2VfbGVhZGVyYm9hcmQnKQogICkgewogICAgcmV0dXJuIHRydWU7CiAgfQogIC8vIERpc2FibGUgbm9uLWNvbXBsaWFudCBhZCB1bml0cyBbQU0tNDk5XQogIGlmIChpc1NpdGUoJ2NvbW1lcmNpYWxvYnNlcnZlci5jb20nKSAmJiBhZFVuaXQuY29kZSA9PT0gJ2NvbW1lcmNpYWxvYnNlcnZlcl8zMDB4MjUwX2luY29udGVudCcpIHsKICAgIHJldHVybiB0cnVlOwogIH0KICAvLyBEaXNhYmxlIG5vbi1jb21wbGlhbnQgYWQgdW5pdHMgW0FNLTU0MV0KICBpZiAoaXNTaXRlKCdmdWppcnVtb3JzLmNvbScpICYmIGFkVW5pdC5jb2RlID09PSAnZnVqaXJ1bW9yc19hZGhlc2lvbicpIHsKICAgIHJldHVybiB0cnVlOwogIH0KICAvLyBEaXNhYmxlIG5vbi1jb21wbGlhbnQgYWQgdW5pdHMgW0FNLTU0MV0KICBpZiAoaXNTaXRlKCdzb255YWxwaGFydW1vcnMuY29tJykgJiYgYWRVbml0LmNvZGUgPT09ICdzb255YWxwaGFydW1vcnNfYWRoZXNpb24nKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLy8gRGlzYWJsZSBub24tY29tcGxpYW50IGFkIHVuaXRzIFtBTS02NTldCiAgaWYgKAogICAgaXNTaXRlKCdnb3R0YWJlbW9iaWxlLmNvbScpICYmCiAgICAoYWRVbml0LmNvZGUgPT09ICdnb3R0YWJlbW9iaWxlX2FkaGVzaW9uJyB8fAogICAgICBhZFVuaXQuY29kZS5pbmRleE9mKCdnb3R0YWJlbW9iaWxlX2luY29udGVudF9keW5hbWljJykgPT09IDApCiAgKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgLy8gRGlzYWJsZSBub24tY29tcGxpYW50IGFkIHVuaXRzIFtBTS02NTldCiAgaWYgKGlzU2l0ZSgnc291dGhlcm5zYXZlcnMuY29tJykgJiYgYWRVbml0LmNvZGUgPT09ICdzb3V0aGVybnNhdmVyc18zMDB4MjUwX1NpZGViYXI0JykgewogICAgcmV0dXJuIHRydWU7CiAgfQogIC8vIERpc2FibGUgbm9uLWNvbXBsaWFudCBhZCB1bml0cyBbQU0tNjU5XQogIGlmICgKICAgIGlzU2l0ZSgnYWxwaHIuY29tJykgJiYKICAgIChhZFVuaXQuY29kZSA9PT0gJ2FscGhyX2FydGljbGVfZGVza3RvcF9wdXNoZG93bicgfHwKICAgICAgYWRVbml0LmNvZGUuaW5kZXhPZignYWxwaHJfYXJ0aWNsZV9kZXNrdG9wX2luY29udGVudCcpID09PSAwKQogICkgewogICAgcmV0dXJuIHRydWU7CiAgfQogIC8vIERpc2FibGUgbm9uLWNvbXBsaWFudCBhZCB1bml0cyBbQU0tNjc2XQogIGlmICgKICAgIGlzU2l0ZSgncGFuem9pZC5jb20nKSAmJgogICAgYWRVbml0LmNvZGUgPT09ICdQYW56b2lkX2Rpc2N1c3Npb25wb3N0XzcyOHg5MF80Njh4NjBfMzIweDUwXzMwMHg3NScKICApIHsKICAgIHJldHVybiB0cnVlOwogIH0KICAvLyBEaXNhYmxlIG5vbi1jb21wbGlhbnQgYWQgdW5pdHMgW0FNLTY5Ml0KICBpZiAoaXNTaXRlKCdjYW1lbGNhbWVsY2FtZWwuY29tJykgJiYgYWRVbml0LmNvZGUgPT09ICdjYW1lbGNhbWVsY2FtZWxfaW5jb250ZW50JykgewogICAgcmV0dXJuIHRydWU7CiAgfQogIC8vIERpc2FibGUgbm9uLWNvbXBsaWFudCBhZCB1bml0cyBbQU0tNjU5XQogIGlmICgKICAgIGlzU2l0ZSgnYW5kcm9pZHBvbGljZS5jb20nKSAmJgogICAgKGFkVW5pdC5jb2RlID09PSAnYW5kcm9pZHBvbGljZV9hYm92ZV9wb3N0X2JvZHknIHx8CiAgICAgIGFkVW5pdC5jb2RlLmluZGV4T2YoJ2FuZHJvaWRwb2xpY2VfaW5fcG9zdF9ib2R5XycpID09PSAwKQogICkgewogICAgcmV0dXJuIHRydWU7CiAgfQp9CgpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignc2NyYXBlUHJlYmlkQWRVbml0cycsIGZ1bmN0aW9uIChldmVudCkgewogIHJldHVybiB7CiAgICBnZXRBZFVuaXRzOiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB3aW5kb3cuZnNwcmViaWQgJiYgd2luZG93LmZzcHJlYmlkLmFkVW5pdHM7CiAgICB9LAogICAgcGFyc2VBZFVuaXQ6IHBhcnNlQWRVbml0LAogICAgZmlsdGVyT3V0QWRVbml0OiBmaWx0ZXJPdXRBZFVuaXQsCiAgfTsKfSk7CgpDdXN0b21FdmVudHMuYWRkRXZlbnRMaXN0ZW5lcignb25BdWN0aW9uRW5kZWRXZWJzaXRlSG9vaycsIGZ1bmN0aW9uIChldmVudCkgewogIHZhciBlbGVtZW50ID0gZXZlbnQuZGF0YS5lbGVtZW50OwogIHZhciBiaWQgPSBldmVudC5kYXRhLmJpZDsKCiAgLy8gaGlkZSB0aGUgcGFyZW50IGVsZW1lbnQgaWYgd2UgZGlkbid0IGdldCBhIGJpZCBmb3IgdGhlIHVuaXQKICB0cnkgewogICAgaWYgKGlzU2l0ZSgnYmFja2NoaW5hLmNvbScpKSB7CiAgICAgIGlmIChlbGVtZW50LmlkID09PSAnYmFja2NoaW5hX2xlYWRlcmJvYXJkJyAmJiAhYmlkKSB7CiAgICAgICAgZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJ2Rpc3BsYXknLCAnbm9uZScsICdpbXBvcnRhbnQnKTsKICAgICAgfQogICAgfSBlbHNlIGlmIChpc1NpdGUoJ21lZXRtZS5jb20nKSkgewogICAgICBpZiAoZWxlbWVudC5pZCA9PT0gJ21lZXRtZV83Mjh4OTBfOTcweDkwX0FURicgJiYgIWJpZCkgewogICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnLCAnaW1wb3J0YW50Jyk7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlKSB7CiAgICBsZy5lcnJvcmYobnVsbCwgJ2ZhaWxlZCB0byBoaWRlIHBhcmVudCBlbGVtZW50ICVvJywgZSk7CiAgfQp9KTsKCmlmIChpc1NpdGUoJ3Bvd2VydGhlc2F1cnVzLm9yZycpIHx8IGlzU2l0ZSgncmFua2FuZHN0eWxlLmNvbScpIHx8IGlzU2l0ZSgncmFpZGVyLmlvJykpIHsKICAvLyBPdmVycmlkZSBlbGVtZW50IGd1YXJkaW5nIG9uIGFuY2VzdG9yIHVuaXRzIHRvIGVuc3VyZSB3ZWJzaXRlIChTUEEpIGNhbiBjbGVhciBET00gb24gcGFnZSBuYXZpZ2F0aW9uIFtBTS01MzRdCiAgQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ2FsbG93UmVtb3ZhbE9mQWRVbml0UGFyZW50cycsIGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB0cnVlOwogIH0pOwp9CgovLyBGaWx0ZXIgb3V0IDk3MHgyNTAgc2l6ZXMKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ21vZGlmeVNwYWNlc09uQmVmb3JlRmV0Y2hpbmcnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICB2YXIgc3BhY2UgPSBldmVudC5kYXRhLnNwYWNlOwogIHZhciBzaXplcyA9IFtdOwogIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhY2Uuc2l6ZXMubGVuZ3RoOyBpKyspIHsKICAgIHZhciBzaXplID0gc3BhY2Uuc2l6ZXNbaV07CiAgICBpZiAoc2l6ZSA9PT0gJzk3MHgyNTAnKSB7CiAgICAgIGNvbnRpbnVlOwogICAgfQogICAgc2l6ZXMucHVzaChzaXplKTsKICB9CiAgc3BhY2Uuc2l6ZXMgPSBzaXplczsKICByZXR1cm4gc3BhY2U7Cn0pOwoKLy8gRXh0ZW5kIHRoaXMgb3JnIGhvb2sgd2l0aCBgZ2V0U2l6ZXNUb1JlbW92ZUZvclNwYWNlT25XZWJzaXRlYCB3aGljaCBjYW4gYmUgZGVmaW5lZCBhcyBhIGZ1bmN0aW9uIGluIGFueSB3ZWJzaXRlIGhvb2sKdmFyIGdldFNpemVzVG9SZW1vdmVGb3JTcGFjZU9uV2Vic2l0ZTsKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3NpemVzVG9SZW1vdmVCeVNwYWNlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgdmFyIHNwYWNlTmFtZSA9IGV2ZW50LmRhdGEuc3BhY2VOYW1lOwogIHZhciBzaXplc1RvUmVtb3ZlRm9yT3JnID0gW107CgogIGlmIChpc1NpdGUoJ3dvcmxkb21ldGVycy5pbmZvJykpIHsKICAgIHNpemVzVG9SZW1vdmVGb3JPcmcgPSBbJ2ZsdWlkJywgeyB3aWR0aDogOTcwLCBoZWlnaHQ6IDI1MCB9XTsKICB9IGVsc2UgaWYgKGlzU2l0ZSgnbWluZWh1dC5jb20nKSkgewogICAgc2l6ZXNUb1JlbW92ZUZvck9yZyA9IFt7IHdpZHRoOiA5NzAsIGhlaWdodDogOTAgfV07CiAgfSBlbHNlIGlmIChpc1NpdGUoJ21lZXRtZS5jb20nKSkgewogICAgaWYgKHNwYWNlTmFtZSA9PT0gJ21lZXRtZV83Mjh4OTBfOTcweDkwX0FURicpIHsKICAgICAgc2l6ZXNUb1JlbW92ZUZvck9yZyA9IFt7IHdpZHRoOiA5NzAsIGhlaWdodDogOTAgfV07CiAgICB9CiAgfSBlbHNlIGlmIChpc1NpdGUoJ3RlY21pbnQuY29tJykpIHsKICAgIGlmIChzcGFjZU5hbWUgPT09ICd0ZWNtaW50X2luY29udGVudF8yJykgewogICAgICBzaXplc1RvUmVtb3ZlRm9yT3JnID0gWydmbHVpZCddOwogICAgfQogIH0gZWxzZSBpZiAoaXNTaXRlKCdhbGphemVlcmEuY29tJykpIHsKICAgIGlmIChzcGFjZU5hbWUgPT09ICdhbGphemVlcmFfbGVhZGVyYm9hcmRfYXRmJykgewogICAgICBzaXplc1RvUmVtb3ZlRm9yT3JnID0gW3sgd2lkdGg6IDQ2OCwgaGVpZ2h0OiA2MCB9LCAnZmx1aWQnXTsKICAgIH0KICB9IGVsc2UgaWYgKGlzU2l0ZSgnZ2FpYW9ubGluZS5jb20nKSkgewogICAgaWYgKHNwYWNlTmFtZSA9PT0gJ2dhaWFvbmxpbmVfbGVhZGVyYm9hcmRfYnRmJykgewogICAgICBzaXplc1RvUmVtb3ZlRm9yT3JnID0gWwogICAgICAgIHsgd2lkdGg6IDk3MCwgaGVpZ2h0OiAyNTAgfSwKICAgICAgICB7IHdpZHRoOiA5NzAsIGhlaWdodDogOTAgfSwKICAgICAgICB7IHdpZHRoOiAzMDAsIGhlaWdodDogMjUwIH0sCiAgICAgIF07CiAgICB9CiAgICBpZiAoc3BhY2VOYW1lID09PSAnZ2FpYW9ubGluZV9sZWFkZXJib2FyZF9hdGYnKSB7CiAgICAgIHNpemVzVG9SZW1vdmVGb3JPcmcgPSBbeyB3aWR0aDogOTcwLCBoZWlnaHQ6IDkwIH1dOwogICAgfQogIH0gZWxzZSBpZiAoaXNTaXRlKCdzbGFzaGZpbG0uY29tJykpIHsKICAgIGlmIChzcGFjZU5hbWUgPT09ICdTbGFzaEZpbG1fMzAweDI1MF8zMDB4NjAwX0FURicpIHsKICAgICAgc2l6ZXNUb1JlbW92ZUZvck9yZyA9IFt7IHdpZHRoOiAzMDAsIGhlaWdodDogNjAwIH1dOwogICAgfQogIH0KICBpZiAoZ2V0U2l6ZXNUb1JlbW92ZUZvclNwYWNlT25XZWJzaXRlKSB7CiAgICByZXR1cm4gc2l6ZXNUb1JlbW92ZUZvck9yZy5jb25jYXQoZ2V0U2l6ZXNUb1JlbW92ZUZvclNwYWNlT25XZWJzaXRlKHNwYWNlTmFtZSkpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gc2l6ZXNUb1JlbW92ZUZvck9yZzsKICB9Cn0pOwoKQ3VzdG9tRXZlbnRzLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb3ZpZGVTQ2hhaW5Db25maWcnLCBmdW5jdGlvbiAoZXZlbnQpIHsKICByZXR1cm4gewogICAgcHJlYmlkVmFyaWFibGU6ICdmc3ByZWJpZCcsCiAgICBtYW51YWxGYWxsYmFjazogewogICAgICBhc2k6ICdmcmVlc3Rhci5pbycsCiAgICAgIHNpZDogZnJlZXN0YXIuZnNkYXRhLnNpdGVJZC50b1N0cmluZygpLAogICAgfSwKICB9Owp9KTsKCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdwcmViaWREb25lSW5pdCcsIGZ1bmN0aW9uIChldmVudCkgewogIHZhciBjcGJqcyA9IGV2ZW50LmRhdGEuY3BianM7CiAgY3BianMucXVlLnB1c2goZnVuY3Rpb24gKCkgewogICAgLy8gZnJlZXN0YXIgaGFzIGVuYWJsZVNlbmRBbGxCaWRzID0gZmFsc2Ugb24gdGhlaXIgbmV0d29yawogICAgY3BianMuc2V0Q29uZmlnKHsKICAgICAgZW5hYmxlU2VuZEFsbEJpZHM6IGZhbHNlLAogICAgICBzeW5jc1BlckJpZGRlcjogMjAsCiAgICAgIHVzZXJTeW5jOiB7IGlmcmFtZUVuYWJsZWQ6IDEgfSwKICAgIH0pOwogIH0pOwp9KTsKCkN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdvbkF1Y3Rpb25SZW5kZXJlZFdlYnNpdGVIb29rJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgaWYgKCFpc1NpdGUoJ29udHZ0b25pZ2h0LmNvbScpKSB7CiAgICByZXR1cm47CiAgfQoKICAvLyB0byBlbnN1cmUgdGhlIGFkLWNvbnRhaW5lciBpcyBjZW50ZXIgYWxpZ25lZCB3ZSByZW1vdmUgdGhlIG1heC13aWR0aCBwcm9wZXJ0eSBmcm9tIHNwYWNlIHVuaXQKICAvLyBhbmQgc2V0IGEgaGFyZCB3aWR0aCBpbiB0aGUgYWQtY29udGFpbmVyCiAgdmFyIGVsZW1lbnQgPSBldmVudC5kYXRhLmVsZW1lbnQ7CiAgdmFyIG1heFdpZHRoID0gZWxlbWVudC5zdHlsZS5tYXhXaWR0aDsKICBlbGVtZW50LnN0eWxlLnJlbW92ZVByb3BlcnR5KCdtYXgtd2lkdGgnKTsKCiAgdmFyIGFob3ZlciA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLmFob3ZlcicpOwogIHZhciBnb29nbGVBZCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignW2lkXj0iZ29vZ2xlX2FkIl0nKTsKICB2YXIgY3JlYXRpdmVDb250YWluZXIgPSAhYWhvdmVyICYmIGdvb2dsZUFkID8gZ29vZ2xlQWQgOiBhaG92ZXI7CiAgY3JlYXRpdmVDb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJ3dpZHRoJywgbWF4V2lkdGgucmVwbGFjZSgnIicsICcnKSk7CiAgY3JlYXRpdmVDb250YWluZXIuc3R5bGUuc2V0UHJvcGVydHkoJ21hcmdpbicsICcwcHggYXV0byAwcHggYXV0bycpOwp9KTsKCi8vIFJlc2V0IFhNTEh0dHBSZXF1ZXN0IGJhY2sgdG8gbmF0aXZlIGltcGxlbWVudGF0aW9uIGlmIHB1YiBoYXMgb3ZlcndyaXR0ZW4gaXQKaWYgKGlzU2l0ZU9uZU9mKFsnaW5uZXJzdHJlbmd0aC56b25lJywgJ2Jyb2FkY2FzdHRyaXZpYS5jb20nLCAndGhldHJpdmlhYnVmZi5jb20nXSkpIHsKICB0cnkgewogICAgdmFyIG5hdGl2ZVhNTEh0dHBSZXF1ZXN0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh3aW5kb3cuWE1MSHR0cFJlcXVlc3QudG9TdHJpbmcoKS5pbmRleE9mKCduYXRpdmUgY29kZScpID09PSAtMSkgewogICAgICAgIHZhciBpZnIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGlmcik7CiAgICAgICAgaWZyLnN0eWxlLnNldFByb3BlcnR5KCdkaXNwbGF5JywgJ25vbmUnKTsKICAgICAgICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QgPSBpZnIuY29udGVudFdpbmRvdy5YTUxIdHRwUmVxdWVzdDsKICAgICAgICBjbGVhckludGVydmFsKG5hdGl2ZVhNTEh0dHBSZXF1ZXN0SW50ZXJ2YWwpOwogICAgICB9CiAgICB9LCAzMDApOwogIH0gY2F0Y2ggKGUpIHsKICAgIGxnLmVycm9yZihudWxsLCAnZXJyb3IgcmVzZXR0aW5nIGlmcmFtZTogJW8nLCBlKTsKICB9Cn0KCmlmIChpc1NpdGUoJ2Jhc2ViYWxsLXJlZmVyZW5jZS5jb20nKSkgewogIEN1c3RvbUV2ZW50cy5hZGRFdmVudExpc3RlbmVyKCdkaXNhYmxlU2luZ2xlUmVxdWVzdCcsIGZ1bmN0aW9uIChldmVudCkgewogICAgcmV0dXJuIHRydWU7CiAgfSk7Cn0KCg==")+"\n})")(v,M,q)}catch(w){debugger}},
F=function(){K(window);X();v.fireEvent("noWhitelistedFrame")||B();v.fireEvent("clearSpaces")&&(m=[]);return Ga().then(function(){var q=Promise.resolve();v.fireEvent("addAmazonBidder")&&(q=a());N();return q})},N=function(){var q=u.map(m,function(J){return J}),w=v.fireEvent("customSpacesFilter",{spaces:q});w&&(m=u.filter(m,function(J){return u.find(w,function(R){return R.id==J.id})}))},a=function(){return new Promise(function(q,w){window.googletag.cmd.push(function(){var J=0,R=setInterval(function(){if(10<=
J)q(),clearInterval(R);else{var ea=window.googletag.pubads().getSlots(),ia=window.apstag,pa=ia&&ia._Q&&ia._Q[0]&&ia._Q[0][1]&&ia._Q[0][1][0]&&ia._Q[0][1][0].pubID;pa&&ea?(clearInterval(R),u.forEach(ea,function(va){var Oa=va.getAdUnitPath(),ta=va&&u.find(m,function(ua){return v.fireEvent("useSlotPath")&&ua.name==Oa?!0:ua.name==va.getSlotElementId()});ta&&ta.preBiddingSettings.biddingSettings[g.consts.headerBiddingType.prebid]&&(u.find(ta.preBiddingSettings.biddingSettings[g.consts.headerBiddingType.prebid],
function(ua){return"amazonAAX"==ua.name})||ta.preBiddingSettings.biddingSettings[g.consts.headerBiddingType.prebid].push({id:Oa+"_amazon_bidder",name:"amazonAAX",testCompliance:!0,params:{pubID:pa,adUnitGPTPath:Oa}}))}),q()):J++}},100)})})},B=function(){var q=f();"chrome"==A.browser&&!v.fireEvent("only3pSafeFrame")&&q&&91>q&&(g.upoSettings.whitelistedFrameSettings.url="about:blank?upapi=true",g.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame=!1);var w=k.createSafeFrame();w.addEventListener("load",
function(){g.whitelistedFrame=w;v.fireEvent("whitelistedFrameLoaded",{whitelistedFrame:w})});w.style.width="0px";w.style.height="0px";w.style.display="none";document.body?document.body.appendChild(w):window.addEventListener("DOMContentLoaded",function(){document.body.appendChild(w)})},h=function(q,w){if(q.grumi){var J=document.createElement("iframe");J.style="display:none;width:1px;height:1px;";J.addEventListener("load",function(){J.done||(q.Node.prototype.appendChild=J.contentWindow.Node.prototype.appendChild,
q.HTMLElement.prototype.appendChild=J.contentWindow.Node.prototype.appendChild,w())});U.onDomLoaded(function(){document.body.appendChild(J);J.contentWindow&&(J.done=!0,q.Node.prototype.appendChild=J.contentWindow.Node.prototype.appendChild,q.HTMLElement.prototype.appendChild=J.contentWindow.Node.prototype.appendChild,w())})}else w()},K=function(q){q&&h(q,function(){try{q.XMLHttpRequest&&sa.Hooks.hookFunction(q.XMLHttpRequest.prototype,"open",sa.Hooks.Types.XHR_OPEN_PRE,void 0,!0);sa.Hooks.hookFunction(q,
"fetch",sa.Hooks.Types.FETCH_PRE,void 0,!0);q.HTMLElement&&sa.Hooks.hookFunction(q.HTMLElement.prototype,"insertBefore",sa.Hooks.Types.INSERT_BEFORE_PRE,void 0,!0);q.HTMLElement&&sa.Hooks.hookFunction(q.HTMLElement.prototype,"appendChild",sa.Hooks.Types.APPEND_CHILD_PRE,sa.Hooks.Types.APPEND_CHILD_POST,!0);q.HTMLImageElement&&sa.Hooks.hookFunction(q.HTMLImageElement.prototype,"setAttribute",sa.Hooks.Types.IMG_SET_ATTRIBUTE_PRE,void 0,!0);sa.Hooks.hookFunction(q,"open",sa.Hooks.Types.WIN_OPEN_PRE,
void 0,!0);q.HTMLElement&&sa.Hooks.hookPropertySetter(q.HTMLElement.prototype,"innerHTML",sa.Hooks.Types.HTML_ELEMENT_INNERHTML_PRE,void 0,!0);q.HTMLElement&&sa.Hooks.hookFunction(q.HTMLElement.prototype,"hasChildNodes",sa.Hooks.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,void 0,!0);for(var w="HTMLScriptElement HTMLElement HTMLVideoElement HTMLAudioElement HTMLHtmlElement HTMLHeadElement HTMLLinkElement HTMLStyleElement HTMLBodyElement HTMLFormElement HTMLSelectElement HTMLOptionElement HTMLInputElement HTMLTextAreaElement HTMLButtonElement HTMLLabelElement HTMLFieldSetElement HTMLLegendElement HTMLUListElement HTMLOListElement HTMLDListElement HTMLDirectoryElement HTMLMenuElement HTMLLIElement HTMLDivElement HTMLParagraphElement HTMLHeadingElement HTMLQuoteElement HTMLPreElement HTMLBRElement HTMLFontElement HTMLHRElement HTMLAnchorElement HTMLImageElement HTMLObjectElement HTMLParamElement HTMLMapElement HTMLModElement HTMLAreaElement HTMLTableElement HTMLTableCaptionElement HTMLTableColElement HTMLTableSectionElement HTMLTableRowElement HTMLTableCellElement HTMLFrameSetElement HTMLFrameElement HTMLIFrameElement".split(" "),
J=0;J<w.length;J++)q[w[J]]&&sa.Hooks.hookPropertySetter(q[w[J]].prototype,"src",sa.Hooks.Types.HTML_SRC_PROP_PRE,void 0,!0)}catch(R){}})},X=function(){sa.Hooks.addEventListener(sa.Hooks.Types.HTML_SRC_PROP_PRE,function(q){q=q.data;"object"===typeof q[0]&&q[0].toString&&(q[0]=q[0].toString());if(wa.isWhitelistURL(q[0],this.tagName))q[0]=wa.addAcceptableParam(q[0]);else if(wa.isSyncUrl(q[0],this.tagName)&&g.whitelistedFrame)return g.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame?(g.whitelistedFrame.postMessage({type:"eval",
code:"new window.Image().src = '"+q[0]+"'"},"*"),q[0]):(new g.whitelistedFrame.contentWindow.Image).src=q[0]});sa.Hooks.addEventListener(sa.Hooks.Types.HTML_ELEMENT_HAS_CHILD_NODES_PRE,function(q){try{if(u.hasClass(this,"up-show"))return!1;if(this.childNodes&&0<this.childNodes.length){q=!1;for(var w=0;w<this.children.length;w++)if(u.hasClass(this.children[w],"up-show")){q=!0;break}if(q)return!1}}catch(J){}});sa.Hooks.addEventListener(sa.Hooks.Types.HTML_ELEMENT_INNERHTML_POST,function(q){if(this&&
this.classList&&"adsbygoogle"===this.classList[0]){q=this.querySelector("iframe");var w=q.contentWindow;"about:blank"!==q.src&&""!==q.src||K(w);var J=w.document.write;w.document.write=function(R){R&&-1<R.indexOf("show_ads_impl.js")&&(R=wa.addAcceptableParam(R));J.call(this,R)}}});sa.Hooks.addEventListener(sa.Hooks.Types.XHR_OPEN_PRE,function(q){q=q.data;wa.isWhitelistURL(q[1],"SCRIPT")&&(q[1]=wa.addAcceptableParam(q[1]))});sa.Hooks.addEventListener(sa.Hooks.Types.IMG_SET_ATTRIBUTE_PRE,function(q){q=
q.data;if("srcset"===q[0].toLowerCase()){this.src&&wa.isWhitelistURL(this.src,this.tagName)&&(this.src=wa.addAcceptableParam(this.src));for(var w=q[1].split(","),J=0;J<w.length;J++){var R=w[J];R=R.trim();var ea=R.split(" ")[0];R=R.split(" ")[1]||"";wa.isWhitelistURL(ea,this.tagName)&&(R=wa.addAcceptableParam(ea)+" "+R,w[J]=R)}q[1]=w.join(",")}else"src"===q[0].toLowerCase()&&wa.isWhitelistURL(q[1],this.tagName)&&(q[1]=wa.addAcceptableParam(q[1]))});sa.Hooks.addEventListener(sa.Hooks.Types.INSERT_BEFORE_PRE,
function(q){q=q.data;v.fireEvent("InsertBeforeWebsiteHooksIntercept",{element:q[0]});-1<["SCRIPT","IFRAME"].indexOf(q[0].tagName)&&q[0].src&&wa.isWhitelistURL(q[0].src,q[0].tagName)&&(q[0].src=wa.addAcceptableParam(q[0].src));"LINK"===q[0].tagName&&q[0].href&&wa.isWhitelistURL(q[0].href,q[0].tagName)&&(q[0].href=wa.addAcceptableParam(q[0].href))});sa.Hooks.addEventListener(sa.Hooks.Types.APPEND_CHILD_PRE,function(q){var w=q.data;if(w[0]&&w[0].src&&0===w[0].src.indexOf("blob:"))q.shouldStop=!0;else{if(w[0].children&&
0<w[0].children.length)for(q=0;q<w[0].children.length;q++){var J=w[0].children[q];J.src&&wa.isWhitelistURL(J.src,J.tagName)&&(J.src=wa.addAcceptableParam(J.src));if(J.src&&wa.isSyncUrl(J.src,J.tagName)&&g.whitelistedFrame)return g.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame?(q="new Image().src = '"+w[0].src+"'",g.whitelistedFrame.postMessage({type:"eval",code:q},"*"),w[0]):g.whitelistedFrame.contentDocument.body.appendChild(w[0])}"LINK"===w[0].tagName&&w[0].href&&wa.isWhitelistURL(w[0].href,
w[0].tagName)&&(w[0].href=wa.addAcceptableParam(w[0].href));-1<["SCRIPT","IFRAME"].indexOf(w[0].tagName)&&w[0].src&&wa.isWhitelistURL(w[0].src,w[0].tagName)&&(w[0].src=wa.addAcceptableParam(w[0].src));if(wa.isSyncUrl(w[0].src,w[0].tagName)&&g.whitelistedFrame)return g.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame?(q="new Image().src = '"+w[0].src+"'",g.whitelistedFrame.postMessage({type:"eval",code:q},"*"),w[0]):g.whitelistedFrame.contentDocument.body.appendChild(w[0])}});sa.Hooks.addEventListener(sa.Hooks.Types.APPEND_CHILD_POST,
function(q){q=q.data;"IFRAME"!==q.tagName||"about:blank"!==q.src&&""!==q.src||K(q.contentWindow)});sa.Hooks.addEventListener(sa.Hooks.Types.WIN_OPEN_PRE,function(q){if(q.data[0]&&(-1<q.data[0].indexOf("clickout.sharethrough.com")||-1<q.data[0].indexOf("3lift.com/pass"))&&g.whitelistedFrame&&!g.upoSettings.whitelistedFrameSettings.isOurOriginSafeFrame)return g.whitelistedFrame.contentWindow.open(q.data[0])});sa.Hooks.addEventListener(sa.Hooks.Types.SET_ATTRIBUTE_PRE,function(q){var w=q.data[1];"class"===
q.data[0]&&0<=this.className.indexOf("up-show")&&0>w.indexOf("up-show")&&(q.data[1]+=" up-show")})},ka=function(){var q=Bb.api;window.uponit=window.uponit||{que:[]};window.uponit.slots=[];window.uponit.COMPLIANCE_STATUSES=q.COMPLIANCE_STATUSES;window.uponit.defineSlot=q.defineSlot;window.uponit.init=q.init;window.uponit.enableServices=q.enableServices;window.uponit.UPONIT_EVENTS=q.UPONIT_EVENTS;window.uponit.fetchPrebid=q.fetchPrebid;window.uponit.fetchDFP=q.fetchDFP;window.uponit.renderBid=q.renderBid;
window.uponit.fetchAndRender=q.fetchAndRender;window.uponit.addEventListener=q.addEventListener;window.uponit.addModifier=function(J,R){window.uponit.modifiers=window.uponit.modifiers||{};window.uponit.modifiers[J]=window.uponit.modifiers[J]||[];window.uponit.modifiers[J].push(R)};for(q=0;q<window.uponit.que.length;q++){var w=window.uponit.que[q];try{w()}catch(J){}}window.uponit.que.push=function(J){J()}},Aa=function(q){q=Object.entries(q).map(function(w){var J=$jscomp.makeIterator(w);w=J.next().value;
J=J.next().value;var R={};R.id=w;R.name=J.unit;R.staging=J.staging;R.selector={position:J.selector.position,value:J.selector.value};R.sizes=J.sizes;var ea=J.prebids&&0<Object.keys(J.prebids).length;R.preBiddingSettings={enabled:ea,biddingSettings:{}};ea&&(R.preBiddingSettings.biddingSettings[1]=[],Object.entries(J.prebids).forEach(function(ia){var pa=$jscomp.makeIterator(ia);ia=pa.next().value;pa=pa.next().value;R.preBiddingSettings.biddingSettings[1].push({id:ia,name:pa.bidder,testCompliance:!0,
params:pa.params})}));R.postBiddingSettings={adxId:J.adx,directId:J.direct,enabled:M.dfpEnabled&&"0"!=J.adx,type:1,order:[{params:{},adx:{bidderID:J.adx,testCompliance:!0},direct:{bidderID:J.direct,testCompliance:!0}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:J.adx,testCompliance:!1},direct:{bidderID:J.direct,testCompliance:!0}}]};return[w,R]});return Object.fromEntries(q)},fa=function(q){var w=[],J;for(J in q)if(q.hasOwnProperty(J)){var R=q[J];R.id=J;R=new H.Space(R);w.push(R)}return w},
Ga=function(){var q=v.fireEvent("extractPublisherSpacesSettings");if(!q)return Promise.resolve();var w=q.timeout||2E3;return new Promise(function(J,R){q.callback(function(ea){ea=ea.adUnits;for(var ia=0;ia<ea.length;ia++){var pa=L(ea[ia]);(pa=pa&&new H.Space(pa))&&m.push(pa)}J()});setTimeout(function(){J()},w)})};I.init=function(){if(!window.uponitAlreadyLoaded){window.uponitAlreadyLoaded=!0;gb.$XHRService.init("api.btloader.com",{secure:!0});try{S.init(),wb.Verifications.run(),wb.Report.init()}catch(J){}A=
{browser:$a.browser(),device:$a.device(),platform:$a.platform(),isMobile:$a.isMobile()};window.__upo_d.isMobile=A.isMobile;var q={browser:A.browser,device:A.device,platform:A.platform,isMobile:A.isMobile};v.addEventListener("getUserEnvDataWebsiteHooks",function(){return q});window.__upo_d.userEvnData=q;r();ja();fb.loadSettings();var w=v.fireEvent("hookDFPEnabledValue");w&&(M.dfpEnabled=w);try{m=fa(Aa(m)),m=(new URLSearchParams(window.location.search)).has("blockthrough_staging")?m.filter(function(J){return J.staging}):
m.filter(function(J){return!J.staging})}catch(J){Q.errorf(null,"main: init - parsing static spaces - %o",J)}ka();v.fireEvent("shouldDisableUponit")?Q.noticef(null,"halting: we have been disabled by hooks"):(v.fireEvent("FirePublisherEvent",{eventName:"AcceptableAdsInit",payload:{detail:!0}}),v.fireEvent("FirePublisherEvent",{eventName:"uponitInit",payload:{detail:!0}}),F().then(function(){M.prebidEnabled=!(!u.find(m,function(R){return R.preBiddingSettings&&R.preBiddingSettings.enabled})&&!v.fireEvent("scrapePrebidAdUnits"));
var J={spaces:m,settings:{prebid:v.fireEvent("forcePrebidEnabled")||M.prebidEnabled,dfp:M.dfpEnabled}};U.onDomLoaded(function(){v.fireEvent("onDomLoaded");v.fireEvent("onBeforeRecovery",{spaces:m,settings:J.settings});Ma.invoke(J)})}))}};var Ma=new function(){function q(){window.googletag.cmd.push(function(){var ba=window.googletag.pubads().getSlots();u.forEach(ba,function(Z){x(Z)})})}function w(){return window.pbjs&&window.pbjs.adUnits}function J(){var ba=[],Z=v.fireEvent("auctionBlockerHook");Z&&
ba.push(Z);return ba}function R(ba,Z){var la=J();return Promise.all(la).then(function(){return Ea(ba)}).then(function(ma){return Ua(ma,Z)}).then(function(ma){return ma.map(function(ha){return ha.space})})}function ea(){try{history.pushState=function(ba){return function(){var Z=ba.apply(this,arguments);window.dispatchEvent(new Event("pushstate"));window.dispatchEvent(new Event("locationchange"));return Z}}(history.pushState),history.replaceState=function(ba){return function(){var Z=ba.apply(this,arguments);
window.dispatchEvent(new Event("replacestate"));window.dispatchEvent(new Event("locationchange"));return Z}}(history.replaceState),window.addEventListener("popstate",function(){window.dispatchEvent(new Event("locationchange"))})}catch(ba){Q.errorf(null,"setting up locationchange event - error: %o",ba)}}function ia(ba,Z){var la=k.getElementWithSelector('[id="'+ba+'"]');if(la)return(ba=W.getByElement(la))?ba.space:va(Z).find(function(ma){return(ma=k.getSpaceElement(ma))&&ma===la})}function pa(ba,Z){var la,
ma,ha,ya,Ia,jb;return $jscomp.asyncExecutePromiseGeneratorProgram(function(Ja){switch(Ja.nextAddress){case 1:la={definedSlotsFilteringSettings:{dfpEnabled:ta.dfp,alwaysFilterByGoogletagSlots:db}},Z=Object.assign({},la,Z),ma=ba.filter(function(Za){return Za.state===H.Unit.States.PENDING}),ma.forEach(function(Za){Za.state=H.Unit.States.CHECKING}),ha=[].concat($jscomp.arrayFromIterable(ma)),ya=$jscomp.makeIterator(Ba),Ia=ya.next();case 2:if(Ia.done){Ja.jumpTo(4);break}jb=Ia.value;return Ja.yield(jb(ma,
Z),5);case 5:ma=Ja.yieldResult;ha=ha.filter(function(Za){var bb=ma.includes(Za);bb||(Za.state=H.Unit.States.PENDING);return bb});Ia=ya.next();Ja.jumpTo(2);break;case 4:return Ja.return(ma)}})}function va(ba){ba=void 0===ba?[]:ba;return ba.filter(function(Z){return!W.getBySpace(Z)})}var Oa=!1,ta,ua={};ua[g.consts.refreshType.ALL]=[];ua[g.consts.refreshType.VISIBLE]=[];ua[g.consts.refreshType.HIDDEN]=[];var Na=[],Sa=[],Ta=[],db=!1,C=function(ba,Z){if(!Oa){Oa=!0;t.set(ba);ta=Z||{};db=v.fireEvent("alwaysFilterByGoogletagSlots");
Pa(ta);(ta.dfp||db)&&Fa();q();oa();(Ta=v.fireEvent("movePositionRules")||[],0<Ta.length)&&k.movePositionService.setMovePositionRules(Ta);U.onScroll(function(){var ha=t.getAll();eb();Ya(g.consts.refreshType.ALL);Y(ha)});U.onBlur(function(){var ha=v.fireEvent("onBlurRefresh");"ALL"===ha?Ya(g.consts.refreshType.ALL):"VISIBLE"===ha?Ya(g.consts.refreshType.VISIBLE):Ya(g.consts.refreshType.HIDDEN)});ea();v.fireEvent("disableRefreshOnLocationChange")||window.addEventListener("locationchange",function(){Ya(g.consts.refreshType.ALL)});
if(ba=v.fireEvent("refreshOnInterval")){var la=ba.refreshInterval||2E3;Q.infof(null,"going to dispatch refresher on a %o sec(s) interval",la/1E3);var ma=function(){Ya(g.consts.refreshType.VISIBLE)};refreshOnIntervalCallbackID=setInterval(ma,la);U.onFocus(function(){refreshOnIntervalCallbackID||(refreshOnIntervalCallbackID=setInterval(ma,la))});U.onBlur(function(){refreshOnIntervalCallbackID&&(clearInterval(refreshOnIntervalCallbackID),refreshOnIntervalCallbackID=null)})}qb.dispatch.subscribeForEvent("refresh",
function(ha){var ya=t.getAll();u.forEach(ha,function(Ia){if(Ia=ia(Ia,ya))0>ua[g.consts.refreshType.ALL].indexOf(Ia)&&ua[g.consts.refreshType.ALL].push(Ia),Ya(g.consts.refreshType.HIDDEN)})});v.addEventListener("refreshByForce",function(ha){ha=(ha=ha.data)&&ha.settings;var ya=t.getAll(),Ia=ha&&ha.spacesNames,jb=ha&&ha.shouldRefreshAllSpaces,Ja=[],Za={filteringSettings:{minTimeBetweenRefreshes:ha&&ha.minTimeBetweenRefreshes}};ha&&ha.shouldRefreshFailedSpaces&&u.forEach(Na,function(bb){Ja.push(bb)});
Ia&&(Ja=u.filter(ya,function(bb){return-1<Ia.indexOf(bb.name)}));jb&&(Ja=ya);Ja=u.distinct(Ja);R(Ja,Za).then(function(bb){Na=u.filter(Ja,function(cb){return 0>bb.indexOf(cb)})})});v.addEventListener("websiteHooksGetSpaces",function(){return t.getAll()});if(ba=v.fireEvent("scrapePrebidAdUnits"))"boolean"===typeof ba&&(ba={}),O(ba);v.fireEvent("scrapeGoogletagSlots")&&window.googletag.cmd.push(function(){var ha=window.googletag.pubads().getSlots();ha=u.map(ha,function(ya){var Ia=Ha(ya);v.fireEvent("addAmazonBidder")&&
La(Ia,ya.getAdUnitPath());return Ia});u.forEach(ha,function(ya){ya&&t.set(ya)})});(ta.dfp||db)&&window.googletag.cmd.push(function(){var ha=window.googletag.pubads().getSlots();ha&&u.forEach(ha,function(ya){xa(ya)})});aa()}},O=function(ba){var Z=ba.getAdUnits||w,la=ba.filterOutAdUnit,ma=ba.parseAdUnit,ha=ba.postParsingAdUnits;ba=ba.parseInterval||1E3;var ya,Ia=[],jb=function(){ya=Z()||[];if(0<ya.length){for(var Ja=[],Za=[],bb=0;bb<ya.length;bb++){var cb=ya[bb];!cb||0<=Ia.indexOf(cb)||(cb=JSON.parse(JSON.stringify(cb)),
cb=ma?ma(cb):cb,la&&la(cb)||(Ia.push(cb),Ja.push(cb)))}0!==Ja.length&&(Ja=ha?ha(Ja):Ja,u.forEach(Ja,function(lb){(lb=(lb=L(lb))&&new H.Space(lb))&&(0<t.getSpacesByName(lb.name).length||Za.push(lb))}),0!==Za.length&&(t.set(Za),Y(Za)))}};jb();setInterval(function(){jb()},ba)},aa=function(){window.__upo_d.getSpaces=function(){return t.getAll()};window.__upo_d.getUnits=function(){return W.getAll()};window.__upo_d.getAuctions=function(){return Sa}},Y=function(ba){ba=va(ba);return R(ba)},oa=function(){var ba=
t.getAll();v.fireEvent("listenToNewSpaces",{spaces:ba,callback:function(Z){if(Z){for(var la=0;la<Z.length;la++){var ma=Z[la];(ma=ma&&new H.Space(ma))&&t.set(ma)}Z=t.getAll();Y(Z)}}})},qa=[],Da,xa=function(ba){var Z=ba.getSlotElementId(),la=ba.getAdUnitPath(),ma=t.getAll(),ha=ia(Z,ma);if(!ha){if(v.fireEvent("useSlotPath"))ha=t.getSpacesByName(la.split("/")[la.split("/").length-1])[0];else{var ya=v.fireEvent("customGetSpace",{spaces:ma,divId:Z,slot:ba});ya&&(ha=u.find(ma,function(Ia){return Ia.name==
ya.name}))}if(ha=ha&&JSON.parse(JSON.stringify(ha)))ha.selector.value=wa.escapeSelector("#"+Z),ha.name=Z,t.set(ha)}ha||(Z=v.fireEvent("extractPublisherSpaceLaterDefineSlot",{name:Z}))&&(ha=(ha=L(Z))&&new H.Space(ha))&&t.set(ha);!ha&&v.fireEvent("scrapeGoogletagSlots")&&(ha=Ha(ba))&&t.set(ha);ha&&0>qa.indexOf(ha)&&(v.fireEvent("addAmazonBidder")&&La(ha,la),qa.push(ha),clearTimeout(Da),Da=setTimeout(function(){R(qa);qa=[]},100))},Fa=function(){var ba="push";window.googletag&&window.googletag.cmd.unshift&&
(ba="unshift");window.googletag.cmd[ba](function(){var Z=window.googletag.defineSlot;window.googletag.defineSlot=function(ma,ha,ya){var Ia=Z(ma,ha,ya);setTimeout(function(){Ia&&!x(Ia)&&xa(Ia)},0);return Ia};if(v.fireEvent("overrideDefineOutOfPageSlot")){var la=window.googletag.defineOutOfPageSlot;window.googletag.defineOutOfPageSlot=function(ma,ha){var ya=la(ma,ha);setTimeout(function(){ya&&!x(ya)&&xa(ya)},0);return ya}}})},Ha=function(ba){if(ba&&!v.fireEvent("shouldIgnoreGoogletagSlotScraping",{slot:ba})){var Z=
ba.getSlotElementId();ba=ba.getSizes();ba=u.map(ba,function(ha){if(ha.getWidth)return ha.getWidth()+"x"+ha.getHeight()});ba=u.filter(ba,function(ha){return!!ha});var la="adxId_"+Z,ma="directId_"+Z;Z={id:Z,name:Z,staging:!1,selector:{value:wa.escapeSelector("#"+Z),position:g.consts.selectorPosition.APPEND_CHILD},sizes:ba,preBiddingSettings:{enabled:!0,biddingSettings:{}},postBiddingSettings:{adxId:la,directId:ma,enabled:ta.dfp,type:1,order:[{params:{},adx:{bidderID:la,testCompliance:!0},direct:{bidderID:ma,
testCompliance:!0}},{params:{queryParams:{ad_type:"text"}},adx:{bidderID:la,testCompliance:!1},direct:{bidderID:ma,testCompliance:!0}}]}};Z.preBiddingSettings.biddingSettings[g.consts.headerBiddingType.prebid]=[];return new H.Space(Z)}},La=function(ba,Z){if(ba&&ba.preBiddingSettings.biddingSettings[g.consts.headerBiddingType.prebid]&&!u.find(ba.preBiddingSettings.biddingSettings[g.consts.headerBiddingType.prebid],function(ma){return"amazonAAX"==ma.name})){var la=window.apstag;(la=la&&la._Q&&la._Q[0]&&
la._Q[0][1]&&la._Q[0][1][0]&&la._Q[0][1][0].pubID)&&Z&&ba.preBiddingSettings.biddingSettings[g.consts.headerBiddingType.prebid].push({id:Z+"_amazon_bidder",name:"amazonAAX",testCompliance:!0,params:{pubID:la,adUnitGPTPath:Z}})}},Pa=function(ba){for(var Z in ba)if(ba.hasOwnProperty(Z)&&ba[Z]){presetsCbs=[];postsetsCbs=[];var la=nb.presetProvider(Z),ma=vb.postsetProvider(Z);la&&presetsCbs.push(la);ma&&postsetsCbs.push(ma);la=v.fireEvent("thirdPartyModulePreset",{type:Z});ma=v.fireEvent("thirdPartyModulePostset",
{type:Z});la&&presetsCbs.push(la);ma&&postsetsCbs.push(ma);u.forEach(presetsCbs,function(ha){ob.addPresetCallback(Z,ha)});u.forEach(postsetsCbs,function(ha){ob.addPostsetCallback(Z,ha)});ob.loadThirdParty(Z)}},Ba=[b,n,e,p,d];this.invoke=function(ba){if(!window.__bt_intrnl.stopFlag){var Z=ba.spaces;C(Z,ba.settings);Y(Z);var la=1,ma=setInterval(function(){15==la&&clearInterval(ma);la++;Y(Z)},100)}};var Ea=function(ba){var Z=[],la=[];u.forEach(ba,function(ma){var ha=k.getSpaceElement(ma);if(ha){var ya=
W.getByElement(ha);ya||(ha.alreadyWraped||(sa.Hooks.hookFunction(ha,"setAttribute",sa.Hooks.Types.SET_ATTRIBUTE_PRE,void 0,!0),ha.alreadyWraped=!0),ya=new H.Unit({element:ha,space:ma}),v.fireEvent("onNewUnitFound",ya),W.set(ya),la.push(ya));ya&&ya.space==ma&&Z.push(ya)}});G(la);return Z},Qa=function(ba){for(var Z=0;Z<ba.length;Z++){var la=ba[Z],ma=v.fireEvent("modifySpacesOnBeforeFetching",{space:la.space});if(ma){var ha=t.getAll();ma=new H.Space(ma);la.space=ma;for(la=0;la<ha.length;la++){var ya=
ha[la];if(ya.id==ma.id){t.remove(ya);break}}t.set(ma)}}},Ua=function(ba,Z){return new Promise(function(la,ma){v.fireEvent("onBeforeInvokeDispatch",{spaces:u.map(ba,function(ha){return ha.space})});Qa(ba);ma={};Z&&(ma=Z.filteringSettings||{});pa(ba,ma).then(function(ha){try{if(la(ha),ha&&!(0>=ha.length)){var ya=u.map(ha,function(Ja){return Ja.space});k.movePositionService.dispatch(ya);var Ia=u.map(ha,function(Ja){return new H.Auction({unit:Ja})});v.fireEvent("onAuctionGroupStarted",Ia);sb(Ia);if(!window.__bt_intrnl.stopFlag){v.fireEvent("onPrebiddingStarted",
Ia);var jb=qb.dispatch.dispatchHB(Ia);Promise.all(jb).then(function(Ja){v.fireEvent("onPrebiddingEnded",Ia);for(var Za=0;Za<Ja.length;Za++){var bb=Ja[Za],cb=bb.auctionId,lb=bb.bids;u.forEach(Ia,function(tb){tb.auctionId==cb&&tb.addBids(lb)})}Ja={forceCompliantEnabled:v.fireEvent("forceCompliant")};window.__bt_intrnl.stopFlag||(Ja=qb.dispatch.dispatchAS(Ia,Ja),u.forEach(Ja,function(tb,Eb){tb.then(function(Db){var Ra=u.find(Ia,function(mb){return mb.auctionId==Db.auctionId}),yb=Ra.getWinningBid(),kb=
Db.bids;kb&&0<kb.length?u.forEach(kb,function(mb){mb.type==H.Bid.Types.DFP_PREBID?yb&&yb.additionalBidsToRender.push(mb):Ra.addBids([mb])}):ta.dfp&&Ra.unit.space.postBiddingSettings.enabled&&yb&&Ra.cancelAuction();if(!window.__bt_intrnl.stopFlag){var hb=Ra.getWinningBid();localStorage.getItem("forceDefaultCreative")&&(hb=void 0);!hb&&(kb=v.fireEvent("getDefaultCreative",{auction:Ra}))&&(kb={width:kb.width,height:kb.height,creativeHTML:kb.creativeHTML},hb=y(kb,Ra),Ra.addBids([hb]));Ra.subscribeForEvent("auctionRendered",
function(){v.fireEvent("onAuctionRendered",{auction:Ra,bid:hb});v.fireEvent("onAuctionRenderedWebsiteHook",{space:Ra.unit.space,element:Ra.unit.element,winningBid:hb});ib.onVisible(Ra.unit.element,function(){v.fireEvent("onAdViewed",{auction:Ra,bid:hb});v.fireEvent("onAdViewedWebsiteHook",{space:Ra.unit.space,element:Ra.unit.element,winningBid:hb})})});Ra.subscribeForEvent("renderBidDone",function(mb){v.fireEvent("onAuctionEnded",{auction:Ra,bid:mb.successfulyRenderedBid&&hb});v.fireEvent("onAuctionEndedWebsiteHook",
{element:Ra.unit.element,bid:mb.successfulyRenderedBid&&hb})});Ra.renderBid(hb);Ra.unit.state=H.Unit.States.PENDING;Va(Ra.unit.space)}})}))})}}}catch(Ja){Q.errorf(null,"recovery: filterUnits %o",Ja)}})})},Va=function(ba){var Z=v.fireEvent("spaceRefreshSettings",{space:ba});if(Z){var la=k.refreshTypeDecoder(Z.type);la==g.consts.refreshType.UNKNOWN?Q.errorf(null,"invalid refresh type setting %o",Z.type):(Z=Z.rate||3E4,0>ua[la].indexOf(ba)&&ua[la].push(ba),Q.infof(null,"setting up refresh(%s) for space %o in %o secs",
la,ba.name,Z/1E3),setTimeout(function(){Ya(la)},Z))}},ab,Ya=function(ba){clearTimeout(ab);ab=setTimeout(function(){var Z=[];switch(ba){case g.consts.refreshType.ALL:Z=ua[ba];break;case g.consts.refreshType.VISIBLE:Z=pb(ua[ba]);Z.push.apply(Z,$jscomp.arrayFromIterable(pb(ua[g.consts.refreshType.ALL])));break;case g.consts.refreshType.HIDDEN:Z=Wa(ua[ba]);Z.push.apply(Z,$jscomp.arrayFromIterable(Wa(ua[g.consts.refreshType.ALL])));break;default:Z=ua[ba]||[]}if(1>Z.length)Q.infof(null,"nothing to refresh");
else{var la=Z.filter(function(ma,ha,ya){return ya.indexOf(ma)===ha});Q.infof(null,"dispatch trying to refresh %o spaces out of %o with type %o",la.length,ua[ba].length,ba);R(la).then(function(ma){ma=ma||[];var ha=[];u.forEach(la,function(ya){0>ma.indexOf(ya)&&ha.push(ya)});Q.infof(null,"refreshed %o spaces out of %o",ma.length,la.length);ua[ba]=ha})}},1E3)},sb=function(ba){u.forEach(ba,function(Z){Z.state=H.Auction.States.DISPATCHED;Z.unit.state=H.Unit.States.DISPATCHED;Sa.push(Z);Z.unit.countOfDispatches++;
Z.unit.lastInvokeTime=new Date;v.fireEvent("onAuctionStarted",{auction:Z})})},pb=function(ba){for(var Z=[],la=0;la<ba.length;la++){var ma=ba[la];ib.isElementVisible(ma.selector.value)&&Z.push(ma)}return Z},Wa=function(ba){if(!document.hasFocus())return ba;for(var Z=[],la=0;la<ba.length;la++){var ma=ba[la];ib.isElementVisible(ma.selector.value)||Z.push(ma)}return Z},Xa,eb=function(){clearTimeout(Xa);Xa=setTimeout(function(){try{var ba=v.fireEvent("extractPublisherSpacesLaterDefinedUnits");if(ba)for(var Z=
0;Z<ba.length;Z++){var la=L(ba[Z]),ma=la&&new H.Space(la);ma&&t.set(ma)}}catch(ha){}},1E3)}},t=new function(){var q=[],w={},J={};this.set=function(R){Array.isArray(R)||(R=[R]);for(var ea=0;ea<R.length;ea++){var ia=R[ea];ia&&(q.push(ia),w[ia.name]=w[ia.name]||[],w[ia.name].push(ia),J[ia.id]=J[ia.id]||[],J[ia.id].push(ia))}};this.getSpacesByName=function(R){return w[R]||[]};this.getSpacesByID=function(R){return J[R]||[]};this.getAll=function(){return q};this.remove=function(R){q=u.filter(q,function(ia){return ia!=
R});var ea=J[R.id].indexOf(R);0<=ea&&J[R.id].splice(ea,1);ea=w[R.name].indexOf(R);0<=ea&&w[R.name].splice(ea,1)}},W=new function(){var q=[];this.set=function(w){q.push(w)};this.getBySpace=function(w){for(var J=0;J<q.length;J++){var R=q[J];if(R.space==w)return R}};this.getByElement=function(w){for(var J=0;J<q.length;J++){var R=q[J];if(R.element==w)return R}};this.getAll=function(){return q}}})(Cb);Cb.init(z[0])})(arguments);

})({});
